var K4=Object.defineProperty;var j4=(t,e,n)=>e in t?K4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mv=(t,e,n)=>j4(t,typeof e!="symbol"?e+"":e,n);function Y4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Zi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gv={exports:{}},Uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function J4(){if(yC)return Uc;yC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Uc.Fragment=e,Uc.jsx=n,Uc.jsxs=n,Uc}var vC;function W4(){return vC||(vC=1,gv.exports=J4()),gv.exports}var H=W4(),yv={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function X4(){if(_C)return Ue;_C=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),_=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function M(j,oe,pe){this.props=j,this.context=oe,this.refs=w,this.updater=pe||b}M.prototype.isReactComponent={},M.prototype.setState=function(j,oe){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,oe,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=M.prototype;function k(j,oe,pe){this.props=j,this.context=oe,this.refs=w,this.updater=pe||b}var G=k.prototype=new q;G.constructor=k,C(G,M.prototype),G.isPureReactComponent=!0;var z=Array.isArray;function K(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function N(j,oe,pe){var ge=pe.ref;return{$$typeof:t,type:j,key:oe,ref:ge!==void 0?ge:null,props:pe}}function B(j,oe){return N(j.type,oe,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function F(j){var oe={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(pe){return oe[pe]})}var U=/\/+/g;function ye(j,oe){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):oe.toString(36)}function we(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(K,K):(j.status="pending",j.then(function(oe){j.status==="pending"&&(j.status="fulfilled",j.value=oe)},function(oe){j.status==="pending"&&(j.status="rejected",j.reason=oe)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function W(j,oe,pe,ge,Ie){var Oe=typeof j;(Oe==="undefined"||Oe==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(Oe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case t:case e:Ne=!0;break;case h:return Ne=j._init,W(Ne(j._payload),oe,pe,ge,Ie)}}if(Ne)return Ie=Ie(j),Ne=ge===""?"."+ye(j,0):ge,z(Ie)?(pe="",Ne!=null&&(pe=Ne.replace(U,"$&/")+"/"),W(Ie,oe,pe,"",function(Le){return Le})):Ie!=null&&(V(Ie)&&(Ie=B(Ie,pe+(Ie.key==null||j&&j.key===Ie.key?"":(""+Ie.key).replace(U,"$&/")+"/")+Ne)),oe.push(Ie)),1;Ne=0;var Pt=ge===""?".":ge+":";if(z(j))for(var se=0;se<j.length;se++)ge=j[se],Oe=Pt+ye(ge,se),Ne+=W(ge,oe,pe,Oe,Ie);else if(se=A(j),typeof se=="function")for(j=se.call(j),se=0;!(ge=j.next()).done;)ge=ge.value,Oe=Pt+ye(ge,se++),Ne+=W(ge,oe,pe,Oe,Ie);else if(Oe==="object"){if(typeof j.then=="function")return W(we(j),oe,pe,ge,Ie);throw oe=String(j),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function re(j,oe,pe){if(j==null)return j;var ge=[],Ie=0;return W(j,ge,"","",function(Oe){return oe.call(pe,Oe,Ie++)}),ge}function he(j){if(j._status===-1){var oe=j._result;oe=oe(),oe.then(function(pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=pe)},function(pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=pe)}),j._status===-1&&(j._status=0,j._result=oe)}if(j._status===1)return j._result.default;throw j._result}var ve=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ke={map:re,forEach:function(j,oe,pe){re(j,function(){oe.apply(this,arguments)},pe)},count:function(j){var oe=0;return re(j,function(){oe++}),oe},toArray:function(j){return re(j,function(oe){return oe})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ue.Activity=m,Ue.Children=ke,Ue.Component=M,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=k,Ue.StrictMode=r,Ue.Suspense=f,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(j){return P.H.useMemoCache(j)}},Ue.cache=function(j){return function(){return j.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(j,oe,pe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ge=C({},j.props),Ie=j.key;if(oe!=null)for(Oe in oe.key!==void 0&&(Ie=""+oe.key),oe)!O.call(oe,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&oe.ref===void 0||(ge[Oe]=oe[Oe]);var Oe=arguments.length-2;if(Oe===1)ge.children=pe;else if(1<Oe){for(var Ne=Array(Oe),Pt=0;Pt<Oe;Pt++)Ne[Pt]=arguments[Pt+2];ge.children=Ne}return N(j.type,Ie,ge)},Ue.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},Ue.createElement=function(j,oe,pe){var ge,Ie={},Oe=null;if(oe!=null)for(ge in oe.key!==void 0&&(Oe=""+oe.key),oe)O.call(oe,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ie[ge]=oe[ge]);var Ne=arguments.length-2;if(Ne===1)Ie.children=pe;else if(1<Ne){for(var Pt=Array(Ne),se=0;se<Ne;se++)Pt[se]=arguments[se+2];Ie.children=Pt}if(j&&j.defaultProps)for(ge in Ne=j.defaultProps,Ne)Ie[ge]===void 0&&(Ie[ge]=Ne[ge]);return N(j,Oe,Ie)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(j){return{$$typeof:u,render:j}},Ue.isValidElement=V,Ue.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:he}},Ue.memo=function(j,oe){return{$$typeof:d,type:j,compare:oe===void 0?null:oe}},Ue.startTransition=function(j){var oe=P.T,pe={};P.T=pe;try{var ge=j(),Ie=P.S;Ie!==null&&Ie(pe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(K,ve)}catch(Oe){ve(Oe)}finally{oe!==null&&pe.types!==null&&(oe.types=pe.types),P.T=oe}},Ue.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ue.use=function(j){return P.H.use(j)},Ue.useActionState=function(j,oe,pe){return P.H.useActionState(j,oe,pe)},Ue.useCallback=function(j,oe){return P.H.useCallback(j,oe)},Ue.useContext=function(j){return P.H.useContext(j)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(j,oe){return P.H.useDeferredValue(j,oe)},Ue.useEffect=function(j,oe){return P.H.useEffect(j,oe)},Ue.useEffectEvent=function(j){return P.H.useEffectEvent(j)},Ue.useId=function(){return P.H.useId()},Ue.useImperativeHandle=function(j,oe,pe){return P.H.useImperativeHandle(j,oe,pe)},Ue.useInsertionEffect=function(j,oe){return P.H.useInsertionEffect(j,oe)},Ue.useLayoutEffect=function(j,oe){return P.H.useLayoutEffect(j,oe)},Ue.useMemo=function(j,oe){return P.H.useMemo(j,oe)},Ue.useOptimistic=function(j,oe){return P.H.useOptimistic(j,oe)},Ue.useReducer=function(j,oe,pe){return P.H.useReducer(j,oe,pe)},Ue.useRef=function(j){return P.H.useRef(j)},Ue.useState=function(j){return P.H.useState(j)},Ue.useSyncExternalStore=function(j,oe,pe){return P.H.useSyncExternalStore(j,oe,pe)},Ue.useTransition=function(){return P.H.useTransition()},Ue.version="19.2.0",Ue}var EC;function yu(){return EC||(EC=1,yv.exports=X4()),yv.exports}var R=yu();const lN=Zi(R),Q4=Y4({__proto__:null,default:lN},[R]);var vv={exports:{}},qc={},_v={exports:{}},Ev={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function Z4(){return TC||(TC=1,(function(t){function e(W,re){var he=W.length;W.push(re);e:for(;0<he;){var ve=he-1>>>1,ke=W[ve];if(0<i(ke,re))W[ve]=re,W[he]=ke,he=ve;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],he=W.pop();if(he!==re){W[0]=he;e:for(var ve=0,ke=W.length,j=ke>>>1;ve<j;){var oe=2*(ve+1)-1,pe=W[oe],ge=oe+1,Ie=W[ge];if(0>i(pe,he))ge<ke&&0>i(Ie,pe)?(W[ve]=Ie,W[ge]=he,ve=ge):(W[ve]=pe,W[oe]=he,ve=oe);else if(ge<ke&&0>i(Ie,he))W[ve]=Ie,W[ge]=he,ve=ge;else break e}}return re}function i(W,re){var he=W.sortIndex-re.sortIndex;return he!==0?he:W.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,m=null,_=3,A=!1,b=!1,C=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(W){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=W)r(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(d)}}function z(W){if(C=!1,G(W),!b)if(n(f)!==null)b=!0,K||(K=!0,F());else{var re=n(d);re!==null&&we(z,re.startTime-W)}}var K=!1,P=-1,O=5,N=-1;function B(){return w?!0:!(t.unstable_now()-N<O)}function V(){if(w=!1,K){var W=t.unstable_now();N=W;var re=!0;try{e:{b=!1,C&&(C=!1,q(P),P=-1),A=!0;var he=_;try{t:{for(G(W),m=n(f);m!==null&&!(m.expirationTime>W&&B());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,_=m.priorityLevel;var ke=ve(m.expirationTime<=W);if(W=t.unstable_now(),typeof ke=="function"){m.callback=ke,G(W),re=!0;break t}m===n(f)&&r(f),G(W)}else r(f);m=n(f)}if(m!==null)re=!0;else{var j=n(d);j!==null&&we(z,j.startTime-W),re=!1}}break e}finally{m=null,_=he,A=!1}re=void 0}}finally{re?F():K=!1}}}var F;if(typeof k=="function")F=function(){k(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ye=U.port2;U.port1.onmessage=V,F=function(){ye.postMessage(null)}}else F=function(){M(V,0)};function we(W,re){P=M(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(W){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var he=_;_=re;try{return W()}finally{_=he}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=_;_=W;try{return re()}finally{_=he}},t.unstable_scheduleCallback=function(W,re,he){var ve=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ve+he:ve):he=ve,W){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=he+ke,W={id:h++,callback:re,priorityLevel:W,startTime:he,expirationTime:ke,sortIndex:-1},he>ve?(W.sortIndex=he,e(d,W),n(f)===null&&W===n(d)&&(C?(q(P),P=-1):C=!0,we(z,he-ve))):(W.sortIndex=ke,e(f,W),b||A||(b=!0,K||(K=!0,F()))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var re=_;return function(){var he=_;_=re;try{return W.apply(this,arguments)}finally{_=he}}}})(Ev)),Ev}var AC;function e3(){return AC||(AC=1,_v.exports=Z4()),_v.exports}var Tv={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function t3(){if(SC)return Vn;SC=1;var t=yu();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,h)},Vn.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},Vn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Vn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Vn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:_,fetchPriority:A}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:_,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Vn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Vn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Vn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Vn.requestFormReset=function(f){r.d.r(f)},Vn.unstable_batchedUpdates=function(f,d){return f(d)},Vn.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},Vn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Vn.version="19.2.0",Vn}var bC;function uN(){if(bC)return Tv.exports;bC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tv.exports=t3(),Tv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC;function n3(){if(wC)return qc;wC=1;var t=e3(),e=yu(),n=uN();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function f(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var c=o,p=s;;){var E=c.return;if(E===null)break;var T=E.alternate;if(T===null){if(p=E.return,p!==null){c=p;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===c)return f(E),o;if(T===p)return f(E),s;T=T.sibling}throw Error(r(188))}if(c.return!==p.return)c=E,p=T;else{for(var x=!1,D=E.child;D;){if(D===c){x=!0,c=E,p=T;break}if(D===p){x=!0,p=E,c=T;break}D=D.sibling}if(!x){for(D=T.child;D;){if(D===c){x=!0,c=T,p=E;break}if(D===p){x=!0,p=T,c=E;break}D=D.sibling}if(!x)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var U=Symbol.for("react.client.reference");function ye(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===U?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case N:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case k:return o.displayName||"Context";case q:return(o._context.displayName||"Context")+".Consumer";case G:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return s=o.displayName||null,s!==null?s:ye(o.type)||"Memo";case O:s=o._payload,o=o._init;try{return ye(o(s))}catch{}}return null}var we=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ve=[],ke=-1;function j(o){return{current:o}}function oe(o){0>ke||(o.current=ve[ke],ve[ke]=null,ke--)}function pe(o,s){ke++,ve[ke]=o.current,o.current=s}var ge=j(null),Ie=j(null),Oe=j(null),Ne=j(null);function Pt(o,s){switch(pe(Oe,s),pe(Ie,o),pe(ge,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?Bw(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=Bw(s),o=zw(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}oe(ge),pe(ge,o)}function se(){oe(ge),oe(Ie),oe(Oe)}function Le(o){o.memoizedState!==null&&pe(Ne,o);var s=ge.current,c=zw(s,o.type);s!==c&&(pe(Ie,o),pe(ge,c))}function Ge(o){Ie.current===o&&(oe(ge),oe(Ie)),Ne.current===o&&(oe(Ne),Oc._currentValue=he)}var de,Ot;function $e(o){if(de===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);de=s&&s[1]||"",Ot=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+o+Ot}var rn=!1;function kt(o,s){if(!o||rn)return"";rn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var ee=ne}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(ne){ee=ne}o.call(ue.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=p.DetermineComponentFrameRoot(),x=T[0],D=T[1];if(x&&D){var $=x.split(`
`),Z=D.split(`
`);for(E=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;E<Z.length&&!Z[E].includes("DetermineComponentFrameRoot");)E++;if(p===$.length||E===Z.length)for(p=$.length-1,E=Z.length-1;1<=p&&0<=E&&$[p]!==Z[E];)E--;for(;1<=p&&0<=E;p--,E--)if($[p]!==Z[E]){if(p!==1||E!==1)do if(p--,E--,0>E||$[p]!==Z[E]){var ae=`
`+$[p].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=p&&0<=E);break}}}finally{rn=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?$e(c):""}function dr(o,s){switch(o.tag){case 26:case 27:case 5:return $e(o.type);case 16:return $e("Lazy");case 13:return o.child!==s&&s!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return kt(o.type,!1);case 11:return kt(o.type.render,!1);case 1:return kt(o.type,!0);case 31:return $e("Activity");default:return""}}function $o(o){try{var s="",c=null;do s+=dr(o,c),c=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ft=Object.prototype.hasOwnProperty,on=t.unstable_scheduleCallback,Ko=t.unstable_cancelCallback,yg=t.unstable_shouldYield,Zf=t.unstable_requestPaint,Hn=t.unstable_now,Wa=t.unstable_getCurrentPriorityLevel,Lu=t.unstable_ImmediatePriority,Uu=t.unstable_UserBlockingPriority,jo=t.unstable_NormalPriority,vg=t.unstable_LowPriority,ed=t.unstable_IdlePriority,td=t.log,nd=t.unstable_setDisableYieldValue,Zr=null,Sn=null;function Rr(o){if(typeof td=="function"&&nd(o),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(Zr,o)}catch{}}var Vt=Math.clz32?Math.clz32:id,rd=Math.log,el=Math.LN2;function id(o){return o>>>=0,o===0?32:31-(rd(o)/el|0)|0}var gi=256,Xa=262144,Ht=4194304;function yi(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function vi(o,s,c){var p=o.pendingLanes;if(p===0)return 0;var E=0,T=o.suspendedLanes,x=o.pingedLanes;o=o.warmLanes;var D=p&134217727;return D!==0?(p=D&~T,p!==0?E=yi(p):(x&=D,x!==0?E=yi(x):c||(c=D&~o,c!==0&&(E=yi(c))))):(D=p&~T,D!==0?E=yi(D):x!==0?E=yi(x):c||(c=p&~o,c!==0&&(E=yi(c)))),E===0?0:s!==0&&s!==E&&(s&T)===0&&(T=E&-E,c=s&-s,T>=c||T===32&&(c&4194048)!==0)?s:E}function ei(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function _g(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function od(){var o=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),o}function _i(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function Qa(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Eg(o,s,c,p,E,T){var x=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var D=o.entanglements,$=o.expirationTimes,Z=o.hiddenUpdates;for(c=x&~c;0<c;){var ae=31-Vt(c),ue=1<<ae;D[ae]=0,$[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var ne=ee[ae];ne!==null&&(ne.lane&=-536870913)}c&=~ue}p!==0&&Za(o,p,0),T!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=T&~(x&~s))}function Za(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-Vt(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|c&261930}function qu(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var p=31-Vt(c),E=1<<p;E&s|o[p]&s&&(o[p]|=s),c&=~E}}function Bu(o,s){var c=s&-s;return c=(c&42)!==0?1:es(c),(c&(o.suspendedLanes|s))!==0?0:c}function es(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function eo(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ad(){var o=re.p;return o!==0?o:(o=window.event,o===void 0?32:cC(o.type))}function ti(o,s){var c=re.p;try{return re.p=o,s()}finally{re.p=c}}var ni=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ni,pn="__reactProps$"+ni,Ei="__reactContainer$"+ni,tl="__reactEvents$"+ni,Tg="__reactListeners$"+ni,sd="__reactHandles$"+ni,ld="__reactResources$"+ni,Ti="__reactMarker$"+ni;function nl(o){delete o[Gt],delete o[pn],delete o[tl],delete o[Tg],delete o[sd]}function Ai(o){var s=o[Gt];if(s)return s;for(var c=o.parentNode;c;){if(s=c[Ei]||c[Gt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=Yw(o);o!==null;){if(c=o[Gt])return c;o=Yw(o)}return s}o=c,c=o.parentNode}return null}function Pr(o){if(o=o[Gt]||o[Ei]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function hr(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Si(o){var s=o[ld];return s||(s=o[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(o){o[Ti]=!0}var zu=new Set,Fu={};function bi(o,s){wi(o,s),wi(o+"Capture",s)}function wi(o,s){for(Fu[o]=s,o=0;o<s.length;o++)zu.add(s[o])}var Hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},$u={};function ud(o){return Ft.call($u,o)?!0:Ft.call(Gu,o)?!1:Hu.test(o)?$u[o]=!0:(Gu[o]=!0,!1)}function rl(o,s,c){if(ud(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function pr(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function Kt(o,s,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+p)}}function mn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Yo(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ku(o,s,c){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,T=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return E.call(this)},set:function(x){c=""+x,T.call(this,x)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function lt(o){if(!o._valueTracker){var s=Yo(o)?"checked":"value";o._valueTracker=Ku(o,s,""+o[s])}}function ts(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return o&&(p=Yo(o)?o.checked?"true":"false":o.value),o=p,o!==c?(s.setValue(o),!0):!1}function Ci(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ns=/[\n"\\]/g;function Xn(o){return o.replace(ns,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function il(o,s,c,p,E,T,x,D){o.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?o.type=x:o.removeAttribute("type"),s!=null?x==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+mn(s)):o.value!==""+mn(s)&&(o.value=""+mn(s)):x!=="submit"&&x!=="reset"||o.removeAttribute("value"),s!=null?ju(o,x,mn(s)):c!=null?ju(o,x,mn(c)):p!=null&&o.removeAttribute("value"),E==null&&T!=null&&(o.defaultChecked=!!T),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+mn(D):o.removeAttribute("name")}function cd(o,s,c,p,E,T,x,D){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),s!=null||c!=null){if(!(T!=="submit"&&T!=="reset"||s!=null)){lt(o);return}c=c!=null?""+mn(c):"",s=s!=null?""+mn(s):c,D||s===o.value||(o.value=s),o.defaultValue=s}p=p??E,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=D?o.checked:!!p,o.defaultChecked=!!p,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.name=x),lt(o)}function ju(o,s,c){s==="number"&&Ci(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function Jo(o,s,c,p){if(o=o.options,s){s={};for(var E=0;E<c.length;E++)s["$"+c[E]]=!0;for(c=0;c<o.length;c++)E=s.hasOwnProperty("$"+o[c].value),o[c].selected!==E&&(o[c].selected=E),E&&p&&(o[c].defaultSelected=!0)}else{for(c=""+mn(c),s=null,E=0;E<o.length;E++){if(o[E].value===c){o[E].selected=!0,p&&(o[E].defaultSelected=!0);return}s!==null||o[E].disabled||(s=o[E])}s!==null&&(s.selected=!0)}}function fd(o,s,c){if(s!=null&&(s=""+mn(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+mn(c):""}function Wo(o,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(we(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=mn(s),o.defaultValue=c,p=o.textContent,p===c&&p!==""&&p!==null&&(o.value=p),lt(o)}function Qn(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(o,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,c):typeof c!="number"||c===0||dd.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function Ju(o,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var E in s)p=s[E],s.hasOwnProperty(E)&&c[E]!==p&&Yu(o,E,p)}else for(var T in s)s.hasOwnProperty(T)&&Yu(o,T,s[T])}function ol(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(o){return Xo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ri(){}var Wu=null;function Mr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Qo=null,xi=null;function rs(o){var s=Pr(o);if(s&&(o=s.stateNode)){var c=o[pn]||null;e:switch(o=s.stateNode,s.type){case"input":if(il(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Xn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==o&&p.form===o.form){var E=p[pn]||null;if(!E)throw Error(r(90));il(p,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===o.form&&ts(p)}break e;case"textarea":fd(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Jo(o,!!c.multiple,s,!1)}}}var sl=!1;function Zo(o,s,c){if(sl)return o(s,c);sl=!0;try{var p=o(s);return p}finally{if(sl=!1,(Qo!==null||xi!==null)&&(ah(),Qo&&(s=Qo,o=xi,xi=Qo=null,rs(s),o)))for(s=0;s<o.length;s++)rs(o[s])}}function ii(o,s){var c=o.stateNode;if(c===null)return null;var p=c[pn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(Nr)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){is=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{is=!1}var Ii=null,Xu=null,os=null;function Qu(){if(os)return os;var o,s=Xu,c=s.length,p,E="value"in Ii?Ii.value:Ii.textContent,T=E.length;for(o=0;o<c&&s[o]===E[o];o++);var x=c-o;for(p=1;p<=x&&s[c-p]===E[T-p];p++);return os=E.slice(o,1<p?1-p:void 0)}function as(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function to(){return!0}function oi(){return!1}function bn(o){function s(c,p,E,T,x){this._reactName=c,this._targetInst=E,this.type=p,this.nativeEvent=T,this.target=x,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(c=o[D],this[D]=c?c(T):T[D]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?to:oi,this.isPropagationStopped=oi,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),s}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=bn(no),ea=m({},no,{view:0,detail:0}),Zu=bn(ea),ta,ll,Pi,ul=m({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pi&&(Pi&&o.type==="mousemove"?(ta=o.screenX-Pi.screenX,ll=o.screenY-Pi.screenY):ll=ta=0,Pi=o),ta)},movementY:function(o){return"movementY"in o?o.movementY:ll}}),ec=bn(ul),ss=m({},ul,{dataTransfer:0}),pd=bn(ss),md=m({},ea,{relatedTarget:0}),ls=bn(md),tc=m({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),gd=bn(tc),cl=m({},no,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),yd=bn(cl),vd=m({},no,{data:0}),Mi=bn(vd),_d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ed={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ad(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Td[o])?!!s[o]:!1}function na(){return Ad}var Gn=m({},ea,{key:function(o){if(o.key){var s=_d[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=as(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ed[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(o){return o.type==="keypress"?as(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?as(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Sd=bn(Gn),bd=m({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ro=bn(bd),v=m({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),S=bn(v),I=m({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=bn(I),X=m({},ul,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),te=bn(X),me=m({},no,{newState:0,oldState:0}),Be=bn(me),Lt=[9,13,27,32],ot=Nr&&"CompositionEvent"in window,xt=null;Nr&&"documentMode"in document&&(xt=document.documentMode);var Dr=Nr&&"TextEvent"in window&&!xt,Ni=Nr&&(!ot||xt&&8<xt&&11>=xt),ai=" ",si=!1;function us(o,s){switch(o){case"keyup":return Lt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fl(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var dl=!1;function gU(o,s){switch(o){case"compositionend":return fl(s);case"keypress":return s.which!==32?null:(si=!0,ai);case"textInput":return o=s.data,o===ai&&si?null:o;default:return null}}function yU(o,s){if(dl)return o==="compositionend"||!ot&&us(o,s)?(o=Qu(),os=Xu=Ii=null,dl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ni&&s.locale!=="ko"?null:s.data;default:return null}}var vU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XA(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!vU[o.type]:s==="textarea"}function QA(o,s,c,p){Qo?xi?xi.push(p):xi=[p]:Qo=p,s=hh(s,"onChange"),0<s.length&&(c=new Ri("onChange","change",null,c,p),o.push({event:c,listeners:s}))}var nc=null,rc=null;function _U(o){Ow(o,0)}function wd(o){var s=hr(o);if(ts(s))return o}function ZA(o,s){if(o==="change")return s}var eS=!1;if(Nr){var Ag;if(Nr){var Sg="oninput"in document;if(!Sg){var tS=document.createElement("div");tS.setAttribute("oninput","return;"),Sg=typeof tS.oninput=="function"}Ag=Sg}else Ag=!1;eS=Ag&&(!document.documentMode||9<document.documentMode)}function nS(){nc&&(nc.detachEvent("onpropertychange",rS),rc=nc=null)}function rS(o){if(o.propertyName==="value"&&wd(rc)){var s=[];QA(s,rc,o,Mr(o)),Zo(_U,s)}}function EU(o,s,c){o==="focusin"?(nS(),nc=s,rc=c,nc.attachEvent("onpropertychange",rS)):o==="focusout"&&nS()}function TU(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return wd(rc)}function AU(o,s){if(o==="click")return wd(s)}function SU(o,s){if(o==="input"||o==="change")return wd(s)}function bU(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var mr=typeof Object.is=="function"?Object.is:bU;function ic(o,s){if(mr(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var E=c[p];if(!Ft.call(s,E)||!mr(o[E],s[E]))return!1}return!0}function iS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function oS(o,s){var c=iS(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=s&&p>=s)return{node:c,offset:s-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=iS(c)}}function aS(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?aS(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function sS(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Ci(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=Ci(o.document)}return s}function bg(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var wU=Nr&&"documentMode"in document&&11>=document.documentMode,hl=null,wg=null,oc=null,Cg=!1;function lS(o,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Cg||hl==null||hl!==Ci(p)||(p=hl,"selectionStart"in p&&bg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),oc&&ic(oc,p)||(oc=p,p=hh(wg,"onSelect"),0<p.length&&(s=new Ri("onSelect","select",null,s,c),o.push({event:s,listeners:p}),s.target=hl)))}function cs(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var pl={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},xg={},uS={};Nr&&(uS=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function fs(o){if(xg[o])return xg[o];if(!pl[o])return o;var s=pl[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in uS)return xg[o]=s[c];return o}var cS=fs("animationend"),fS=fs("animationiteration"),dS=fs("animationstart"),CU=fs("transitionrun"),xU=fs("transitionstart"),IU=fs("transitioncancel"),hS=fs("transitionend"),pS=new Map,Ig="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ig.push("scrollEnd");function li(o,s){pS.set(o,s),bi(s,[o])}var Cd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Or=[],ml=0,Rg=0;function xd(){for(var o=ml,s=Rg=ml=0;s<o;){var c=Or[s];Or[s++]=null;var p=Or[s];Or[s++]=null;var E=Or[s];Or[s++]=null;var T=Or[s];if(Or[s++]=null,p!==null&&E!==null){var x=p.pending;x===null?E.next=E:(E.next=x.next,x.next=E),p.pending=E}T!==0&&mS(c,E,T)}}function Id(o,s,c,p){Or[ml++]=o,Or[ml++]=s,Or[ml++]=c,Or[ml++]=p,Rg|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Pg(o,s,c,p){return Id(o,s,c,p),Rd(o)}function ds(o,s){return Id(o,null,null,s),Rd(o)}function mS(o,s,c){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c);for(var E=!1,T=o.return;T!==null;)T.childLanes|=c,p=T.alternate,p!==null&&(p.childLanes|=c),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(E=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,E&&s!==null&&(E=31-Vt(c),o=T.hiddenUpdates,p=o[E],p===null?o[E]=[s]:p.push(s),s.lane=c|536870912),T):null}function Rd(o){if(50<xc)throw xc=0,qy=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var gl={};function RU(o,s,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(o,s,c,p){return new RU(o,s,c,p)}function Mg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function io(o,s){var c=o.alternate;return c===null?(c=gr(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function gS(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function Pd(o,s,c,p,E,T){var x=0;if(p=o,typeof o=="function")Mg(o)&&(x=1);else if(typeof o=="string")x=O4(o,c,ge.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case N:return o=gr(31,c,s,E),o.elementType=N,o.lanes=T,o;case C:return hs(c.children,E,T,s);case w:x=8,E|=24;break;case M:return o=gr(12,c,s,E|2),o.elementType=M,o.lanes=T,o;case z:return o=gr(13,c,s,E),o.elementType=z,o.lanes=T,o;case K:return o=gr(19,c,s,E),o.elementType=K,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:x=10;break e;case q:x=9;break e;case G:x=11;break e;case P:x=14;break e;case O:x=16,p=null;break e}x=29,c=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=gr(x,c,s,E),s.elementType=o,s.type=p,s.lanes=T,s}function hs(o,s,c,p){return o=gr(7,o,p,s),o.lanes=c,o}function Ng(o,s,c){return o=gr(6,o,null,s),o.lanes=c,o}function yS(o){var s=gr(18,null,null,0);return s.stateNode=o,s}function Dg(o,s,c){return s=gr(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var vS=new WeakMap;function kr(o,s){if(typeof o=="object"&&o!==null){var c=vS.get(o);return c!==void 0?c:(s={value:o,source:s,stack:$o(s)},vS.set(o,s),s)}return{value:o,source:s,stack:$o(s)}}var yl=[],vl=0,Md=null,ac=0,Vr=[],Lr=0,ra=null,Di=1,Oi="";function oo(o,s){yl[vl++]=ac,yl[vl++]=Md,Md=o,ac=s}function _S(o,s,c){Vr[Lr++]=Di,Vr[Lr++]=Oi,Vr[Lr++]=ra,ra=o;var p=Di;o=Oi;var E=32-Vt(p)-1;p&=~(1<<E),c+=1;var T=32-Vt(s)+E;if(30<T){var x=E-E%5;T=(p&(1<<x)-1).toString(32),p>>=x,E-=x,Di=1<<32-Vt(s)+E|c<<E|p,Oi=T+o}else Di=1<<T|c<<E|p,Oi=o}function Og(o){o.return!==null&&(oo(o,1),_S(o,1,0))}function kg(o){for(;o===Md;)Md=yl[--vl],yl[vl]=null,ac=yl[--vl],yl[vl]=null;for(;o===ra;)ra=Vr[--Lr],Vr[Lr]=null,Oi=Vr[--Lr],Vr[Lr]=null,Di=Vr[--Lr],Vr[Lr]=null}function ES(o,s){Vr[Lr++]=Di,Vr[Lr++]=Oi,Vr[Lr++]=ra,Di=s.id,Oi=s.overflow,ra=o}var wn=null,Tt=null,Qe=!1,ia=null,Ur=!1,Vg=Error(r(519));function oa(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sc(kr(s,o)),Vg}function TS(o){var s=o.stateNode,c=o.type,p=o.memoizedProps;switch(s[Gt]=o,s[pn]=p,c){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(c=0;c<Rc.length;c++)je(Rc[c],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),cd(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Wo(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||Uw(s.textContent,c)?(p.popover!=null&&(je("beforetoggle",s),je("toggle",s)),p.onScroll!=null&&je("scroll",s),p.onScrollEnd!=null&&je("scrollend",s),p.onClick!=null&&(s.onclick=ri),s=!0):s=!1,s||oa(o,!0)}function AS(o){for(wn=o.return;wn;)switch(wn.tag){case 5:case 31:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:wn=wn.return}}function _l(o){if(o!==wn)return!1;if(!Qe)return AS(o),Qe=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||ev(o.type,o.memoizedProps)),c=!c),c&&Tt&&oa(o),AS(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Tt=jw(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Tt=jw(o)}else s===27?(s=Tt,_a(o.type)?(o=ov,ov=null,Tt=o):Tt=s):Tt=wn?Br(o.stateNode.nextSibling):null;return!0}function ps(){Tt=wn=null,Qe=!1}function Lg(){var o=ia;return o!==null&&(nr===null?nr=o:nr.push.apply(nr,o),ia=null),o}function sc(o){ia===null?ia=[o]:ia.push(o)}var Ug=j(null),ms=null,ao=null;function aa(o,s,c){pe(Ug,s._currentValue),s._currentValue=c}function so(o){o._currentValue=Ug.current,oe(Ug)}function qg(o,s,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===c)break;o=o.return}}function Bg(o,s,c,p){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var T=E.dependencies;if(T!==null){var x=E.child;T=T.firstContext;e:for(;T!==null;){var D=T;T=E;for(var $=0;$<s.length;$++)if(D.context===s[$]){T.lanes|=c,D=T.alternate,D!==null&&(D.lanes|=c),qg(T.return,c,o),p||(x=null);break e}T=D.next}}else if(E.tag===18){if(x=E.return,x===null)throw Error(r(341));x.lanes|=c,T=x.alternate,T!==null&&(T.lanes|=c),qg(x,c,o),x=null}else x=E.child;if(x!==null)x.return=E;else for(x=E;x!==null;){if(x===o){x=null;break}if(E=x.sibling,E!==null){E.return=x.return,x=E;break}x=x.return}E=x}}function El(o,s,c,p){o=null;for(var E=s,T=!1;E!==null;){if(!T){if((E.flags&524288)!==0)T=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var x=E.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var D=E.type;mr(E.pendingProps.value,x.value)||(o!==null?o.push(D):o=[D])}}else if(E===Ne.current){if(x=E.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Oc):o=[Oc])}E=E.return}o!==null&&Bg(s,o,c,p),s.flags|=262144}function Nd(o){for(o=o.firstContext;o!==null;){if(!mr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function gs(o){ms=o,ao=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Cn(o){return SS(ms,o)}function Dd(o,s){return ms===null&&gs(o),SS(o,s)}function SS(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ao===null){if(o===null)throw Error(r(308));ao=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else ao=ao.next=s;return c}var PU=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},MU=t.unstable_scheduleCallback,NU=t.unstable_NormalPriority,jt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zg(){return{controller:new PU,data:new Map,refCount:0}}function lc(o){o.refCount--,o.refCount===0&&MU(NU,function(){o.controller.abort()})}var uc=null,Fg=0,Tl=0,Al=null;function DU(o,s){if(uc===null){var c=uc=[];Fg=0,Tl=$y(),Al={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Fg++,s.then(bS,bS),s}function bS(){if(--Fg===0&&uc!==null){Al!==null&&(Al.status="fulfilled");var o=uc;uc=null,Tl=0,Al=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function OU(o,s){var c=[],p={status:"pending",value:null,reason:null,then:function(E){c.push(E)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var E=0;E<c.length;E++)(0,c[E])(s)},function(E){for(p.status="rejected",p.reason=E,E=0;E<c.length;E++)(0,c[E])(void 0)}),p}var wS=W.S;W.S=function(o,s){lw=Hn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&DU(o,s),wS!==null&&wS(o,s)};var ys=j(null);function Hg(){var o=ys.current;return o!==null?o:gt.pooledCache}function Od(o,s){s===null?pe(ys,ys.current):pe(ys,s.pool)}function CS(){var o=Hg();return o===null?null:{parent:jt._currentValue,pool:o}}var Sl=Error(r(460)),Gg=Error(r(474)),kd=Error(r(542)),Vd={then:function(){}};function xS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function IS(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(ri,ri),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,PS(o),o;default:if(typeof s.status=="string")s.then(ri,ri);else{if(o=gt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var E=s;E.status="fulfilled",E.value=p}},function(p){if(s.status==="pending"){var E=s;E.status="rejected",E.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,PS(o),o}throw _s=s,Sl}}function vs(o){try{var s=o._init;return s(o._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(_s=c,Sl):c}}var _s=null;function RS(){if(_s===null)throw Error(r(459));var o=_s;return _s=null,o}function PS(o){if(o===Sl||o===kd)throw Error(r(483))}var bl=null,cc=0;function Ld(o){var s=cc;return cc+=1,bl===null&&(bl=[]),IS(bl,o,s)}function fc(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Ud(o,s){throw s.$$typeof===_?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function MS(o){function s(J,Y){if(o){var Q=J.deletions;Q===null?(J.deletions=[Y],J.flags|=16):Q.push(Y)}}function c(J,Y){if(!o)return null;for(;Y!==null;)s(J,Y),Y=Y.sibling;return null}function p(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function E(J,Y){return J=io(J,Y),J.index=0,J.sibling=null,J}function T(J,Y,Q){return J.index=Q,o?(Q=J.alternate,Q!==null?(Q=Q.index,Q<Y?(J.flags|=67108866,Y):Q):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function x(J){return o&&J.alternate===null&&(J.flags|=67108866),J}function D(J,Y,Q,le){return Y===null||Y.tag!==6?(Y=Ng(Q,J.mode,le),Y.return=J,Y):(Y=E(Y,Q),Y.return=J,Y)}function $(J,Y,Q,le){var Ce=Q.type;return Ce===C?ae(J,Y,Q.props.children,le,Q.key):Y!==null&&(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&vs(Ce)===Y.type)?(Y=E(Y,Q.props),fc(Y,Q),Y.return=J,Y):(Y=Pd(Q.type,Q.key,Q.props,null,J.mode,le),fc(Y,Q),Y.return=J,Y)}function Z(J,Y,Q,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=Dg(Q,J.mode,le),Y.return=J,Y):(Y=E(Y,Q.children||[]),Y.return=J,Y)}function ae(J,Y,Q,le,Ce){return Y===null||Y.tag!==7?(Y=hs(Q,J.mode,le,Ce),Y.return=J,Y):(Y=E(Y,Q),Y.return=J,Y)}function ue(J,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Ng(""+Y,J.mode,Q),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Q=Pd(Y.type,Y.key,Y.props,null,J.mode,Q),fc(Q,Y),Q.return=J,Q;case b:return Y=Dg(Y,J.mode,Q),Y.return=J,Y;case O:return Y=vs(Y),ue(J,Y,Q)}if(we(Y)||F(Y))return Y=hs(Y,J.mode,Q,null),Y.return=J,Y;if(typeof Y.then=="function")return ue(J,Ld(Y),Q);if(Y.$$typeof===k)return ue(J,Dd(J,Y),Q);Ud(J,Y)}return null}function ee(J,Y,Q,le){var Ce=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:D(J,Y,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return Q.key===Ce?$(J,Y,Q,le):null;case b:return Q.key===Ce?Z(J,Y,Q,le):null;case O:return Q=vs(Q),ee(J,Y,Q,le)}if(we(Q)||F(Q))return Ce!==null?null:ae(J,Y,Q,le,null);if(typeof Q.then=="function")return ee(J,Y,Ld(Q),le);if(Q.$$typeof===k)return ee(J,Y,Dd(J,Q),le);Ud(J,Q)}return null}function ne(J,Y,Q,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return J=J.get(Q)||null,D(Y,J,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case A:return J=J.get(le.key===null?Q:le.key)||null,$(Y,J,le,Ce);case b:return J=J.get(le.key===null?Q:le.key)||null,Z(Y,J,le,Ce);case O:return le=vs(le),ne(J,Y,Q,le,Ce)}if(we(le)||F(le))return J=J.get(Q)||null,ae(Y,J,le,Ce,null);if(typeof le.then=="function")return ne(J,Y,Q,Ld(le),Ce);if(le.$$typeof===k)return ne(J,Y,Q,Dd(Y,le),Ce);Ud(Y,le)}return null}function Se(J,Y,Q,le){for(var Ce=null,tt=null,be=Y,Fe=Y=0,Je=null;be!==null&&Fe<Q.length;Fe++){be.index>Fe?(Je=be,be=null):Je=be.sibling;var nt=ee(J,be,Q[Fe],le);if(nt===null){be===null&&(be=Je);break}o&&be&&nt.alternate===null&&s(J,be),Y=T(nt,Y,Fe),tt===null?Ce=nt:tt.sibling=nt,tt=nt,be=Je}if(Fe===Q.length)return c(J,be),Qe&&oo(J,Fe),Ce;if(be===null){for(;Fe<Q.length;Fe++)be=ue(J,Q[Fe],le),be!==null&&(Y=T(be,Y,Fe),tt===null?Ce=be:tt.sibling=be,tt=be);return Qe&&oo(J,Fe),Ce}for(be=p(be);Fe<Q.length;Fe++)Je=ne(be,J,Fe,Q[Fe],le),Je!==null&&(o&&Je.alternate!==null&&be.delete(Je.key===null?Fe:Je.key),Y=T(Je,Y,Fe),tt===null?Ce=Je:tt.sibling=Je,tt=Je);return o&&be.forEach(function(ba){return s(J,ba)}),Qe&&oo(J,Fe),Ce}function Me(J,Y,Q,le){if(Q==null)throw Error(r(151));for(var Ce=null,tt=null,be=Y,Fe=Y=0,Je=null,nt=Q.next();be!==null&&!nt.done;Fe++,nt=Q.next()){be.index>Fe?(Je=be,be=null):Je=be.sibling;var ba=ee(J,be,nt.value,le);if(ba===null){be===null&&(be=Je);break}o&&be&&ba.alternate===null&&s(J,be),Y=T(ba,Y,Fe),tt===null?Ce=ba:tt.sibling=ba,tt=ba,be=Je}if(nt.done)return c(J,be),Qe&&oo(J,Fe),Ce;if(be===null){for(;!nt.done;Fe++,nt=Q.next())nt=ue(J,nt.value,le),nt!==null&&(Y=T(nt,Y,Fe),tt===null?Ce=nt:tt.sibling=nt,tt=nt);return Qe&&oo(J,Fe),Ce}for(be=p(be);!nt.done;Fe++,nt=Q.next())nt=ne(be,J,Fe,nt.value,le),nt!==null&&(o&&nt.alternate!==null&&be.delete(nt.key===null?Fe:nt.key),Y=T(nt,Y,Fe),tt===null?Ce=nt:tt.sibling=nt,tt=nt);return o&&be.forEach(function($4){return s(J,$4)}),Qe&&oo(J,Fe),Ce}function mt(J,Y,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:e:{for(var Ce=Q.key;Y!==null;){if(Y.key===Ce){if(Ce=Q.type,Ce===C){if(Y.tag===7){c(J,Y.sibling),le=E(Y,Q.props.children),le.return=J,J=le;break e}}else if(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&vs(Ce)===Y.type){c(J,Y.sibling),le=E(Y,Q.props),fc(le,Q),le.return=J,J=le;break e}c(J,Y);break}else s(J,Y);Y=Y.sibling}Q.type===C?(le=hs(Q.props.children,J.mode,le,Q.key),le.return=J,J=le):(le=Pd(Q.type,Q.key,Q.props,null,J.mode,le),fc(le,Q),le.return=J,J=le)}return x(J);case b:e:{for(Ce=Q.key;Y!==null;){if(Y.key===Ce)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){c(J,Y.sibling),le=E(Y,Q.children||[]),le.return=J,J=le;break e}else{c(J,Y);break}else s(J,Y);Y=Y.sibling}le=Dg(Q,J.mode,le),le.return=J,J=le}return x(J);case O:return Q=vs(Q),mt(J,Y,Q,le)}if(we(Q))return Se(J,Y,Q,le);if(F(Q)){if(Ce=F(Q),typeof Ce!="function")throw Error(r(150));return Q=Ce.call(Q),Me(J,Y,Q,le)}if(typeof Q.then=="function")return mt(J,Y,Ld(Q),le);if(Q.$$typeof===k)return mt(J,Y,Dd(J,Q),le);Ud(J,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(c(J,Y.sibling),le=E(Y,Q),le.return=J,J=le):(c(J,Y),le=Ng(Q,J.mode,le),le.return=J,J=le),x(J)):c(J,Y)}return function(J,Y,Q,le){try{cc=0;var Ce=mt(J,Y,Q,le);return bl=null,Ce}catch(be){if(be===Sl||be===kd)throw be;var tt=gr(29,be,null,J.mode);return tt.lanes=le,tt.return=J,tt}finally{}}}var Es=MS(!0),NS=MS(!1),sa=!1;function $g(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kg(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function la(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ua(o,s,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(at&2)!==0){var E=p.pending;return E===null?s.next=s:(s.next=E.next,E.next=s),p.pending=s,s=Rd(o),mS(o,null,c),s}return Id(o,p,s,c),Rd(o)}function dc(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,qu(o,c)}}function jg(o,s){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var E=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};T===null?E=T=x:T=T.next=x,c=c.next}while(c!==null);T===null?E=T=s:T=T.next=s}else E=T=s;c={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:p.shared,callbacks:p.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var Yg=!1;function hc(){if(Yg){var o=Al;if(o!==null)throw o}}function pc(o,s,c,p){Yg=!1;var E=o.updateQueue;sa=!1;var T=E.firstBaseUpdate,x=E.lastBaseUpdate,D=E.shared.pending;if(D!==null){E.shared.pending=null;var $=D,Z=$.next;$.next=null,x===null?T=Z:x.next=Z,x=$;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,D=ae.lastBaseUpdate,D!==x&&(D===null?ae.firstBaseUpdate=Z:D.next=Z,ae.lastBaseUpdate=$))}if(T!==null){var ue=E.baseState;x=0,ae=Z=$=null,D=T;do{var ee=D.lane&-536870913,ne=ee!==D.lane;if(ne?(Ye&ee)===ee:(p&ee)===ee){ee!==0&&ee===Tl&&(Yg=!0),ae!==null&&(ae=ae.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Se=o,Me=D;ee=s;var mt=c;switch(Me.tag){case 1:if(Se=Me.payload,typeof Se=="function"){ue=Se.call(mt,ue,ee);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Me.payload,ee=typeof Se=="function"?Se.call(mt,ue,ee):Se,ee==null)break e;ue=m({},ue,ee);break e;case 2:sa=!0}}ee=D.callback,ee!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=E.callbacks,ne===null?E.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ae===null?(Z=ae=ne,$=ue):ae=ae.next=ne,x|=ee;if(D=D.next,D===null){if(D=E.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,E.lastBaseUpdate=ne,E.shared.pending=null}}while(!0);ae===null&&($=ue),E.baseState=$,E.firstBaseUpdate=Z,E.lastBaseUpdate=ae,T===null&&(E.shared.lanes=0),pa|=x,o.lanes=x,o.memoizedState=ue}}function DS(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function OS(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)DS(c[o],s)}var wl=j(null),qd=j(0);function kS(o,s){o=yo,pe(qd,o),pe(wl,s),yo=o|s.baseLanes}function Jg(){pe(qd,yo),pe(wl,wl.current)}function Wg(){yo=qd.current,oe(wl),oe(qd)}var yr=j(null),qr=null;function ca(o){var s=o.alternate;pe(Ut,Ut.current&1),pe(yr,o),qr===null&&(s===null||wl.current!==null||s.memoizedState!==null)&&(qr=o)}function Xg(o){pe(Ut,Ut.current),pe(yr,o),qr===null&&(qr=o)}function VS(o){o.tag===22?(pe(Ut,Ut.current),pe(yr,o),qr===null&&(qr=o)):fa()}function fa(){pe(Ut,Ut.current),pe(yr,yr.current)}function vr(o){oe(yr),qr===o&&(qr=null),oe(Ut)}var Ut=j(0);function Bd(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||rv(c)||iv(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var lo=0,ze=null,ht=null,Yt=null,zd=!1,Cl=!1,Ts=!1,Fd=0,mc=0,xl=null,kU=0;function Nt(){throw Error(r(321))}function Qg(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!mr(o[c],s[c]))return!1;return!0}function Zg(o,s,c,p,E,T){return lo=T,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=o===null||o.memoizedState===null?_b:py,Ts=!1,T=c(p,E),Ts=!1,Cl&&(T=US(s,c,p,E)),LS(o),T}function LS(o){W.H=vc;var s=ht!==null&&ht.next!==null;if(lo=0,Yt=ht=ze=null,zd=!1,mc=0,xl=null,s)throw Error(r(300));o===null||Jt||(o=o.dependencies,o!==null&&Nd(o)&&(Jt=!0))}function US(o,s,c,p){ze=o;var E=0;do{if(Cl&&(xl=null),mc=0,Cl=!1,25<=E)throw Error(r(301));if(E+=1,Yt=ht=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}W.H=Eb,T=s(c,p)}while(Cl);return T}function VU(){var o=W.H,s=o.useState()[0];return s=typeof s.then=="function"?gc(s):s,o=o.useState()[0],(ht!==null?ht.memoizedState:null)!==o&&(ze.flags|=1024),s}function ey(){var o=Fd!==0;return Fd=0,o}function ty(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function ny(o){if(zd){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}zd=!1}lo=0,Yt=ht=ze=null,Cl=!1,mc=Fd=0,xl=null}function $n(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ze.memoizedState=Yt=o:Yt=Yt.next=o,Yt}function qt(){if(ht===null){var o=ze.alternate;o=o!==null?o.memoizedState:null}else o=ht.next;var s=Yt===null?ze.memoizedState:Yt.next;if(s!==null)Yt=s,ht=o;else{if(o===null)throw ze.alternate===null?Error(r(467)):Error(r(310));ht=o,o={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Yt===null?ze.memoizedState=Yt=o:Yt=Yt.next=o}return Yt}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(o){var s=mc;return mc+=1,xl===null&&(xl=[]),o=IS(xl,o,s),s=ze,(Yt===null?s.memoizedState:Yt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?_b:py),o}function Gd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return gc(o);if(o.$$typeof===k)return Cn(o)}throw Error(r(438,String(o)))}function ry(o){var s=null,c=ze.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(E){return E.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Hd(),ze.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),p=0;p<o;p++)c[p]=B;return s.index++,c}function uo(o,s){return typeof s=="function"?s(o):s}function $d(o){var s=qt();return iy(s,ht,o)}function iy(o,s,c){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var E=o.baseQueue,T=p.pending;if(T!==null){if(E!==null){var x=E.next;E.next=T.next,T.next=x}s.baseQueue=E=T,p.pending=null}if(T=o.baseState,E===null)o.memoizedState=T;else{s=E.next;var D=x=null,$=null,Z=s,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(Ye&ue)===ue:(lo&ue)===ue){var ee=Z.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Tl&&(ae=!0);else if((lo&ee)===ee){Z=Z.next,ee===Tl&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(D=$=ue,x=T):$=$.next=ue,ze.lanes|=ee,pa|=ee;ue=Z.action,Ts&&c(T,ue),T=Z.hasEagerState?Z.eagerState:c(T,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(D=$=ee,x=T):$=$.next=ee,ze.lanes|=ue,pa|=ue;Z=Z.next}while(Z!==null&&Z!==s);if($===null?x=T:$.next=D,!mr(T,o.memoizedState)&&(Jt=!0,ae&&(c=Al,c!==null)))throw c;o.memoizedState=T,o.baseState=x,o.baseQueue=$,p.lastRenderedState=T}return E===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function oy(o){var s=qt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=c.dispatch,E=c.pending,T=s.memoizedState;if(E!==null){c.pending=null;var x=E=E.next;do T=o(T,x.action),x=x.next;while(x!==E);mr(T,s.memoizedState)||(Jt=!0),s.memoizedState=T,s.baseQueue===null&&(s.baseState=T),c.lastRenderedState=T}return[T,p]}function qS(o,s,c){var p=ze,E=qt(),T=Qe;if(T){if(c===void 0)throw Error(r(407));c=c()}else c=s();var x=!mr((ht||E).memoizedState,c);if(x&&(E.memoizedState=c,Jt=!0),E=E.queue,ly(FS.bind(null,p,E,o),[o]),E.getSnapshot!==s||x||Yt!==null&&Yt.memoizedState.tag&1){if(p.flags|=2048,Il(9,{destroy:void 0},zS.bind(null,p,E,c,s),null),gt===null)throw Error(r(349));T||(lo&127)!==0||BS(p,s,c)}return c}function BS(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=ze.updateQueue,s===null?(s=Hd(),ze.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function zS(o,s,c,p){s.value=c,s.getSnapshot=p,HS(s)&&GS(o)}function FS(o,s,c){return c(function(){HS(s)&&GS(o)})}function HS(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!mr(o,c)}catch{return!0}}function GS(o){var s=ds(o,2);s!==null&&rr(s,o,2)}function ay(o){var s=$n();if(typeof o=="function"){var c=o;if(o=c(),Ts){Rr(!0);try{c()}finally{Rr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:o},s}function $S(o,s,c,p){return o.baseState=c,iy(o,ht,typeof p=="function"?p:uo)}function LU(o,s,c,p,E){if(Yd(o))throw Error(r(485));if(o=s.action,o!==null){var T={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){T.listeners.push(x)}};W.T!==null?c(!0):T.isTransition=!1,p(T),c=s.pending,c===null?(T.next=s.pending=T,KS(s,T)):(T.next=c.next,s.pending=c.next=T)}}function KS(o,s){var c=s.action,p=s.payload,E=o.state;if(s.isTransition){var T=W.T,x={};W.T=x;try{var D=c(E,p),$=W.S;$!==null&&$(x,D),jS(o,s,D)}catch(Z){sy(o,s,Z)}finally{T!==null&&x.types!==null&&(T.types=x.types),W.T=T}}else try{T=c(E,p),jS(o,s,T)}catch(Z){sy(o,s,Z)}}function jS(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){YS(o,s,p)},function(p){return sy(o,s,p)}):YS(o,s,c)}function YS(o,s,c){s.status="fulfilled",s.value=c,JS(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,KS(o,c)))}function sy(o,s,c){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,JS(s),s=s.next;while(s!==p)}o.action=null}function JS(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function WS(o,s){return s}function XS(o,s){if(Qe){var c=gt.formState;if(c!==null){e:{var p=ze;if(Qe){if(Tt){t:{for(var E=Tt,T=Ur;E.nodeType!==8;){if(!T){E=null;break t}if(E=Br(E.nextSibling),E===null){E=null;break t}}T=E.data,E=T==="F!"||T==="F"?E:null}if(E){Tt=Br(E.nextSibling),p=E.data==="F!";break e}}oa(p)}p=!1}p&&(s=c[0])}}return c=$n(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WS,lastRenderedState:s},c.queue=p,c=gb.bind(null,ze,p),p.dispatch=c,p=ay(!1),T=hy.bind(null,ze,!1,p.queue),p=$n(),E={state:s,dispatch:null,action:o,pending:null},p.queue=E,c=LU.bind(null,ze,E,T,c),E.dispatch=c,p.memoizedState=o,[s,c,!1]}function QS(o){var s=qt();return ZS(s,ht,o)}function ZS(o,s,c){if(s=iy(o,s,WS)[0],o=$d(uo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=gc(s)}catch(x){throw x===Sl?kd:x}else p=s;s=qt();var E=s.queue,T=E.dispatch;return c!==s.memoizedState&&(ze.flags|=2048,Il(9,{destroy:void 0},UU.bind(null,E,c),null)),[p,T,o]}function UU(o,s){o.action=s}function eb(o){var s=qt(),c=ht;if(c!==null)return ZS(s,c,o);qt(),s=s.memoizedState,c=qt();var p=c.queue.dispatch;return c.memoizedState=o,[s,p,!1]}function Il(o,s,c,p){return o={tag:o,create:c,deps:p,inst:s,next:null},s=ze.updateQueue,s===null&&(s=Hd(),ze.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,s.lastEffect=o),o}function tb(){return qt().memoizedState}function Kd(o,s,c,p){var E=$n();ze.flags|=o,E.memoizedState=Il(1|s,{destroy:void 0},c,p===void 0?null:p)}function jd(o,s,c,p){var E=qt();p=p===void 0?null:p;var T=E.memoizedState.inst;ht!==null&&p!==null&&Qg(p,ht.memoizedState.deps)?E.memoizedState=Il(s,T,c,p):(ze.flags|=o,E.memoizedState=Il(1|s,T,c,p))}function nb(o,s){Kd(8390656,8,o,s)}function ly(o,s){jd(2048,8,o,s)}function qU(o){ze.flags|=4;var s=ze.updateQueue;if(s===null)s=Hd(),ze.updateQueue=s,s.events=[o];else{var c=s.events;c===null?s.events=[o]:c.push(o)}}function rb(o){var s=qt().memoizedState;return qU({ref:s,nextImpl:o}),function(){if((at&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ib(o,s){return jd(4,2,o,s)}function ob(o,s){return jd(4,4,o,s)}function ab(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function sb(o,s,c){c=c!=null?c.concat([o]):null,jd(4,4,ab.bind(null,s,o),c)}function uy(){}function lb(o,s){var c=qt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&Qg(s,p[1])?p[0]:(c.memoizedState=[o,s],o)}function ub(o,s){var c=qt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&Qg(s,p[1]))return p[0];if(p=o(),Ts){Rr(!0);try{o()}finally{Rr(!1)}}return c.memoizedState=[p,s],p}function cy(o,s,c){return c===void 0||(lo&1073741824)!==0&&(Ye&261930)===0?o.memoizedState=s:(o.memoizedState=c,o=cw(),ze.lanes|=o,pa|=o,c)}function cb(o,s,c,p){return mr(c,s)?c:wl.current!==null?(o=cy(o,c,p),mr(o,s)||(Jt=!0),o):(lo&42)===0||(lo&1073741824)!==0&&(Ye&261930)===0?(Jt=!0,o.memoizedState=c):(o=cw(),ze.lanes|=o,pa|=o,s)}function fb(o,s,c,p,E){var T=re.p;re.p=T!==0&&8>T?T:8;var x=W.T,D={};W.T=D,hy(o,!1,s,c);try{var $=E(),Z=W.S;if(Z!==null&&Z(D,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ae=OU($,p);yc(o,s,ae,Tr(o))}else yc(o,s,p,Tr(o))}catch(ue){yc(o,s,{then:function(){},status:"rejected",reason:ue},Tr())}finally{re.p=T,x!==null&&D.types!==null&&(x.types=D.types),W.T=x}}function BU(){}function fy(o,s,c,p){if(o.tag!==5)throw Error(r(476));var E=db(o).queue;fb(o,E,s,he,c===null?BU:function(){return hb(o),c(p)})}function db(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:he},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function hb(o){var s=db(o);s.next===null&&(s=o.alternate.memoizedState),yc(o,s.next.queue,{},Tr())}function dy(){return Cn(Oc)}function pb(){return qt().memoizedState}function mb(){return qt().memoizedState}function zU(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=Tr();o=la(c);var p=ua(s,o,c);p!==null&&(rr(p,s,c),dc(p,s,c)),s={cache:zg()},o.payload=s;return}s=s.return}}function FU(o,s,c){var p=Tr();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yd(o)?yb(s,c):(c=Pg(o,s,c,p),c!==null&&(rr(c,o,p),vb(c,s,p)))}function gb(o,s,c){var p=Tr();yc(o,s,c,p)}function yc(o,s,c,p){var E={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yd(o))yb(s,E);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=s.lastRenderedReducer,T!==null))try{var x=s.lastRenderedState,D=T(x,c);if(E.hasEagerState=!0,E.eagerState=D,mr(D,x))return Id(o,s,E,0),gt===null&&xd(),!1}catch{}finally{}if(c=Pg(o,s,E,p),c!==null)return rr(c,o,p),vb(c,s,p),!0}return!1}function hy(o,s,c,p){if(p={lane:2,revertLane:$y(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Yd(o)){if(s)throw Error(r(479))}else s=Pg(o,c,p,2),s!==null&&rr(s,o,2)}function Yd(o){var s=o.alternate;return o===ze||s!==null&&s===ze}function yb(o,s){Cl=zd=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function vb(o,s,c){if((c&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,qu(o,c)}}var vc={readContext:Cn,use:Gd,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};vc.useEffectEvent=Nt;var _b={readContext:Cn,use:Gd,useCallback:function(o,s){return $n().memoizedState=[o,s===void 0?null:s],o},useContext:Cn,useEffect:nb,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,Kd(4194308,4,ab.bind(null,s,o),c)},useLayoutEffect:function(o,s){return Kd(4194308,4,o,s)},useInsertionEffect:function(o,s){Kd(4,2,o,s)},useMemo:function(o,s){var c=$n();s=s===void 0?null:s;var p=o();if(Ts){Rr(!0);try{o()}finally{Rr(!1)}}return c.memoizedState=[p,s],p},useReducer:function(o,s,c){var p=$n();if(c!==void 0){var E=c(s);if(Ts){Rr(!0);try{c(s)}finally{Rr(!1)}}}else E=s;return p.memoizedState=p.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},p.queue=o,o=o.dispatch=FU.bind(null,ze,o),[p.memoizedState,o]},useRef:function(o){var s=$n();return o={current:o},s.memoizedState=o},useState:function(o){o=ay(o);var s=o.queue,c=gb.bind(null,ze,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:uy,useDeferredValue:function(o,s){var c=$n();return cy(c,o,s)},useTransition:function(){var o=ay(!1);return o=fb.bind(null,ze,o.queue,!0,!1),$n().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var p=ze,E=$n();if(Qe){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),gt===null)throw Error(r(349));(Ye&127)!==0||BS(p,s,c)}E.memoizedState=c;var T={value:c,getSnapshot:s};return E.queue=T,nb(FS.bind(null,p,T,o),[o]),p.flags|=2048,Il(9,{destroy:void 0},zS.bind(null,p,T,c,s),null),c},useId:function(){var o=$n(),s=gt.identifierPrefix;if(Qe){var c=Oi,p=Di;c=(p&~(1<<32-Vt(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Fd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=kU++,s="_"+s+"r_"+c.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:dy,useFormState:XS,useActionState:XS,useOptimistic:function(o){var s=$n();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=hy.bind(null,ze,!0,c),c.dispatch=s,[o,s]},useMemoCache:ry,useCacheRefresh:function(){return $n().memoizedState=zU.bind(null,ze)},useEffectEvent:function(o){var s=$n(),c={impl:o};return s.memoizedState=c,function(){if((at&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},py={readContext:Cn,use:Gd,useCallback:lb,useContext:Cn,useEffect:ly,useImperativeHandle:sb,useInsertionEffect:ib,useLayoutEffect:ob,useMemo:ub,useReducer:$d,useRef:tb,useState:function(){return $d(uo)},useDebugValue:uy,useDeferredValue:function(o,s){var c=qt();return cb(c,ht.memoizedState,o,s)},useTransition:function(){var o=$d(uo)[0],s=qt().memoizedState;return[typeof o=="boolean"?o:gc(o),s]},useSyncExternalStore:qS,useId:pb,useHostTransitionStatus:dy,useFormState:QS,useActionState:QS,useOptimistic:function(o,s){var c=qt();return $S(c,ht,o,s)},useMemoCache:ry,useCacheRefresh:mb};py.useEffectEvent=rb;var Eb={readContext:Cn,use:Gd,useCallback:lb,useContext:Cn,useEffect:ly,useImperativeHandle:sb,useInsertionEffect:ib,useLayoutEffect:ob,useMemo:ub,useReducer:oy,useRef:tb,useState:function(){return oy(uo)},useDebugValue:uy,useDeferredValue:function(o,s){var c=qt();return ht===null?cy(c,o,s):cb(c,ht.memoizedState,o,s)},useTransition:function(){var o=oy(uo)[0],s=qt().memoizedState;return[typeof o=="boolean"?o:gc(o),s]},useSyncExternalStore:qS,useId:pb,useHostTransitionStatus:dy,useFormState:eb,useActionState:eb,useOptimistic:function(o,s){var c=qt();return ht!==null?$S(c,ht,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:ry,useCacheRefresh:mb};Eb.useEffectEvent=rb;function my(o,s,c,p){s=o.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var gy={enqueueSetState:function(o,s,c){o=o._reactInternals;var p=Tr(),E=la(p);E.payload=s,c!=null&&(E.callback=c),s=ua(o,E,p),s!==null&&(rr(s,o,p),dc(s,o,p))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var p=Tr(),E=la(p);E.tag=1,E.payload=s,c!=null&&(E.callback=c),s=ua(o,E,p),s!==null&&(rr(s,o,p),dc(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=Tr(),p=la(c);p.tag=2,s!=null&&(p.callback=s),s=ua(o,p,c),s!==null&&(rr(s,o,c),dc(s,o,c))}};function Tb(o,s,c,p,E,T,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,T,x):s.prototype&&s.prototype.isPureReactComponent?!ic(c,p)||!ic(E,T):!0}function Ab(o,s,c,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==o&&gy.enqueueReplaceState(s,s.state,null)}function As(o,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(o=o.defaultProps){c===s&&(c=m({},c));for(var E in o)c[E]===void 0&&(c[E]=o[E])}return c}function Sb(o){Cd(o)}function bb(o){console.error(o)}function wb(o){Cd(o)}function Jd(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function Cb(o,s,c){try{var p=o.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function yy(o,s,c){return c=la(c),c.tag=3,c.payload={element:null},c.callback=function(){Jd(o,s)},c}function xb(o){return o=la(o),o.tag=3,o}function Ib(o,s,c,p){var E=c.type.getDerivedStateFromError;if(typeof E=="function"){var T=p.value;o.payload=function(){return E(T)},o.callback=function(){Cb(s,c,p)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){Cb(s,c,p),typeof E!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function HU(o,s,c,p,E){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&El(s,c,E,!0),c=yr.current,c!==null){switch(c.tag){case 31:case 13:return qr===null?sh():c.alternate===null&&Dt===0&&(Dt=3),c.flags&=-257,c.flags|=65536,c.lanes=E,p===Vd?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Fy(o,p,E)),!1;case 22:return c.flags|=65536,p===Vd?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Fy(o,p,E)),!1}throw Error(r(435,c.tag))}return Fy(o,p,E),sh(),!1}if(Qe)return s=yr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=E,p!==Vg&&(o=Error(r(422),{cause:p}),sc(kr(o,c)))):(p!==Vg&&(s=Error(r(423),{cause:p}),sc(kr(s,c))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,p=kr(p,c),E=yy(o.stateNode,p,E),jg(o,E),Dt!==4&&(Dt=2)),!1;var T=Error(r(520),{cause:p});if(T=kr(T,c),Cc===null?Cc=[T]:Cc.push(T),Dt!==4&&(Dt=2),s===null)return!0;p=kr(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=E&-E,c.lanes|=o,o=yy(c.stateNode,p,o),jg(c,o),!1;case 1:if(s=c.type,T=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ma===null||!ma.has(T))))return c.flags|=65536,E&=-E,c.lanes|=E,E=xb(E),Ib(E,o,c,p),jg(c,E),!1}c=c.return}while(c!==null);return!1}var vy=Error(r(461)),Jt=!1;function xn(o,s,c,p){s.child=o===null?NS(s,null,c,p):Es(s,o.child,c,p)}function Rb(o,s,c,p,E){c=c.render;var T=s.ref;if("ref"in p){var x={};for(var D in p)D!=="ref"&&(x[D]=p[D])}else x=p;return gs(s),p=Zg(o,s,c,x,T,E),D=ey(),o!==null&&!Jt?(ty(o,s,E),co(o,s,E)):(Qe&&D&&Og(s),s.flags|=1,xn(o,s,p,E),s.child)}function Pb(o,s,c,p,E){if(o===null){var T=c.type;return typeof T=="function"&&!Mg(T)&&T.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=T,Mb(o,s,T,p,E)):(o=Pd(c.type,null,p,s,s.mode,E),o.ref=s.ref,o.return=s,s.child=o)}if(T=o.child,!Cy(o,E)){var x=T.memoizedProps;if(c=c.compare,c=c!==null?c:ic,c(x,p)&&o.ref===s.ref)return co(o,s,E)}return s.flags|=1,o=io(T,p),o.ref=s.ref,o.return=s,s.child=o}function Mb(o,s,c,p,E){if(o!==null){var T=o.memoizedProps;if(ic(T,p)&&o.ref===s.ref)if(Jt=!1,s.pendingProps=p=T,Cy(o,E))(o.flags&131072)!==0&&(Jt=!0);else return s.lanes=o.lanes,co(o,s,E)}return _y(o,s,c,p,E)}function Nb(o,s,c,p){var E=p.children,T=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(T=T!==null?T.baseLanes|c:c,o!==null){for(p=s.child=o.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;p=E&~T}else p=0,s.child=null;return Db(o,s,T,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Od(s,T!==null?T.cachePool:null),T!==null?kS(s,T):Jg(),VS(s);else return p=s.lanes=536870912,Db(o,s,T!==null?T.baseLanes|c:c,c,p)}else T!==null?(Od(s,T.cachePool),kS(s,T),fa(),s.memoizedState=null):(o!==null&&Od(s,null),Jg(),fa());return xn(o,s,E,c),s.child}function _c(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Db(o,s,c,p,E){var T=Hg();return T=T===null?null:{parent:jt._currentValue,pool:T},s.memoizedState={baseLanes:c,cachePool:T},o!==null&&Od(s,null),Jg(),VS(s),o!==null&&El(o,s,p,!0),s.childLanes=E,null}function Wd(o,s){return s=Qd({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function Ob(o,s,c){return Es(s,o.child,null,c),o=Wd(s,s.pendingProps),o.flags|=2,vr(s),s.memoizedState=null,o}function GU(o,s,c){var p=s.pendingProps,E=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Qe){if(p.mode==="hidden")return o=Wd(s,p),s.lanes=536870912,_c(null,o);if(Xg(s),(o=Tt)?(o=Kw(o,Ur),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:ra!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},c=yS(o),c.return=s,s.child=c,wn=s,Tt=null)):o=null,o===null)throw oa(s);return s.lanes=536870912,null}return Wd(s,p)}var T=o.memoizedState;if(T!==null){var x=T.dehydrated;if(Xg(s),E)if(s.flags&256)s.flags&=-257,s=Ob(o,s,c);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(Jt||El(o,s,c,!1),E=(c&o.childLanes)!==0,Jt||E){if(p=gt,p!==null&&(x=Bu(p,c),x!==0&&x!==T.retryLane))throw T.retryLane=x,ds(o,x),rr(p,o,x),vy;sh(),s=Ob(o,s,c)}else o=T.treeContext,Tt=Br(x.nextSibling),wn=s,Qe=!0,ia=null,Ur=!1,o!==null&&ES(s,o),s=Wd(s,p),s.flags|=4096;return s}return o=io(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Xd(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function _y(o,s,c,p,E){return gs(s),c=Zg(o,s,c,p,void 0,E),p=ey(),o!==null&&!Jt?(ty(o,s,E),co(o,s,E)):(Qe&&p&&Og(s),s.flags|=1,xn(o,s,c,E),s.child)}function kb(o,s,c,p,E,T){return gs(s),s.updateQueue=null,c=US(s,p,c,E),LS(o),p=ey(),o!==null&&!Jt?(ty(o,s,T),co(o,s,T)):(Qe&&p&&Og(s),s.flags|=1,xn(o,s,c,T),s.child)}function Vb(o,s,c,p,E){if(gs(s),s.stateNode===null){var T=gl,x=c.contextType;typeof x=="object"&&x!==null&&(T=Cn(x)),T=new c(p,T),s.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=gy,s.stateNode=T,T._reactInternals=s,T=s.stateNode,T.props=p,T.state=s.memoizedState,T.refs={},$g(s),x=c.contextType,T.context=typeof x=="object"&&x!==null?Cn(x):gl,T.state=s.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(my(s,c,x,p),T.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(x=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),x!==T.state&&gy.enqueueReplaceState(T,T.state,null),pc(s,p,T,E),hc(),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){T=s.stateNode;var D=s.memoizedProps,$=As(c,D);T.props=$;var Z=T.context,ae=c.contextType;x=gl,typeof ae=="object"&&ae!==null&&(x=Cn(ae));var ue=c.getDerivedStateFromProps;ae=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D||Z!==x)&&Ab(s,T,p,x),sa=!1;var ee=s.memoizedState;T.state=ee,pc(s,p,T,E),hc(),Z=s.memoizedState,D||ee!==Z||sa?(typeof ue=="function"&&(my(s,c,ue,p),Z=s.memoizedState),($=sa||Tb(s,c,$,p,ee,Z,x))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Z),T.props=p,T.state=Z,T.context=x,p=$):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{T=s.stateNode,Kg(o,s),x=s.memoizedProps,ae=As(c,x),T.props=ae,ue=s.pendingProps,ee=T.context,Z=c.contextType,$=gl,typeof Z=="object"&&Z!==null&&($=Cn(Z)),D=c.getDerivedStateFromProps,(Z=typeof D=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(x!==ue||ee!==$)&&Ab(s,T,p,$),sa=!1,ee=s.memoizedState,T.state=ee,pc(s,p,T,E),hc();var ne=s.memoizedState;x!==ue||ee!==ne||sa||o!==null&&o.dependencies!==null&&Nd(o.dependencies)?(typeof D=="function"&&(my(s,c,D,p),ne=s.memoizedState),(ae=sa||Tb(s,c,ae,p,ee,ne,$)||o!==null&&o.dependencies!==null&&Nd(o.dependencies))?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ne,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ne,$)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||x===o.memoizedProps&&ee===o.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&ee===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ne),T.props=p,T.state=ne,T.context=$,p=ae):(typeof T.componentDidUpdate!="function"||x===o.memoizedProps&&ee===o.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&ee===o.memoizedState||(s.flags|=1024),p=!1)}return T=p,Xd(o,s),p=(s.flags&128)!==0,T||p?(T=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:T.render(),s.flags|=1,o!==null&&p?(s.child=Es(s,o.child,null,E),s.child=Es(s,null,c,E)):xn(o,s,c,E),s.memoizedState=T.state,o=s.child):o=co(o,s,E),o}function Lb(o,s,c,p){return ps(),s.flags|=256,xn(o,s,c,p),s.child}var Ey={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ty(o){return{baseLanes:o,cachePool:CS()}}function Ay(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=Er),o}function Ub(o,s,c){var p=s.pendingProps,E=!1,T=(s.flags&128)!==0,x;if((x=T)||(x=o!==null&&o.memoizedState===null?!1:(Ut.current&2)!==0),x&&(E=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,o===null){if(Qe){if(E?ca(s):fa(),(o=Tt)?(o=Kw(o,Ur),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:ra!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},c=yS(o),c.return=s,s.child=c,wn=s,Tt=null)):o=null,o===null)throw oa(s);return iv(o)?s.lanes=32:s.lanes=536870912,null}var D=p.children;return p=p.fallback,E?(fa(),E=s.mode,D=Qd({mode:"hidden",children:D},E),p=hs(p,E,c,null),D.return=s,p.return=s,D.sibling=p,s.child=D,p=s.child,p.memoizedState=Ty(c),p.childLanes=Ay(o,x,c),s.memoizedState=Ey,_c(null,p)):(ca(s),Sy(s,D))}var $=o.memoizedState;if($!==null&&(D=$.dehydrated,D!==null)){if(T)s.flags&256?(ca(s),s.flags&=-257,s=by(o,s,c)):s.memoizedState!==null?(fa(),s.child=o.child,s.flags|=128,s=null):(fa(),D=p.fallback,E=s.mode,p=Qd({mode:"visible",children:p.children},E),D=hs(D,E,c,null),D.flags|=2,p.return=s,D.return=s,p.sibling=D,s.child=p,Es(s,o.child,null,c),p=s.child,p.memoizedState=Ty(c),p.childLanes=Ay(o,x,c),s.memoizedState=Ey,s=_c(null,p));else if(ca(s),iv(D)){if(x=D.nextSibling&&D.nextSibling.dataset,x)var Z=x.dgst;x=Z,p=Error(r(419)),p.stack="",p.digest=x,sc({value:p,source:null,stack:null}),s=by(o,s,c)}else if(Jt||El(o,s,c,!1),x=(c&o.childLanes)!==0,Jt||x){if(x=gt,x!==null&&(p=Bu(x,c),p!==0&&p!==$.retryLane))throw $.retryLane=p,ds(o,p),rr(x,o,p),vy;rv(D)||sh(),s=by(o,s,c)}else rv(D)?(s.flags|=192,s.child=o.child,s=null):(o=$.treeContext,Tt=Br(D.nextSibling),wn=s,Qe=!0,ia=null,Ur=!1,o!==null&&ES(s,o),s=Sy(s,p.children),s.flags|=4096);return s}return E?(fa(),D=p.fallback,E=s.mode,$=o.child,Z=$.sibling,p=io($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,Z!==null?D=io(Z,D):(D=hs(D,E,c,null),D.flags|=2),D.return=s,p.return=s,p.sibling=D,s.child=p,_c(null,p),p=s.child,D=o.child.memoizedState,D===null?D=Ty(c):(E=D.cachePool,E!==null?($=jt._currentValue,E=E.parent!==$?{parent:$,pool:$}:E):E=CS(),D={baseLanes:D.baseLanes|c,cachePool:E}),p.memoizedState=D,p.childLanes=Ay(o,x,c),s.memoizedState=Ey,_c(o.child,p)):(ca(s),c=o.child,o=c.sibling,c=io(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,o!==null&&(x=s.deletions,x===null?(s.deletions=[o],s.flags|=16):x.push(o)),s.child=c,s.memoizedState=null,c)}function Sy(o,s){return s=Qd({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Qd(o,s){return o=gr(22,o,null,s),o.lanes=0,o}function by(o,s,c){return Es(s,o.child,null,c),o=Sy(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function qb(o,s,c){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),qg(o.return,s,c)}function wy(o,s,c,p,E,T){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:E,treeForkCount:T}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=c,x.tailMode=E,x.treeForkCount=T)}function Bb(o,s,c){var p=s.pendingProps,E=p.revealOrder,T=p.tail;p=p.children;var x=Ut.current,D=(x&2)!==0;if(D?(x=x&1|2,s.flags|=128):x&=1,pe(Ut,x),xn(o,s,p,c),p=Qe?ac:0,!D&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&qb(o,c,s);else if(o.tag===19)qb(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(c=s.child,E=null;c!==null;)o=c.alternate,o!==null&&Bd(o)===null&&(E=c),c=c.sibling;c=E,c===null?(E=s.child,s.child=null):(E=c.sibling,c.sibling=null),wy(s,!1,E,c,T,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,E=s.child,s.child=null;E!==null;){if(o=E.alternate,o!==null&&Bd(o)===null){s.child=E;break}o=E.sibling,E.sibling=c,c=E,E=o}wy(s,!0,c,null,T,p);break;case"together":wy(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function co(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),pa|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(El(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,c=io(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=io(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function Cy(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&Nd(o)))}function $U(o,s,c){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),aa(s,jt,o.memoizedState.cache),ps();break;case 27:case 5:Le(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:aa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Xg(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(ca(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Ub(o,s,c):(ca(s),o=co(o,s,c),o!==null?o.sibling:null);ca(s);break;case 19:var E=(o.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(El(o,s,c,!1),p=(c&s.childLanes)!==0),E){if(p)return Bb(o,s,c);s.flags|=128}if(E=s.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),pe(Ut,Ut.current),p)break;return null;case 22:return s.lanes=0,Nb(o,s,c,s.pendingProps);case 24:aa(s,jt,o.memoizedState.cache)}return co(o,s,c)}function zb(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Cy(o,c)&&(s.flags&128)===0)return Jt=!1,$U(o,s,c);Jt=(o.flags&131072)!==0}else Jt=!1,Qe&&(s.flags&1048576)!==0&&_S(s,ac,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=vs(s.elementType),s.type=o,typeof o=="function")Mg(o)?(p=As(o,p),s.tag=1,s=Vb(null,s,o,p,c)):(s.tag=0,s=_y(null,s,o,p,c));else{if(o!=null){var E=o.$$typeof;if(E===G){s.tag=11,s=Rb(null,s,o,p,c);break e}else if(E===P){s.tag=14,s=Pb(null,s,o,p,c);break e}}throw s=ye(o)||o,Error(r(306,s,""))}}return s;case 0:return _y(o,s,s.type,s.pendingProps,c);case 1:return p=s.type,E=As(p,s.pendingProps),Vb(o,s,p,E,c);case 3:e:{if(Pt(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var T=s.memoizedState;E=T.element,Kg(o,s),pc(s,p,null,c);var x=s.memoizedState;if(p=x.cache,aa(s,jt,p),p!==T.cache&&Bg(s,[jt],c,!0),hc(),p=x.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=T,s.memoizedState=T,s.flags&256){s=Lb(o,s,p,c);break e}else if(p!==E){E=kr(Error(r(424)),s),sc(E),s=Lb(o,s,p,c);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Tt=Br(o.firstChild),wn=s,Qe=!0,ia=null,Ur=!0,c=NS(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ps(),p===E){s=co(o,s,c);break e}xn(o,s,p,c)}s=s.child}return s;case 26:return Xd(o,s),o===null?(c=Qw(s.type,null,s.pendingProps,null))?s.memoizedState=c:Qe||(c=s.type,o=s.pendingProps,p=ph(Oe.current).createElement(c),p[Gt]=s,p[pn]=o,In(p,c,o),$t(p),s.stateNode=p):s.memoizedState=Qw(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Le(s),o===null&&Qe&&(p=s.stateNode=Jw(s.type,s.pendingProps,Oe.current),wn=s,Ur=!0,E=Tt,_a(s.type)?(ov=E,Tt=Br(p.firstChild)):Tt=E),xn(o,s,s.pendingProps.children,c),Xd(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Qe&&((E=p=Tt)&&(p=T4(p,s.type,s.pendingProps,Ur),p!==null?(s.stateNode=p,wn=s,Tt=Br(p.firstChild),Ur=!1,E=!0):E=!1),E||oa(s)),Le(s),E=s.type,T=s.pendingProps,x=o!==null?o.memoizedProps:null,p=T.children,ev(E,T)?p=null:x!==null&&ev(E,x)&&(s.flags|=32),s.memoizedState!==null&&(E=Zg(o,s,VU,null,null,c),Oc._currentValue=E),Xd(o,s),xn(o,s,p,c),s.child;case 6:return o===null&&Qe&&((o=c=Tt)&&(c=A4(c,s.pendingProps,Ur),c!==null?(s.stateNode=c,wn=s,Tt=null,o=!0):o=!1),o||oa(s)),null;case 13:return Ub(o,s,c);case 4:return Pt(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=Es(s,null,p,c):xn(o,s,p,c),s.child;case 11:return Rb(o,s,s.type,s.pendingProps,c);case 7:return xn(o,s,s.pendingProps,c),s.child;case 8:return xn(o,s,s.pendingProps.children,c),s.child;case 12:return xn(o,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,aa(s,s.type,p.value),xn(o,s,p.children,c),s.child;case 9:return E=s.type._context,p=s.pendingProps.children,gs(s),E=Cn(E),p=p(E),s.flags|=1,xn(o,s,p,c),s.child;case 14:return Pb(o,s,s.type,s.pendingProps,c);case 15:return Mb(o,s,s.type,s.pendingProps,c);case 19:return Bb(o,s,c);case 31:return GU(o,s,c);case 22:return Nb(o,s,c,s.pendingProps);case 24:return gs(s),p=Cn(jt),o===null?(E=Hg(),E===null&&(E=gt,T=zg(),E.pooledCache=T,T.refCount++,T!==null&&(E.pooledCacheLanes|=c),E=T),s.memoizedState={parent:p,cache:E},$g(s),aa(s,jt,E)):((o.lanes&c)!==0&&(Kg(o,s),pc(s,null,null,c),hc()),E=o.memoizedState,T=s.memoizedState,E.parent!==p?(E={parent:p,cache:p},s.memoizedState=E,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=E),aa(s,jt,p)):(p=T.cache,aa(s,jt,p),p!==E.cache&&Bg(s,[jt],c,!0))),xn(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function fo(o){o.flags|=4}function xy(o,s,c,p,E){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(pw())o.flags|=8192;else throw _s=Vd,Gg}else o.flags&=-16777217}function Fb(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!rC(s))if(pw())o.flags|=8192;else throw _s=Vd,Gg}function Zd(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?od():536870912,o.lanes|=s,Nl|=s)}function Ec(o,s){if(!Qe)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function At(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(s)for(var E=o.child;E!==null;)c|=E.lanes|E.childLanes,p|=E.subtreeFlags&65011712,p|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)c|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=p,o.childLanes=c,s}function KU(o,s,c){var p=s.pendingProps;switch(kg(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return c=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),so(jt),se(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(_l(s)?fo(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Lg())),At(s),null;case 26:var E=s.type,T=s.memoizedState;return o===null?(fo(s),T!==null?(At(s),Fb(s,T)):(At(s),xy(s,E,null,p,c))):T?T!==o.memoizedState?(fo(s),At(s),Fb(s,T)):(At(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&fo(s),At(s),xy(s,E,o,p,c)),null;case 27:if(Ge(s),c=Oe.current,E=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&fo(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return At(s),null}o=ge.current,_l(s)?TS(s):(o=Jw(E,p,c),s.stateNode=o,fo(s))}return At(s),null;case 5:if(Ge(s),E=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&fo(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return At(s),null}if(T=ge.current,_l(s))TS(s);else{var x=ph(Oe.current);switch(T){case 1:T=x.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:T=x.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":T=x.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":T=x.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":T=x.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?T.multiple=!0:p.size&&(T.size=p.size);break;default:T=typeof p.is=="string"?x.createElement(E,{is:p.is}):x.createElement(E)}}T[Gt]=s,T[pn]=p;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)T.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=T;e:switch(In(T,E,p),E){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&fo(s)}}return At(s),xy(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,c),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&fo(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=Oe.current,_l(s)){if(o=s.stateNode,c=s.memoizedProps,p=null,E=wn,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}o[Gt]=s,o=!!(o.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||Uw(o.nodeValue,c)),o||oa(s,!0)}else o=ph(o).createTextNode(p),o[Gt]=s,s.stateNode=o}return At(s),null;case 31:if(c=s.memoizedState,o===null||o.memoizedState!==null){if(p=_l(s),c!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Gt]=s}else ps(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),o=!1}else c=Lg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=c),o=!0;if(!o)return s.flags&256?(vr(s),s):(vr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return At(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=_l(s),p!==null&&p.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Gt]=s}else ps(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),E=!1}else E=Lg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return s.flags&256?(vr(s),s):(vr(s),null)}return vr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,o=o!==null&&o.memoizedState!==null,c&&(p=s.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==E&&(p.flags|=2048)),c!==o&&c&&(s.child.flags|=8192),Zd(s,s.updateQueue),At(s),null);case 4:return se(),o===null&&Jy(s.stateNode.containerInfo),At(s),null;case 10:return so(s.type),At(s),null;case 19:if(oe(Ut),p=s.memoizedState,p===null)return At(s),null;if(E=(s.flags&128)!==0,T=p.rendering,T===null)if(E)Ec(p,!1);else{if(Dt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(T=Bd(o),T!==null){for(s.flags|=128,Ec(p,!1),o=T.updateQueue,s.updateQueue=o,Zd(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)gS(c,o),c=c.sibling;return pe(Ut,Ut.current&1|2),Qe&&oo(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&Hn()>ih&&(s.flags|=128,E=!0,Ec(p,!1),s.lanes=4194304)}else{if(!E)if(o=Bd(T),o!==null){if(s.flags|=128,E=!0,o=o.updateQueue,s.updateQueue=o,Zd(s,o),Ec(p,!0),p.tail===null&&p.tailMode==="hidden"&&!T.alternate&&!Qe)return At(s),null}else 2*Hn()-p.renderingStartTime>ih&&c!==536870912&&(s.flags|=128,E=!0,Ec(p,!1),s.lanes=4194304);p.isBackwards?(T.sibling=s.child,s.child=T):(o=p.last,o!==null?o.sibling=T:s.child=T,p.last=T)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Hn(),o.sibling=null,c=Ut.current,pe(Ut,E?c&1|2:c&1),Qe&&oo(s,p.treeForkCount),o):(At(s),null);case 22:case 23:return vr(s),Wg(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),c=s.updateQueue,c!==null&&Zd(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),o!==null&&oe(ys),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),so(jt),At(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function jU(o,s){switch(kg(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return so(jt),se(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Ge(s),null;case 31:if(s.memoizedState!==null){if(vr(s),s.alternate===null)throw Error(r(340));ps()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(vr(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ps()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return oe(Ut),null;case 4:return se(),null;case 10:return so(s.type),null;case 22:case 23:return vr(s),Wg(),o!==null&&oe(ys),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return so(jt),null;case 25:return null;default:return null}}function Hb(o,s){switch(kg(s),s.tag){case 3:so(jt),se();break;case 26:case 27:case 5:Ge(s);break;case 4:se();break;case 31:s.memoizedState!==null&&vr(s);break;case 13:vr(s);break;case 19:oe(Ut);break;case 10:so(s.type);break;case 22:case 23:vr(s),Wg(),o!==null&&oe(ys);break;case 24:so(jt)}}function Tc(o,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var E=p.next;c=E;do{if((c.tag&o)===o){p=void 0;var T=c.create,x=c.inst;p=T(),x.destroy=p}c=c.next}while(c!==E)}}catch(D){ct(s,s.return,D)}}function da(o,s,c){try{var p=s.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var T=E.next;p=T;do{if((p.tag&o)===o){var x=p.inst,D=x.destroy;if(D!==void 0){x.destroy=void 0,E=s;var $=c,Z=D;try{Z()}catch(ae){ct(E,$,ae)}}}p=p.next}while(p!==T)}}catch(ae){ct(s,s.return,ae)}}function Gb(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{OS(s,c)}catch(p){ct(o,o.return,p)}}}function $b(o,s,c){c.props=As(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(p){ct(o,s,p)}}function Ac(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof c=="function"?o.refCleanup=c(p):c.current=p}}catch(E){ct(o,s,E)}}function ki(o,s){var c=o.ref,p=o.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(E){ct(o,s,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(E){ct(o,s,E)}else c.current=null}function Kb(o){var s=o.type,c=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(E){ct(o,o.return,E)}}function Iy(o,s,c){try{var p=o.stateNode;m4(p,o.type,c,s),p[pn]=s}catch(E){ct(o,o.return,E)}}function jb(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&_a(o.type)||o.tag===4}function Ry(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||jb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&_a(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Py(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ri));else if(p!==4&&(p===27&&_a(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(Py(o,s,c),o=o.sibling;o!==null;)Py(o,s,c),o=o.sibling}function eh(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(p!==4&&(p===27&&_a(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(eh(o,s,c),o=o.sibling;o!==null;)eh(o,s,c),o=o.sibling}function Yb(o){var s=o.stateNode,c=o.memoizedProps;try{for(var p=o.type,E=s.attributes;E.length;)s.removeAttributeNode(E[0]);In(s,p,c),s[Gt]=o,s[pn]=c}catch(T){ct(o,o.return,T)}}var ho=!1,Wt=!1,My=!1,Jb=typeof WeakSet=="function"?WeakSet:Set,gn=null;function YU(o,s){if(o=o.containerInfo,Qy=Th,o=sS(o),bg(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var E=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var x=0,D=-1,$=-1,Z=0,ae=0,ue=o,ee=null;t:for(;;){for(var ne;ue!==c||E!==0&&ue.nodeType!==3||(D=x+E),ue!==T||p!==0&&ue.nodeType!==3||($=x+p),ue.nodeType===3&&(x+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)ee=ue,ue=ne;for(;;){if(ue===o)break t;if(ee===c&&++Z===E&&(D=x),ee===T&&++ae===p&&($=x),(ne=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ne}c=D===-1||$===-1?null:{start:D,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(Zy={focusedElem:o,selectionRange:c},Th=!1,gn=s;gn!==null;)if(s=gn,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,gn=o;else for(;gn!==null;){switch(s=gn,T=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(c=0;c<o.length;c++)E=o[c],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,c=s,E=T.memoizedProps,T=T.memoizedState,p=c.stateNode;try{var Se=As(c.type,E);o=p.getSnapshotBeforeUpdate(Se,T),p.__reactInternalSnapshotBeforeUpdate=o}catch(Me){ct(c,c.return,Me)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)nv(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":nv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,gn=o;break}gn=s.return}}function Wb(o,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:mo(o,c),p&4&&Tc(5,c);break;case 1:if(mo(o,c),p&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(x){ct(c,c.return,x)}else{var E=As(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(E,s,o.__reactInternalSnapshotBeforeUpdate)}catch(x){ct(c,c.return,x)}}p&64&&Gb(c),p&512&&Ac(c,c.return);break;case 3:if(mo(o,c),p&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{OS(o,s)}catch(x){ct(c,c.return,x)}}break;case 27:s===null&&p&4&&Yb(c);case 26:case 5:mo(o,c),s===null&&p&4&&Kb(c),p&512&&Ac(c,c.return);break;case 12:mo(o,c);break;case 31:mo(o,c),p&4&&Zb(o,c);break;case 13:mo(o,c),p&4&&ew(o,c),p&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=r4.bind(null,c),S4(o,c))));break;case 22:if(p=c.memoizedState!==null||ho,!p){s=s!==null&&s.memoizedState!==null||Wt,E=ho;var T=Wt;ho=p,(Wt=s)&&!T?go(o,c,(c.subtreeFlags&8772)!==0):mo(o,c),ho=E,Wt=T}break;case 30:break;default:mo(o,c)}}function Xb(o){var s=o.alternate;s!==null&&(o.alternate=null,Xb(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&nl(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var It=null,Zn=!1;function po(o,s,c){for(c=c.child;c!==null;)Qb(o,s,c),c=c.sibling}function Qb(o,s,c){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Zr,c)}catch{}switch(c.tag){case 26:Wt||ki(c,s),po(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Wt||ki(c,s);var p=It,E=Zn;_a(c.type)&&(It=c.stateNode,Zn=!1),po(o,s,c),Mc(c.stateNode),It=p,Zn=E;break;case 5:Wt||ki(c,s);case 6:if(p=It,E=Zn,It=null,po(o,s,c),It=p,Zn=E,It!==null)if(Zn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(c.stateNode)}catch(T){ct(c,s,T)}else try{It.removeChild(c.stateNode)}catch(T){ct(c,s,T)}break;case 18:It!==null&&(Zn?(o=It,Gw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),Bl(o)):Gw(It,c.stateNode));break;case 4:p=It,E=Zn,It=c.stateNode.containerInfo,Zn=!0,po(o,s,c),It=p,Zn=E;break;case 0:case 11:case 14:case 15:da(2,c,s),Wt||da(4,c,s),po(o,s,c);break;case 1:Wt||(ki(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&$b(c,s,p)),po(o,s,c);break;case 21:po(o,s,c);break;case 22:Wt=(p=Wt)||c.memoizedState!==null,po(o,s,c),Wt=p;break;default:po(o,s,c)}}function Zb(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Bl(o)}catch(c){ct(s,s.return,c)}}}function ew(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Bl(o)}catch(c){ct(s,s.return,c)}}function JU(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new Jb),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new Jb),s;default:throw Error(r(435,o.tag))}}function th(o,s){var c=JU(o);s.forEach(function(p){if(!c.has(p)){c.add(p);var E=i4.bind(null,o,p);p.then(E,E)}})}function er(o,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var E=c[p],T=o,x=s,D=x;e:for(;D!==null;){switch(D.tag){case 27:if(_a(D.type)){It=D.stateNode,Zn=!1;break e}break;case 5:It=D.stateNode,Zn=!1;break e;case 3:case 4:It=D.stateNode.containerInfo,Zn=!0;break e}D=D.return}if(It===null)throw Error(r(160));Qb(T,x,E),It=null,Zn=!1,T=E.alternate,T!==null&&(T.return=null),E.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)tw(s,o),s=s.sibling}var ui=null;function tw(o,s){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:er(s,o),tr(o),p&4&&(da(3,o,o.return),Tc(3,o),da(5,o,o.return));break;case 1:er(s,o),tr(o),p&512&&(Wt||c===null||ki(c,c.return)),p&64&&ho&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var E=ui;if(er(s,o),tr(o),p&512&&(Wt||c===null||ki(c,c.return)),p&4){var T=c!==null?c.memoizedState:null;if(p=o.memoizedState,c===null)if(p===null)if(o.stateNode===null){e:{p=o.type,c=o.memoizedProps,E=E.ownerDocument||E;t:switch(p){case"title":T=E.getElementsByTagName("title")[0],(!T||T[Ti]||T[Gt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=E.createElement(p),E.head.insertBefore(T,E.querySelector("head > title"))),In(T,p,c),T[Gt]=o,$t(T),p=T;break e;case"link":var x=tC("link","href",E).get(p+(c.href||""));if(x){for(var D=0;D<x.length;D++)if(T=x[D],T.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&T.getAttribute("rel")===(c.rel==null?null:c.rel)&&T.getAttribute("title")===(c.title==null?null:c.title)&&T.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(D,1);break t}}T=E.createElement(p),In(T,p,c),E.head.appendChild(T);break;case"meta":if(x=tC("meta","content",E).get(p+(c.content||""))){for(D=0;D<x.length;D++)if(T=x[D],T.getAttribute("content")===(c.content==null?null:""+c.content)&&T.getAttribute("name")===(c.name==null?null:c.name)&&T.getAttribute("property")===(c.property==null?null:c.property)&&T.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&T.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(D,1);break t}}T=E.createElement(p),In(T,p,c),E.head.appendChild(T);break;default:throw Error(r(468,p))}T[Gt]=o,$t(T),p=T}o.stateNode=p}else nC(E,o.type,o.stateNode);else o.stateNode=eC(E,p,o.memoizedProps);else T!==p?(T===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):T.count--,p===null?nC(E,o.type,o.stateNode):eC(E,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Iy(o,o.memoizedProps,c.memoizedProps)}break;case 27:er(s,o),tr(o),p&512&&(Wt||c===null||ki(c,c.return)),c!==null&&p&4&&Iy(o,o.memoizedProps,c.memoizedProps);break;case 5:if(er(s,o),tr(o),p&512&&(Wt||c===null||ki(c,c.return)),o.flags&32){E=o.stateNode;try{Qn(E,"")}catch(Se){ct(o,o.return,Se)}}p&4&&o.stateNode!=null&&(E=o.memoizedProps,Iy(o,E,c!==null?c.memoizedProps:E)),p&1024&&(My=!0);break;case 6:if(er(s,o),tr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,c=o.stateNode;try{c.nodeValue=p}catch(Se){ct(o,o.return,Se)}}break;case 3:if(yh=null,E=ui,ui=mh(s.containerInfo),er(s,o),ui=E,tr(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Bl(s.containerInfo)}catch(Se){ct(o,o.return,Se)}My&&(My=!1,nw(o));break;case 4:p=ui,ui=mh(o.stateNode.containerInfo),er(s,o),tr(o),ui=p;break;case 12:er(s,o),tr(o);break;case 31:er(s,o),tr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,th(o,p)));break;case 13:er(s,o),tr(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(rh=Hn()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,th(o,p)));break;case 22:E=o.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,Z=ho,ae=Wt;if(ho=Z||E,Wt=ae||$,er(s,o),Wt=ae,ho=Z,tr(o),p&8192)e:for(s=o.stateNode,s._visibility=E?s._visibility&-2:s._visibility|1,E&&(c===null||$||ho||Wt||Ss(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){$=c=s;try{if(T=$.stateNode,E)x=T.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{D=$.stateNode;var ue=$.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){ct($,$.return,Se)}}}else if(s.tag===6){if(c===null){$=s;try{$.stateNode.nodeValue=E?"":$.memoizedProps}catch(Se){ct($,$.return,Se)}}}else if(s.tag===18){if(c===null){$=s;try{var ne=$.stateNode;E?$w(ne,!0):$w($.stateNode,!1)}catch(Se){ct($,$.return,Se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,th(o,c))));break;case 19:er(s,o),tr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,th(o,p)));break;case 30:break;case 21:break;default:er(s,o),tr(o)}}function tr(o){var s=o.flags;if(s&2){try{for(var c,p=o.return;p!==null;){if(jb(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var E=c.stateNode,T=Ry(o);eh(o,T,E);break;case 5:var x=c.stateNode;c.flags&32&&(Qn(x,""),c.flags&=-33);var D=Ry(o);eh(o,D,x);break;case 3:case 4:var $=c.stateNode.containerInfo,Z=Ry(o);Py(o,Z,$);break;default:throw Error(r(161))}}catch(ae){ct(o,o.return,ae)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function nw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;nw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function mo(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Wb(o,s.alternate,s),s=s.sibling}function Ss(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:da(4,s,s.return),Ss(s);break;case 1:ki(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&$b(s,s.return,c),Ss(s);break;case 27:Mc(s.stateNode);case 26:case 5:ki(s,s.return),Ss(s);break;case 22:s.memoizedState===null&&Ss(s);break;case 30:Ss(s);break;default:Ss(s)}o=o.sibling}}function go(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,E=o,T=s,x=T.flags;switch(T.tag){case 0:case 11:case 15:go(E,T,c),Tc(4,T);break;case 1:if(go(E,T,c),p=T,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Z){ct(p,p.return,Z)}if(p=T,E=p.updateQueue,E!==null){var D=p.stateNode;try{var $=E.shared.hiddenCallbacks;if($!==null)for(E.shared.hiddenCallbacks=null,E=0;E<$.length;E++)DS($[E],D)}catch(Z){ct(p,p.return,Z)}}c&&x&64&&Gb(T),Ac(T,T.return);break;case 27:Yb(T);case 26:case 5:go(E,T,c),c&&p===null&&x&4&&Kb(T),Ac(T,T.return);break;case 12:go(E,T,c);break;case 31:go(E,T,c),c&&x&4&&Zb(E,T);break;case 13:go(E,T,c),c&&x&4&&ew(E,T);break;case 22:T.memoizedState===null&&go(E,T,c),Ac(T,T.return);break;case 30:break;default:go(E,T,c)}s=s.sibling}}function Ny(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&lc(c))}function Dy(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&lc(o))}function ci(o,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rw(o,s,c,p),s=s.sibling}function rw(o,s,c,p){var E=s.flags;switch(s.tag){case 0:case 11:case 15:ci(o,s,c,p),E&2048&&Tc(9,s);break;case 1:ci(o,s,c,p);break;case 3:ci(o,s,c,p),E&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&lc(o)));break;case 12:if(E&2048){ci(o,s,c,p),o=s.stateNode;try{var T=s.memoizedProps,x=T.id,D=T.onPostCommit;typeof D=="function"&&D(x,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch($){ct(s,s.return,$)}}else ci(o,s,c,p);break;case 31:ci(o,s,c,p);break;case 13:ci(o,s,c,p);break;case 23:break;case 22:T=s.stateNode,x=s.alternate,s.memoizedState!==null?T._visibility&2?ci(o,s,c,p):Sc(o,s):T._visibility&2?ci(o,s,c,p):(T._visibility|=2,Rl(o,s,c,p,(s.subtreeFlags&10256)!==0||!1)),E&2048&&Ny(x,s);break;case 24:ci(o,s,c,p),E&2048&&Dy(s.alternate,s);break;default:ci(o,s,c,p)}}function Rl(o,s,c,p,E){for(E=E&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var T=o,x=s,D=c,$=p,Z=x.flags;switch(x.tag){case 0:case 11:case 15:Rl(T,x,D,$,E),Tc(8,x);break;case 23:break;case 22:var ae=x.stateNode;x.memoizedState!==null?ae._visibility&2?Rl(T,x,D,$,E):Sc(T,x):(ae._visibility|=2,Rl(T,x,D,$,E)),E&&Z&2048&&Ny(x.alternate,x);break;case 24:Rl(T,x,D,$,E),E&&Z&2048&&Dy(x.alternate,x);break;default:Rl(T,x,D,$,E)}s=s.sibling}}function Sc(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,p=s,E=p.flags;switch(p.tag){case 22:Sc(c,p),E&2048&&Ny(p.alternate,p);break;case 24:Sc(c,p),E&2048&&Dy(p.alternate,p);break;default:Sc(c,p)}s=s.sibling}}var bc=8192;function Pl(o,s,c){if(o.subtreeFlags&bc)for(o=o.child;o!==null;)iw(o,s,c),o=o.sibling}function iw(o,s,c){switch(o.tag){case 26:Pl(o,s,c),o.flags&bc&&o.memoizedState!==null&&k4(c,ui,o.memoizedState,o.memoizedProps);break;case 5:Pl(o,s,c);break;case 3:case 4:var p=ui;ui=mh(o.stateNode.containerInfo),Pl(o,s,c),ui=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=bc,bc=16777216,Pl(o,s,c),bc=p):Pl(o,s,c));break;default:Pl(o,s,c)}}function ow(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function wc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];gn=p,sw(p,o)}ow(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)aw(o),o=o.sibling}function aw(o){switch(o.tag){case 0:case 11:case 15:wc(o),o.flags&2048&&da(9,o,o.return);break;case 3:wc(o);break;case 12:wc(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,nh(o)):wc(o);break;default:wc(o)}}function nh(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];gn=p,sw(p,o)}ow(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:da(8,s,s.return),nh(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,nh(s));break;default:nh(s)}o=o.sibling}}function sw(o,s){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:da(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:lc(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,gn=p;else e:for(c=o;gn!==null;){p=gn;var E=p.sibling,T=p.return;if(Xb(p),p===c){gn=null;break e}if(E!==null){E.return=T,gn=E;break e}gn=T}}}var WU={getCacheForType:function(o){var s=Cn(jt),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c},cacheSignal:function(){return Cn(jt).controller.signal}},XU=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,Ke=null,Ye=0,ut=0,_r=null,ha=!1,Ml=!1,Oy=!1,yo=0,Dt=0,pa=0,bs=0,ky=0,Er=0,Nl=0,Cc=null,nr=null,Vy=!1,rh=0,lw=0,ih=1/0,oh=null,ma=null,an=0,ga=null,Dl=null,vo=0,Ly=0,Uy=null,uw=null,xc=0,qy=null;function Tr(){return(at&2)!==0&&Ye!==0?Ye&-Ye:W.T!==null?$y():ad()}function cw(){if(Er===0)if((Ye&536870912)===0||Qe){var o=Xa;Xa<<=1,(Xa&3932160)===0&&(Xa=262144),Er=o}else Er=536870912;return o=yr.current,o!==null&&(o.flags|=32),Er}function rr(o,s,c){(o===gt&&(ut===2||ut===9)||o.cancelPendingCommit!==null)&&(Ol(o,0),ya(o,Ye,Er,!1)),Qa(o,c),((at&2)===0||o!==gt)&&(o===gt&&((at&2)===0&&(bs|=c),Dt===4&&ya(o,Ye,Er,!1)),Vi(o))}function fw(o,s,c){if((at&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&o.expiredLanes)===0||ei(o,s),E=p?e4(o,s):zy(o,s,!0),T=p;do{if(E===0){Ml&&!p&&ya(o,s,0,!1);break}else{if(c=o.current.alternate,T&&!QU(c)){E=zy(o,s,!1),T=!1;continue}if(E===2){if(T=s,o.errorRecoveryDisabledLanes&T)var x=0;else x=o.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var D=o;E=Cc;var $=D.current.memoizedState.isDehydrated;if($&&(Ol(D,x).flags|=256),x=zy(D,x,!1),x!==2){if(Oy&&!$){D.errorRecoveryDisabledLanes|=T,bs|=T,E=4;break e}T=nr,nr=E,T!==null&&(nr===null?nr=T:nr.push.apply(nr,T))}E=x}if(T=!1,E!==2)continue}}if(E===1){Ol(o,0),ya(o,s,0,!0);break}e:{switch(p=o,T=E,T){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ya(p,s,Er,!ha);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(E=rh+300-Hn(),10<E)){if(ya(p,s,Er,!ha),vi(p,0,!0)!==0)break e;vo=s,p.timeoutHandle=Fw(dw.bind(null,p,c,nr,oh,Vy,s,Er,bs,Nl,ha,T,"Throttled",-0,0),E);break e}dw(p,c,nr,oh,Vy,s,Er,bs,Nl,ha,T,null,-0,0)}}break}while(!0);Vi(o)}function dw(o,s,c,p,E,T,x,D,$,Z,ae,ue,ee,ne){if(o.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},iw(s,T,ue);var Se=(T&62914560)===T?rh-Hn():(T&4194048)===T?lw-Hn():0;if(Se=V4(ue,Se),Se!==null){vo=T,o.cancelPendingCommit=Se(Ew.bind(null,o,s,T,c,p,E,x,D,$,ae,ue,null,ee,ne)),ya(o,T,x,!Z);return}}Ew(o,s,T,c,p,E,x,D,$)}function QU(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var E=c[p],T=E.getSnapshot;E=E.value;try{if(!mr(T(),E))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ya(o,s,c,p){s&=~ky,s&=~bs,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var E=s;0<E;){var T=31-Vt(E),x=1<<T;p[T]=-1,E&=~x}c!==0&&Za(o,c,s)}function ah(){return(at&6)===0?(Ic(0),!1):!0}function By(){if(Ke!==null){if(ut===0)var o=Ke.return;else o=Ke,ao=ms=null,ny(o),bl=null,cc=0,o=Ke;for(;o!==null;)Hb(o.alternate,o),o=o.return;Ke=null}}function Ol(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,v4(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),vo=0,By(),gt=o,Ke=c=io(o.current,null),Ye=s,ut=0,_r=null,ha=!1,Ml=ei(o,s),Oy=!1,Nl=Er=ky=bs=pa=Dt=0,nr=Cc=null,Vy=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var E=31-Vt(p),T=1<<E;s|=o[E],p&=~T}return yo=s,xd(),c}function hw(o,s){ze=null,W.H=vc,s===Sl||s===kd?(s=RS(),ut=3):s===Gg?(s=RS(),ut=4):ut=s===vy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,_r=s,Ke===null&&(Dt=1,Jd(o,kr(s,o.current)))}function pw(){var o=yr.current;return o===null?!0:(Ye&4194048)===Ye?qr===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?o===qr:!1}function mw(){var o=W.H;return W.H=vc,o===null?vc:o}function gw(){var o=W.A;return W.A=WU,o}function sh(){Dt=4,ha||(Ye&4194048)!==Ye&&yr.current!==null||(Ml=!0),(pa&134217727)===0&&(bs&134217727)===0||gt===null||ya(gt,Ye,Er,!1)}function zy(o,s,c){var p=at;at|=2;var E=mw(),T=gw();(gt!==o||Ye!==s)&&(oh=null,Ol(o,s)),s=!1;var x=Dt;e:do try{if(ut!==0&&Ke!==null){var D=Ke,$=_r;switch(ut){case 8:By(),x=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(s=!0);var Z=ut;if(ut=0,_r=null,kl(o,D,$,Z),c&&Ml){x=0;break e}break;default:Z=ut,ut=0,_r=null,kl(o,D,$,Z)}}ZU(),x=Dt;break}catch(ae){hw(o,ae)}while(!0);return s&&o.shellSuspendCounter++,ao=ms=null,at=p,W.H=E,W.A=T,Ke===null&&(gt=null,Ye=0,xd()),x}function ZU(){for(;Ke!==null;)yw(Ke)}function e4(o,s){var c=at;at|=2;var p=mw(),E=gw();gt!==o||Ye!==s?(oh=null,ih=Hn()+500,Ol(o,s)):Ml=ei(o,s);e:do try{if(ut!==0&&Ke!==null){s=Ke;var T=_r;t:switch(ut){case 1:ut=0,_r=null,kl(o,s,T,1);break;case 2:case 9:if(xS(T)){ut=0,_r=null,vw(s);break}s=function(){ut!==2&&ut!==9||gt!==o||(ut=7),Vi(o)},T.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:xS(T)?(ut=0,_r=null,vw(s)):(ut=0,_r=null,kl(o,s,T,7));break;case 5:var x=null;switch(Ke.tag){case 26:x=Ke.memoizedState;case 5:case 27:var D=Ke;if(x?rC(x):D.stateNode.complete){ut=0,_r=null;var $=D.sibling;if($!==null)Ke=$;else{var Z=D.return;Z!==null?(Ke=Z,lh(Z)):Ke=null}break t}}ut=0,_r=null,kl(o,s,T,5);break;case 6:ut=0,_r=null,kl(o,s,T,6);break;case 8:By(),Dt=6;break e;default:throw Error(r(462))}}t4();break}catch(ae){hw(o,ae)}while(!0);return ao=ms=null,W.H=p,W.A=E,at=c,Ke!==null?0:(gt=null,Ye=0,xd(),Dt)}function t4(){for(;Ke!==null&&!yg();)yw(Ke)}function yw(o){var s=zb(o.alternate,o,yo);o.memoizedProps=o.pendingProps,s===null?lh(o):Ke=s}function vw(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=kb(c,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=kb(c,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:ny(s);default:Hb(c,s),s=Ke=gS(s,yo),s=zb(c,s,yo)}o.memoizedProps=o.pendingProps,s===null?lh(o):Ke=s}function kl(o,s,c,p){ao=ms=null,ny(s),bl=null,cc=0;var E=s.return;try{if(HU(o,E,s,c,Ye)){Dt=1,Jd(o,kr(c,o.current)),Ke=null;return}}catch(T){if(E!==null)throw Ke=E,T;Dt=1,Jd(o,kr(c,o.current)),Ke=null;return}s.flags&32768?(Qe||p===1?o=!0:Ml||(Ye&536870912)!==0?o=!1:(ha=o=!0,(p===2||p===9||p===3||p===6)&&(p=yr.current,p!==null&&p.tag===13&&(p.flags|=16384))),_w(s,o)):lh(s)}function lh(o){var s=o;do{if((s.flags&32768)!==0){_w(s,ha);return}o=s.return;var c=KU(s.alternate,s,yo);if(c!==null){Ke=c;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=o}while(s!==null);Dt===0&&(Dt=5)}function _w(o,s){do{var c=jU(o.alternate,o);if(c!==null){c.flags&=32767,Ke=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){Ke=o;return}Ke=o=c}while(o!==null);Dt=6,Ke=null}function Ew(o,s,c,p,E,T,x,D,$){o.cancelPendingCommit=null;do uh();while(an!==0);if((at&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(T=s.lanes|s.childLanes,T|=Rg,Eg(o,c,T,x,D,$),o===gt&&(Ke=gt=null,Ye=0),Dl=s,ga=o,vo=c,Ly=T,Uy=E,uw=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,o4(jo,function(){return ww(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=W.T,W.T=null,E=re.p,re.p=2,x=at,at|=4;try{YU(o,s,c)}finally{at=x,re.p=E,W.T=p}}an=1,Tw(),Aw(),Sw()}}function Tw(){if(an===1){an=0;var o=ga,s=Dl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var p=re.p;re.p=2;var E=at;at|=4;try{tw(s,o);var T=Zy,x=sS(o.containerInfo),D=T.focusedElem,$=T.selectionRange;if(x!==D&&D&&D.ownerDocument&&aS(D.ownerDocument.documentElement,D)){if($!==null&&bg(D)){var Z=$.start,ae=$.end;if(ae===void 0&&(ae=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(ae,D.value.length);else{var ue=D.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Se=D.textContent.length,Me=Math.min($.start,Se),mt=$.end===void 0?Me:Math.min($.end,Se);!ne.extend&&Me>mt&&(x=mt,mt=Me,Me=x);var J=oS(D,Me),Y=oS(D,mt);if(J&&Y&&(ne.rangeCount!==1||ne.anchorNode!==J.node||ne.anchorOffset!==J.offset||ne.focusNode!==Y.node||ne.focusOffset!==Y.offset)){var Q=ue.createRange();Q.setStart(J.node,J.offset),ne.removeAllRanges(),Me>mt?(ne.addRange(Q),ne.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),ne.addRange(Q))}}}}for(ue=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ue.length;D++){var le=ue[D];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Th=!!Qy,Zy=Qy=null}finally{at=E,re.p=p,W.T=c}}o.current=s,an=2}}function Aw(){if(an===2){an=0;var o=ga,s=Dl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var p=re.p;re.p=2;var E=at;at|=4;try{Wb(o,s.alternate,s)}finally{at=E,re.p=p,W.T=c}}an=3}}function Sw(){if(an===4||an===3){an=0,Zf();var o=ga,s=Dl,c=vo,p=uw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,Dl=ga=null,bw(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(ma=null),eo(c),s=s.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Zr,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=W.T,E=re.p,re.p=2,W.T=null;try{for(var T=o.onRecoverableError,x=0;x<p.length;x++){var D=p[x];T(D.value,{componentStack:D.stack})}}finally{W.T=s,re.p=E}}(vo&3)!==0&&uh(),Vi(o),E=o.pendingLanes,(c&261930)!==0&&(E&42)!==0?o===qy?xc++:(xc=0,qy=o):xc=0,Ic(0)}}function bw(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,lc(s)))}function uh(){return Tw(),Aw(),Sw(),ww()}function ww(){if(an!==5)return!1;var o=ga,s=Ly;Ly=0;var c=eo(vo),p=W.T,E=re.p;try{re.p=32>c?32:c,W.T=null,c=Uy,Uy=null;var T=ga,x=vo;if(an=0,Dl=ga=null,vo=0,(at&6)!==0)throw Error(r(331));var D=at;if(at|=4,aw(T.current),rw(T,T.current,x,c),at=D,Ic(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Zr,T)}catch{}return!0}finally{re.p=E,W.T=p,bw(o,s)}}function Cw(o,s,c){s=kr(c,s),s=yy(o.stateNode,s,2),o=ua(o,s,2),o!==null&&(Qa(o,2),Vi(o))}function ct(o,s,c){if(o.tag===3)Cw(o,o,c);else for(;s!==null;){if(s.tag===3){Cw(s,o,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ma===null||!ma.has(p))){o=kr(c,o),c=xb(2),p=ua(s,c,2),p!==null&&(Ib(c,p,s,o),Qa(p,2),Vi(p));break}}s=s.return}}function Fy(o,s,c){var p=o.pingCache;if(p===null){p=o.pingCache=new XU;var E=new Set;p.set(s,E)}else E=p.get(s),E===void 0&&(E=new Set,p.set(s,E));E.has(c)||(Oy=!0,E.add(c),o=n4.bind(null,o,s,c),s.then(o,o))}function n4(o,s,c){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,gt===o&&(Ye&c)===c&&(Dt===4||Dt===3&&(Ye&62914560)===Ye&&300>Hn()-rh?(at&2)===0&&Ol(o,0):ky|=c,Nl===Ye&&(Nl=0)),Vi(o)}function xw(o,s){s===0&&(s=od()),o=ds(o,s),o!==null&&(Qa(o,s),Vi(o))}function r4(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),xw(o,c)}function i4(o,s){var c=0;switch(o.tag){case 31:case 13:var p=o.stateNode,E=o.memoizedState;E!==null&&(c=E.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),xw(o,c)}function o4(o,s){return on(o,s)}var ch=null,Vl=null,Hy=!1,fh=!1,Gy=!1,va=0;function Vi(o){o!==Vl&&o.next===null&&(Vl===null?ch=Vl=o:Vl=Vl.next=o),fh=!0,Hy||(Hy=!0,s4())}function Ic(o,s){if(!Gy&&fh){Gy=!0;do for(var c=!1,p=ch;p!==null;){if(o!==0){var E=p.pendingLanes;if(E===0)var T=0;else{var x=p.suspendedLanes,D=p.pingedLanes;T=(1<<31-Vt(42|o)+1)-1,T&=E&~(x&~D),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(c=!0,Mw(p,T))}else T=Ye,T=vi(p,p===gt?T:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(T&3)===0||ei(p,T)||(c=!0,Mw(p,T));p=p.next}while(c);Gy=!1}}function a4(){Iw()}function Iw(){fh=Hy=!1;var o=0;va!==0&&y4()&&(o=va);for(var s=Hn(),c=null,p=ch;p!==null;){var E=p.next,T=Rw(p,s);T===0?(p.next=null,c===null?ch=E:c.next=E,E===null&&(Vl=c)):(c=p,(o!==0||(T&3)!==0)&&(fh=!0)),p=E}an!==0&&an!==5||Ic(o),va!==0&&(va=0)}function Rw(o,s){for(var c=o.suspendedLanes,p=o.pingedLanes,E=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var x=31-Vt(T),D=1<<x,$=E[x];$===-1?((D&c)===0||(D&p)!==0)&&(E[x]=_g(D,s)):$<=s&&(o.expiredLanes|=D),T&=~D}if(s=gt,c=Ye,c=vi(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,c===0||o===s&&(ut===2||ut===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Ko(p),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||ei(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(p!==null&&Ko(p),eo(c)){case 2:case 8:c=Uu;break;case 32:c=jo;break;case 268435456:c=ed;break;default:c=jo}return p=Pw.bind(null,o),c=on(c,p),o.callbackPriority=s,o.callbackNode=c,s}return p!==null&&p!==null&&Ko(p),o.callbackPriority=2,o.callbackNode=null,2}function Pw(o,s){if(an!==0&&an!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(uh()&&o.callbackNode!==c)return null;var p=Ye;return p=vi(o,o===gt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(fw(o,p,s),Rw(o,Hn()),o.callbackNode!=null&&o.callbackNode===c?Pw.bind(null,o):null)}function Mw(o,s){if(uh())return null;fw(o,s,!0)}function s4(){_4(function(){(at&6)!==0?on(Lu,a4):Iw()})}function $y(){if(va===0){var o=Tl;o===0&&(o=gi,gi<<=1,(gi&261888)===0&&(gi=256)),va=o}return va}function Nw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:al(""+o)}function Dw(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function l4(o,s,c,p,E){if(s==="submit"&&c&&c.stateNode===E){var T=Nw((E[pn]||null).action),x=p.submitter;x&&(s=(s=x[pn]||null)?Nw(s.formAction):x.getAttribute("formAction"),s!==null&&(T=s,x=null));var D=new Ri("action","action",null,p,E);o.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(va!==0){var $=x?Dw(E,x):new FormData(E);fy(c,{pending:!0,data:$,method:E.method,action:T},null,$)}}else typeof T=="function"&&(D.preventDefault(),$=x?Dw(E,x):new FormData(E),fy(c,{pending:!0,data:$,method:E.method,action:T},T,$))},currentTarget:E}]})}}for(var Ky=0;Ky<Ig.length;Ky++){var jy=Ig[Ky],u4=jy.toLowerCase(),c4=jy[0].toUpperCase()+jy.slice(1);li(u4,"on"+c4)}li(cS,"onAnimationEnd"),li(fS,"onAnimationIteration"),li(dS,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(CU,"onTransitionRun"),li(xU,"onTransitionStart"),li(IU,"onTransitionCancel"),li(hS,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function Ow(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],E=p.event;p=p.listeners;e:{var T=void 0;if(s)for(var x=p.length-1;0<=x;x--){var D=p[x],$=D.instance,Z=D.currentTarget;if(D=D.listener,$!==T&&E.isPropagationStopped())break e;T=D,E.currentTarget=Z;try{T(E)}catch(ae){Cd(ae)}E.currentTarget=null,T=$}else for(x=0;x<p.length;x++){if(D=p[x],$=D.instance,Z=D.currentTarget,D=D.listener,$!==T&&E.isPropagationStopped())break e;T=D,E.currentTarget=Z;try{T(E)}catch(ae){Cd(ae)}E.currentTarget=null,T=$}}}}function je(o,s){var c=s[tl];c===void 0&&(c=s[tl]=new Set);var p=o+"__bubble";c.has(p)||(kw(s,o,2,!1),c.add(p))}function Yy(o,s,c){var p=0;s&&(p|=4),kw(c,o,p,s)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Jy(o){if(!o[dh]){o[dh]=!0,zu.forEach(function(c){c!=="selectionchange"&&(f4.has(c)||Yy(c,!1,o),Yy(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[dh]||(s[dh]=!0,Yy("selectionchange",!1,s))}}function kw(o,s,c,p){switch(cC(s)){case 2:var E=q4;break;case 8:E=B4;break;default:E=cv}c=E.bind(null,s,c,o),E=void 0,!is||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(E=!0),p?E!==void 0?o.addEventListener(s,c,{capture:!0,passive:E}):o.addEventListener(s,c,!0):E!==void 0?o.addEventListener(s,c,{passive:E}):o.addEventListener(s,c,!1)}function Wy(o,s,c,p,E){var T=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var D=p.stateNode.containerInfo;if(D===E)break;if(x===4)for(x=p.return;x!==null;){var $=x.tag;if(($===3||$===4)&&x.stateNode.containerInfo===E)return;x=x.return}for(;D!==null;){if(x=Ai(D),x===null)return;if($=x.tag,$===5||$===6||$===26||$===27){p=T=x;continue e}D=D.parentNode}}p=p.return}Zo(function(){var Z=T,ae=Mr(c),ue=[];e:{var ee=pS.get(o);if(ee!==void 0){var ne=Ri,Se=o;switch(o){case"keypress":if(as(c)===0)break e;case"keydown":case"keyup":ne=Sd;break;case"focusin":Se="focus",ne=ls;break;case"focusout":Se="blur",ne=ls;break;case"beforeblur":case"afterblur":ne=ls;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S;break;case cS:case fS:case dS:ne=gd;break;case hS:ne=L;break;case"scroll":case"scrollend":ne=Zu;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=ro;break;case"toggle":case"beforetoggle":ne=Be}var Me=(s&4)!==0,mt=!Me&&(o==="scroll"||o==="scrollend"),J=Me?ee!==null?ee+"Capture":null:ee;Me=[];for(var Y=Z,Q;Y!==null;){var le=Y;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||J===null||(le=ii(Y,J),le!=null&&Me.push(Pc(Y,le,Q))),mt)break;Y=Y.return}0<Me.length&&(ee=new ne(ee,Se,null,c,ae),ue.push({event:ee,listeners:Me}))}}if((s&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",ee&&c!==Wu&&(Se=c.relatedTarget||c.fromElement)&&(Ai(Se)||Se[Ei]))break e;if((ne||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Se=c.relatedTarget||c.toElement,ne=Z,Se=Se?Ai(Se):null,Se!==null&&(mt=a(Se),Me=Se.tag,Se!==mt||Me!==5&&Me!==27&&Me!==6)&&(Se=null)):(ne=null,Se=Z),ne!==Se)){if(Me=ec,le="onMouseLeave",J="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(Me=ro,le="onPointerLeave",J="onPointerEnter",Y="pointer"),mt=ne==null?ee:hr(ne),Q=Se==null?ee:hr(Se),ee=new Me(le,Y+"leave",ne,c,ae),ee.target=mt,ee.relatedTarget=Q,le=null,Ai(ae)===Z&&(Me=new Me(J,Y+"enter",Se,c,ae),Me.target=Q,Me.relatedTarget=mt,le=Me),mt=le,ne&&Se)t:{for(Me=d4,J=ne,Y=Se,Q=0,le=J;le;le=Me(le))Q++;le=0;for(var Ce=Y;Ce;Ce=Me(Ce))le++;for(;0<Q-le;)J=Me(J),Q--;for(;0<le-Q;)Y=Me(Y),le--;for(;Q--;){if(J===Y||Y!==null&&J===Y.alternate){Me=J;break t}J=Me(J),Y=Me(Y)}Me=null}else Me=null;ne!==null&&Vw(ue,ee,ne,Me,!1),Se!==null&&mt!==null&&Vw(ue,mt,Se,Me,!0)}}e:{if(ee=Z?hr(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var tt=ZA;else if(XA(ee))if(eS)tt=SU;else{tt=TU;var be=EU}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&ol(Z.elementType)&&(tt=ZA):tt=AU;if(tt&&(tt=tt(o,Z))){QA(ue,tt,c,ae);break e}be&&be(o,ee,Z),o==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ju(ee,"number",ee.value)}switch(be=Z?hr(Z):window,o){case"focusin":(XA(be)||be.contentEditable==="true")&&(hl=be,wg=Z,oc=null);break;case"focusout":oc=wg=hl=null;break;case"mousedown":Cg=!0;break;case"contextmenu":case"mouseup":case"dragend":Cg=!1,lS(ue,c,ae);break;case"selectionchange":if(wU)break;case"keydown":case"keyup":lS(ue,c,ae)}var Fe;if(ot)e:{switch(o){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else dl?us(o,c)&&(Je="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(Ni&&c.locale!=="ko"&&(dl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&dl&&(Fe=Qu()):(Ii=ae,Xu="value"in Ii?Ii.value:Ii.textContent,dl=!0)),be=hh(Z,Je),0<be.length&&(Je=new Mi(Je,o,null,c,ae),ue.push({event:Je,listeners:be}),Fe?Je.data=Fe:(Fe=fl(c),Fe!==null&&(Je.data=Fe)))),(Fe=Dr?gU(o,c):yU(o,c))&&(Je=hh(Z,"onBeforeInput"),0<Je.length&&(be=new Mi("onBeforeInput","beforeinput",null,c,ae),ue.push({event:be,listeners:Je}),be.data=Fe)),l4(ue,o,Z,c,ae)}Ow(ue,s)})}function Pc(o,s,c){return{instance:o,listener:s,currentTarget:c}}function hh(o,s){for(var c=s+"Capture",p=[];o!==null;){var E=o,T=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||T===null||(E=ii(o,c),E!=null&&p.unshift(Pc(o,E,T)),E=ii(o,s),E!=null&&p.push(Pc(o,E,T))),o.tag===3)return p;o=o.return}return[]}function d4(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Vw(o,s,c,p,E){for(var T=s._reactName,x=[];c!==null&&c!==p;){var D=c,$=D.alternate,Z=D.stateNode;if(D=D.tag,$!==null&&$===p)break;D!==5&&D!==26&&D!==27||Z===null||($=Z,E?(Z=ii(c,T),Z!=null&&x.unshift(Pc(c,Z,$))):E||(Z=ii(c,T),Z!=null&&x.push(Pc(c,Z,$)))),c=c.return}x.length!==0&&o.push({event:s,listeners:x})}var h4=/\r\n?/g,p4=/\u0000|\uFFFD/g;function Lw(o){return(typeof o=="string"?o:""+o).replace(h4,`
`).replace(p4,"")}function Uw(o,s){return s=Lw(s),Lw(o)===s}function pt(o,s,c,p,E,T){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Qn(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Qn(o,""+p);break;case"className":pr(o,"class",p);break;case"tabIndex":pr(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(o,c,p);break;case"style":Ju(o,p,T);break;case"data":if(s!=="object"){pr(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=al(""+p),o.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(c==="formAction"?(s!=="input"&&pt(o,s,"name",E.name,E,null),pt(o,s,"formEncType",E.formEncType,E,null),pt(o,s,"formMethod",E.formMethod,E,null),pt(o,s,"formTarget",E.formTarget,E,null)):(pt(o,s,"encType",E.encType,E,null),pt(o,s,"method",E.method,E,null),pt(o,s,"target",E.target,E,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=al(""+p),o.setAttribute(c,p);break;case"onClick":p!=null&&(o.onclick=ri);break;case"onScroll":p!=null&&je("scroll",o);break;case"onScrollEnd":p!=null&&je("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}c=al(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""+p):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":p===!0?o.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,p):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(c,p):o.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(c):o.setAttribute(c,p);break;case"popover":je("beforetoggle",o),je("toggle",o),rl(o,"popover",p);break;case"xlinkActuate":Kt(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Kt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Kt(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Kt(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Kt(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Kt(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Kt(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Kt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Kt(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":rl(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=hd.get(c)||c,rl(o,c,p))}}function Xy(o,s,c,p,E,T){switch(c){case"style":Ju(o,p,T);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof p=="string"?Qn(o,p):(typeof p=="number"||typeof p=="bigint")&&Qn(o,""+p);break;case"onScroll":p!=null&&je("scroll",o);break;case"onScrollEnd":p!=null&&je("scrollend",o);break;case"onClick":p!=null&&(o.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(E=c.endsWith("Capture"),s=c.slice(2,E?c.length-7:void 0),T=o[pn]||null,T=T!=null?T[c]:null,typeof T=="function"&&o.removeEventListener(s,T,E),typeof p=="function")){typeof T!="function"&&T!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,p,E);break e}c in o?o[c]=p:p===!0?o.setAttribute(c,""):rl(o,c,p)}}}function In(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",o),je("load",o);var p=!1,E=!1,T;for(T in c)if(c.hasOwnProperty(T)){var x=c[T];if(x!=null)switch(T){case"src":p=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(o,s,T,x,c,null)}}E&&pt(o,s,"srcSet",c.srcSet,c,null),p&&pt(o,s,"src",c.src,c,null);return;case"input":je("invalid",o);var D=T=x=E=null,$=null,Z=null;for(p in c)if(c.hasOwnProperty(p)){var ae=c[p];if(ae!=null)switch(p){case"name":E=ae;break;case"type":x=ae;break;case"checked":$=ae;break;case"defaultChecked":Z=ae;break;case"value":T=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:pt(o,s,p,ae,c,null)}}cd(o,T,D,$,Z,x,E,!1);return;case"select":je("invalid",o),p=x=T=null;for(E in c)if(c.hasOwnProperty(E)&&(D=c[E],D!=null))switch(E){case"value":T=D;break;case"defaultValue":x=D;break;case"multiple":p=D;default:pt(o,s,E,D,c,null)}s=T,c=x,o.multiple=!!p,s!=null?Jo(o,!!p,s,!1):c!=null&&Jo(o,!!p,c,!0);return;case"textarea":je("invalid",o),T=E=p=null;for(x in c)if(c.hasOwnProperty(x)&&(D=c[x],D!=null))switch(x){case"value":p=D;break;case"defaultValue":E=D;break;case"children":T=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:pt(o,s,x,D,c,null)}Wo(o,p,E,T);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(p=c[$],p!=null))switch($){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pt(o,s,$,p,c,null)}return;case"dialog":je("beforetoggle",o),je("toggle",o),je("cancel",o),je("close",o);break;case"iframe":case"object":je("load",o);break;case"video":case"audio":for(p=0;p<Rc.length;p++)je(Rc[p],o);break;case"image":je("error",o),je("load",o);break;case"details":je("toggle",o);break;case"embed":case"source":case"link":je("error",o),je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(p=c[Z],p!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(o,s,Z,p,c,null)}return;default:if(ol(s)){for(ae in c)c.hasOwnProperty(ae)&&(p=c[ae],p!==void 0&&Xy(o,s,ae,p,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(p=c[D],p!=null&&pt(o,s,D,p,c,null))}function m4(o,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,T=null,x=null,D=null,$=null,Z=null,ae=null;for(ne in c){var ue=c[ne];if(c.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=ue;default:p.hasOwnProperty(ne)||pt(o,s,ne,null,p,ue)}}for(var ee in p){var ne=p[ee];if(ue=c[ee],p.hasOwnProperty(ee)&&(ne!=null||ue!=null))switch(ee){case"type":T=ne;break;case"name":E=ne;break;case"checked":Z=ne;break;case"defaultChecked":ae=ne;break;case"value":x=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ne!==ue&&pt(o,s,ee,ne,p,ue)}}il(o,x,D,$,Z,ae,T,E);return;case"select":ne=x=D=ee=null;for(T in c)if($=c[T],c.hasOwnProperty(T)&&$!=null)switch(T){case"value":break;case"multiple":ne=$;default:p.hasOwnProperty(T)||pt(o,s,T,null,p,$)}for(E in p)if(T=p[E],$=c[E],p.hasOwnProperty(E)&&(T!=null||$!=null))switch(E){case"value":ee=T;break;case"defaultValue":D=T;break;case"multiple":x=T;default:T!==$&&pt(o,s,E,T,p,$)}s=D,c=x,p=ne,ee!=null?Jo(o,!!c,ee,!1):!!p!=!!c&&(s!=null?Jo(o,!!c,s,!0):Jo(o,!!c,c?[]:"",!1));return;case"textarea":ne=ee=null;for(D in c)if(E=c[D],c.hasOwnProperty(D)&&E!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:pt(o,s,D,null,p,E)}for(x in p)if(E=p[x],T=c[x],p.hasOwnProperty(x)&&(E!=null||T!=null))switch(x){case"value":ee=E;break;case"defaultValue":ne=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==T&&pt(o,s,x,E,p,T)}fd(o,ee,ne);return;case"option":for(var Se in c)if(ee=c[Se],c.hasOwnProperty(Se)&&ee!=null&&!p.hasOwnProperty(Se))switch(Se){case"selected":o.selected=!1;break;default:pt(o,s,Se,null,p,ee)}for($ in p)if(ee=p[$],ne=c[$],p.hasOwnProperty($)&&ee!==ne&&(ee!=null||ne!=null))switch($){case"selected":o.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:pt(o,s,$,ee,p,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)ee=c[Me],c.hasOwnProperty(Me)&&ee!=null&&!p.hasOwnProperty(Me)&&pt(o,s,Me,null,p,ee);for(Z in p)if(ee=p[Z],ne=c[Z],p.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:pt(o,s,Z,ee,p,ne)}return;default:if(ol(s)){for(var mt in c)ee=c[mt],c.hasOwnProperty(mt)&&ee!==void 0&&!p.hasOwnProperty(mt)&&Xy(o,s,mt,void 0,p,ee);for(ae in p)ee=p[ae],ne=c[ae],!p.hasOwnProperty(ae)||ee===ne||ee===void 0&&ne===void 0||Xy(o,s,ae,ee,p,ne);return}}for(var J in c)ee=c[J],c.hasOwnProperty(J)&&ee!=null&&!p.hasOwnProperty(J)&&pt(o,s,J,null,p,ee);for(ue in p)ee=p[ue],ne=c[ue],!p.hasOwnProperty(ue)||ee===ne||ee==null&&ne==null||pt(o,s,ue,ee,p,ne)}function qw(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g4(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var E=c[p],T=E.transferSize,x=E.initiatorType,D=E.duration;if(T&&D&&qw(x)){for(x=0,D=E.responseEnd,p+=1;p<c.length;p++){var $=c[p],Z=$.startTime;if(Z>D)break;var ae=$.transferSize,ue=$.initiatorType;ae&&qw(ue)&&($=$.responseEnd,x+=ae*($<D?1:(D-Z)/($-Z)))}if(--p,s+=8*(T+x)/(E.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Qy=null,Zy=null;function ph(o){return o.nodeType===9?o:o.ownerDocument}function Bw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zw(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function ev(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var tv=null;function y4(){var o=window.event;return o&&o.type==="popstate"?o===tv?!1:(tv=o,!0):(tv=null,!1)}var Fw=typeof setTimeout=="function"?setTimeout:void 0,v4=typeof clearTimeout=="function"?clearTimeout:void 0,Hw=typeof Promise=="function"?Promise:void 0,_4=typeof queueMicrotask=="function"?queueMicrotask:typeof Hw<"u"?function(o){return Hw.resolve(null).then(o).catch(E4)}:Fw;function E4(o){setTimeout(function(){throw o})}function _a(o){return o==="head"}function Gw(o,s){var c=s,p=0;do{var E=c.nextSibling;if(o.removeChild(c),E&&E.nodeType===8)if(c=E.data,c==="/$"||c==="/&"){if(p===0){o.removeChild(E),Bl(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Mc(o.ownerDocument.documentElement);else if(c==="head"){c=o.ownerDocument.head,Mc(c);for(var T=c.firstChild;T;){var x=T.nextSibling,D=T.nodeName;T[Ti]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=x}}else c==="body"&&Mc(o.ownerDocument.body);c=E}while(c);Bl(s)}function $w(o,s){var c=o;o=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(o===0)break;o--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||o++;c=p}while(c)}function nv(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":nv(c),nl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function T4(o,s,c,p){for(;o.nodeType===1;){var E=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Ti])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var T=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=Br(o.nextSibling),o===null)break}return null}function A4(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Br(o.nextSibling),o===null))return null;return o}function Kw(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=Br(o.nextSibling),o===null))return null;return o}function rv(o){return o.data==="$?"||o.data==="$~"}function iv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function S4(o,s){var c=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Br(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var ov=null;function jw(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"||c==="/&"){if(s===0)return Br(o.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}o=o.nextSibling}return null}function Yw(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return o;s--}else c!=="/$"&&c!=="/&"||s++}o=o.previousSibling}return null}function Jw(o,s,c){switch(s=ph(c),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Mc(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);nl(o)}var zr=new Map,Ww=new Set;function mh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var _o=re.d;re.d={f:b4,r:w4,D:C4,C:x4,L:I4,m:R4,X:M4,S:P4,M:N4};function b4(){var o=_o.f(),s=ah();return o||s}function w4(o){var s=Pr(o);s!==null&&s.tag===5&&s.type==="form"?hb(s):_o.r(o)}var Ll=typeof document>"u"?null:document;function Xw(o,s,c){var p=Ll;if(p&&typeof s=="string"&&s){var E=Xn(s);E='link[rel="'+o+'"][href="'+E+'"]',typeof c=="string"&&(E+='[crossorigin="'+c+'"]'),Ww.has(E)||(Ww.add(E),o={rel:o,crossOrigin:c,href:s},p.querySelector(E)===null&&(s=p.createElement("link"),In(s,"link",o),$t(s),p.head.appendChild(s)))}}function C4(o){_o.D(o),Xw("dns-prefetch",o,null)}function x4(o,s){_o.C(o,s),Xw("preconnect",o,s)}function I4(o,s,c){_o.L(o,s,c);var p=Ll;if(p&&o&&s){var E='link[rel="preload"][as="'+Xn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(E+='[imagesrcset="'+Xn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(E+='[imagesizes="'+Xn(c.imageSizes)+'"]')):E+='[href="'+Xn(o)+'"]';var T=E;switch(s){case"style":T=Ul(o);break;case"script":T=ql(o)}zr.has(T)||(o=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),zr.set(T,o),p.querySelector(E)!==null||s==="style"&&p.querySelector(Nc(T))||s==="script"&&p.querySelector(Dc(T))||(s=p.createElement("link"),In(s,"link",o),$t(s),p.head.appendChild(s)))}}function R4(o,s){_o.m(o,s);var c=Ll;if(c&&o){var p=s&&typeof s.as=="string"?s.as:"script",E='link[rel="modulepreload"][as="'+Xn(p)+'"][href="'+Xn(o)+'"]',T=E;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=ql(o)}if(!zr.has(T)&&(o=m({rel:"modulepreload",href:o},s),zr.set(T,o),c.querySelector(E)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Dc(T)))return}p=c.createElement("link"),In(p,"link",o),$t(p),c.head.appendChild(p)}}}function P4(o,s,c){_o.S(o,s,c);var p=Ll;if(p&&o){var E=Si(p).hoistableStyles,T=Ul(o);s=s||"default";var x=E.get(T);if(!x){var D={loading:0,preload:null};if(x=p.querySelector(Nc(T)))D.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},c),(c=zr.get(T))&&av(o,c);var $=x=p.createElement("link");$t($),In($,"link",o),$._p=new Promise(function(Z,ae){$.onload=Z,$.onerror=ae}),$.addEventListener("load",function(){D.loading|=1}),$.addEventListener("error",function(){D.loading|=2}),D.loading|=4,gh(x,s,p)}x={type:"stylesheet",instance:x,count:1,state:D},E.set(T,x)}}}function M4(o,s){_o.X(o,s);var c=Ll;if(c&&o){var p=Si(c).hoistableScripts,E=ql(o),T=p.get(E);T||(T=c.querySelector(Dc(E)),T||(o=m({src:o,async:!0},s),(s=zr.get(E))&&sv(o,s),T=c.createElement("script"),$t(T),In(T,"link",o),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(E,T))}}function N4(o,s){_o.M(o,s);var c=Ll;if(c&&o){var p=Si(c).hoistableScripts,E=ql(o),T=p.get(E);T||(T=c.querySelector(Dc(E)),T||(o=m({src:o,async:!0,type:"module"},s),(s=zr.get(E))&&sv(o,s),T=c.createElement("script"),$t(T),In(T,"link",o),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(E,T))}}function Qw(o,s,c,p){var E=(E=Oe.current)?mh(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ul(c.href),c=Si(E).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=Ul(c.href);var T=Si(E).hoistableStyles,x=T.get(o);if(x||(E=E.ownerDocument||E,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,x),(T=E.querySelector(Nc(o)))&&!T._p&&(x.instance=T,x.state.loading=5),zr.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},zr.set(o,c),T||D4(E,o,c,x.state))),s&&p===null)throw Error(r(528,""));return x}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ql(c),c=Si(E).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ul(o){return'href="'+Xn(o)+'"'}function Nc(o){return'link[rel="stylesheet"]['+o+"]"}function Zw(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function D4(o,s,c,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),In(s,"link",c),$t(s),o.head.appendChild(s))}function ql(o){return'[src="'+Xn(o)+'"]'}function Dc(o){return"script[async]"+o}function eC(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+Xn(c.href)+'"]');if(p)return s.instance=p,$t(p),p;var E=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),$t(p),In(p,"style",E),gh(p,c.precedence,o),s.instance=p;case"stylesheet":E=Ul(c.href);var T=o.querySelector(Nc(E));if(T)return s.state.loading|=4,s.instance=T,$t(T),T;p=Zw(c),(E=zr.get(E))&&av(p,E),T=(o.ownerDocument||o).createElement("link"),$t(T);var x=T;return x._p=new Promise(function(D,$){x.onload=D,x.onerror=$}),In(T,"link",p),s.state.loading|=4,gh(T,c.precedence,o),s.instance=T;case"script":return T=ql(c.src),(E=o.querySelector(Dc(T)))?(s.instance=E,$t(E),E):(p=c,(E=zr.get(T))&&(p=m({},c),sv(p,E)),o=o.ownerDocument||o,E=o.createElement("script"),$t(E),In(E,"link",p),o.head.appendChild(E),s.instance=E);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,gh(p,c.precedence,o));return s.instance}function gh(o,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=p.length?p[p.length-1]:null,T=E,x=0;x<p.length;x++){var D=p[x];if(D.dataset.precedence===s)T=D;else if(T!==E)break}T?T.parentNode.insertBefore(o,T.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function av(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function sv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var yh=null;function tC(o,s,c){if(yh===null){var p=new Map,E=yh=new Map;E.set(c,p)}else E=yh,p=E.get(c),p||(p=new Map,E.set(c,p));if(p.has(o))return p;for(p.set(o,null),c=c.getElementsByTagName(o),E=0;E<c.length;E++){var T=c[E];if(!(T[Ti]||T[Gt]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var x=T.getAttribute(s)||"";x=o+x;var D=p.get(x);D?D.push(T):p.set(x,[T])}}return p}function nC(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function O4(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function k4(o,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=Ul(p.href),T=s.querySelector(Nc(E));if(T){s=T._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=vh.bind(o),s.then(o,o)),c.state.loading|=4,c.instance=T,$t(T);return}T=s.ownerDocument||s,p=Zw(p),(E=zr.get(E))&&av(p,E),T=T.createElement("link"),$t(T);var x=T;x._p=new Promise(function(D,$){x.onload=D,x.onerror=$}),In(T,"link",p),c.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(o.count++,c=vh.bind(o),s.addEventListener("load",c),s.addEventListener("error",c))}}var lv=0;function V4(o,s){return o.stylesheets&&o.count===0&&Eh(o,o.stylesheets),0<o.count||0<o.imgCount?function(c){var p=setTimeout(function(){if(o.stylesheets&&Eh(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+s);0<o.imgBytes&&lv===0&&(lv=62500*g4());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Eh(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>lv?50:800)+s);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(E)}}:null}function vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var _h=null;function Eh(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,_h=new Map,s.forEach(L4,o),_h=null,vh.call(o))}function L4(o,s){if(!(s.state.loading&4)){var c=_h.get(o);if(c)var p=c.get(null);else{c=new Map,_h.set(o,c);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<E.length;T++){var x=E[T];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),p=x)}p&&c.set(null,p)}E=s.instance,x=E.getAttribute("data-precedence"),T=c.get(x)||p,T===p&&c.set(null,E),c.set(x,E),this.count++,p=vh.bind(this),E.addEventListener("load",p),E.addEventListener("error",p),T?T.parentNode.insertBefore(E,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),s.state.loading|=4}}var Oc={$$typeof:k,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function U4(o,s,c,p,E,T,x,D,$){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=T,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function iC(o,s,c,p,E,T,x,D,$,Z,ae,ue){return o=new U4(o,s,c,x,$,Z,ae,ue,D),s=1,T===!0&&(s|=24),T=gr(3,null,null,s),o.current=T,T.stateNode=o,s=zg(),s.refCount++,o.pooledCache=s,s.refCount++,T.memoizedState={element:p,isDehydrated:c,cache:s},$g(T),o}function oC(o){return o?(o=gl,o):gl}function aC(o,s,c,p,E,T){E=oC(E),p.context===null?p.context=E:p.pendingContext=E,p=la(s),p.payload={element:c},T=T===void 0?null:T,T!==null&&(p.callback=T),c=ua(o,p,s),c!==null&&(rr(c,o,s),dc(c,o,s))}function sC(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function uv(o,s){sC(o,s),(o=o.alternate)&&sC(o,s)}function lC(o){if(o.tag===13||o.tag===31){var s=ds(o,67108864);s!==null&&rr(s,o,67108864),uv(o,67108864)}}function uC(o){if(o.tag===13||o.tag===31){var s=Tr();s=es(s);var c=ds(o,s);c!==null&&rr(c,o,s),uv(o,s)}}var Th=!0;function q4(o,s,c,p){var E=W.T;W.T=null;var T=re.p;try{re.p=2,cv(o,s,c,p)}finally{re.p=T,W.T=E}}function B4(o,s,c,p){var E=W.T;W.T=null;var T=re.p;try{re.p=8,cv(o,s,c,p)}finally{re.p=T,W.T=E}}function cv(o,s,c,p){if(Th){var E=fv(p);if(E===null)Wy(o,s,p,Ah,c),fC(o,p);else if(F4(E,o,s,c,p))p.stopPropagation();else if(fC(o,p),s&4&&-1<z4.indexOf(o)){for(;E!==null;){var T=Pr(E);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var x=yi(T.pendingLanes);if(x!==0){var D=T;for(D.pendingLanes|=2,D.entangledLanes|=2;x;){var $=1<<31-Vt(x);D.entanglements[1]|=$,x&=~$}Vi(T),(at&6)===0&&(ih=Hn()+500,Ic(0))}}break;case 31:case 13:D=ds(T,2),D!==null&&rr(D,T,2),ah(),uv(T,2)}if(T=fv(p),T===null&&Wy(o,s,p,Ah,c),T===E)break;E=T}E!==null&&p.stopPropagation()}else Wy(o,s,p,null,c)}}function fv(o){return o=Mr(o),dv(o)}var Ah=null;function dv(o){if(Ah=null,o=Ai(o),o!==null){var s=a(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=l(s),o!==null)return o;o=null}else if(c===31){if(o=u(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Ah=o,null}function cC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wa()){case Lu:return 2;case Uu:return 8;case jo:case vg:return 32;case ed:return 268435456;default:return 32}default:return 32}}var hv=!1,Ea=null,Ta=null,Aa=null,kc=new Map,Vc=new Map,Sa=[],z4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fC(o,s){switch(o){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":kc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(s.pointerId)}}function Lc(o,s,c,p,E,T){return o===null||o.nativeEvent!==T?(o={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:T,targetContainers:[E]},s!==null&&(s=Pr(s),s!==null&&lC(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,E!==null&&s.indexOf(E)===-1&&s.push(E),o)}function F4(o,s,c,p,E){switch(s){case"focusin":return Ea=Lc(Ea,o,s,c,p,E),!0;case"dragenter":return Ta=Lc(Ta,o,s,c,p,E),!0;case"mouseover":return Aa=Lc(Aa,o,s,c,p,E),!0;case"pointerover":var T=E.pointerId;return kc.set(T,Lc(kc.get(T)||null,o,s,c,p,E)),!0;case"gotpointercapture":return T=E.pointerId,Vc.set(T,Lc(Vc.get(T)||null,o,s,c,p,E)),!0}return!1}function dC(o){var s=Ai(o.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){o.blockedOn=s,ti(o.priority,function(){uC(c)});return}}else if(s===31){if(s=u(c),s!==null){o.blockedOn=s,ti(o.priority,function(){uC(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sh(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=fv(o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);Wu=p,c.target.dispatchEvent(p),Wu=null}else return s=Pr(c),s!==null&&lC(s),o.blockedOn=c,!1;s.shift()}return!0}function hC(o,s,c){Sh(o)&&c.delete(s)}function H4(){hv=!1,Ea!==null&&Sh(Ea)&&(Ea=null),Ta!==null&&Sh(Ta)&&(Ta=null),Aa!==null&&Sh(Aa)&&(Aa=null),kc.forEach(hC),Vc.forEach(hC)}function bh(o,s){o.blockedOn===s&&(o.blockedOn=null,hv||(hv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,H4)))}var wh=null;function pC(o){wh!==o&&(wh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wh===o&&(wh=null);for(var s=0;s<o.length;s+=3){var c=o[s],p=o[s+1],E=o[s+2];if(typeof p!="function"){if(dv(p||c)===null)continue;break}var T=Pr(c);T!==null&&(o.splice(s,3),s-=3,fy(T,{pending:!0,data:E,method:c.method,action:p},p,E))}}))}function Bl(o){function s($){return bh($,o)}Ea!==null&&bh(Ea,o),Ta!==null&&bh(Ta,o),Aa!==null&&bh(Aa,o),kc.forEach(s),Vc.forEach(s);for(var c=0;c<Sa.length;c++){var p=Sa[c];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Sa.length&&(c=Sa[0],c.blockedOn===null);)dC(c),c.blockedOn===null&&Sa.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var E=c[p],T=c[p+1],x=E[pn]||null;if(typeof T=="function")x||pC(c);else if(x){var D=null;if(T&&T.hasAttribute("formAction")){if(E=T,x=T[pn]||null)D=x.formAction;else if(dv(E)!==null)continue}else D=x.action;typeof D=="function"?c[p+1]=D:(c.splice(p,3),p-=3),pC(c)}}}function mC(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(x){return E=x})},focusReset:"manual",scroll:"manual"})}function s(){E!==null&&(E(),E=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),E!==null&&(E(),E=null)}}}function pv(o){this._internalRoot=o}Ch.prototype.render=pv.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Tr();aC(c,p,o,s,null,null)},Ch.prototype.unmount=pv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;aC(o.current,2,null,o,null,null),ah(),s[Ei]=null}};function Ch(o){this._internalRoot=o}Ch.prototype.unstable_scheduleHydration=function(o){if(o){var s=ad();o={blockedOn:null,target:o,priority:s};for(var c=0;c<Sa.length&&s!==0&&s<Sa[c].priority;c++);Sa.splice(c,0,o),c===0&&dC(o)}};var gC=e.version;if(gC!=="19.2.0")throw Error(r(527,gC,"19.2.0"));re.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var G4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Zr=xh.inject(G4),Sn=xh}catch{}}return qc.createRoot=function(o,s){if(!i(o))throw Error(r(299));var c=!1,p="",E=Sb,T=bb,x=wb;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=iC(o,1,!1,null,null,c,p,null,E,T,x,mC),o[Ei]=s.current,Jy(o),new pv(s)},qc.hydrateRoot=function(o,s,c){if(!i(o))throw Error(r(299));var p=!1,E="",T=Sb,x=bb,D=wb,$=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),s=iC(o,1,!0,s,c??null,p,E,$,T,x,D,mC),s.context=oC(null),c=s.current,p=Tr(),p=es(p),E=la(p),E.callback=null,ua(c,E,p),c=p,s.current.lanes=c,Qa(s,c),Vi(s),o[Ei]=s.current,Jy(o),new Ch(s)},qc.version="19.2.0",qc}var CC;function r3(){if(CC)return vv.exports;CC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vv.exports=n3(),vv.exports}var i3=r3();const o3=Zi(i3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xC=t=>{const e=s3(t);return e.charAt(0).toUpperCase()+e.slice(1)},cN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),l3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>R.createElement("svg",{ref:f,...u3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cN("lucide",i),...!a&&!l3(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,h])=>R.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(c3,{ref:a,iconNode:e,className:cN(`lucide-${a3(xC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=xC(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],d3=On("arrow-right-left",f3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],p3=On("arrow-right",h3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],gm=On("beer",m3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Av=On("brain-circuit",g3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],v3=On("coins",y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],IC=On("layout-dashboard",_3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],T3=On("lightbulb",E3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],S3=On("lock",A3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M5 12h14",key:"1ays0h"}]],fN=On("minus",b3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ap=On("plus",w3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],x3=On("save",C3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],R3=On("shield-alert",I3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],M3=On("shield-check",P3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sp=On("trending-up",N3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],O3=On("user",D3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lp=On("users",k3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],L3=On("wallet",V3);var He=(t=>(t.SALE="VENDA",t.EXPENSE="DESPESA",t.DEBT_PAYMENT="PAGAMENTO_KILAPI",t))(He||{});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let U3,q3;function B3(){return{geminiUrl:U3,vertexUrl:q3}}function z3(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const l=B3();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vo{}function _e(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];y(h,e.slice(a+1),n[d])}else for(const d of f)y(d,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];y(f[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function F3(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&a.length>u)for(let f=u;f<a.length;f++){const d=a[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}c_(t,i,a,0,l)}}function c_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const f of u[l])c_(f,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const m=[];for(const _ of n.slice(r))_==="*"?m.push(d):m.push(_);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=t;a in l&&c_(l[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H3(t){const e={},n=g(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function G3(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],K3(l)),e}function $3(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["response"]);return l!=null&&y(e,["response"],j3(l)),e}function K3(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Y3(l))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function j3(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>J3(l))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Y3(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],t6(n)),e}function J3(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],n6(n)),e}function W3(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function X3(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Q3(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["response"]);return l!=null&&y(e,["response"],Z3(l)),e}function Z3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function dN(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["response"]);return l!=null&&y(e,["response"],e6(l)),e}function e6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function t6(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],DE(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function n6(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],DE(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var RC;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(RC||(RC={}));var PC;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(PC||(PC={}));var MC;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(MC||(MC={}));var Ia;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ia||(Ia={}));var NC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(NC||(NC={}));var DC;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(DC||(DC={}));var OC;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(OC||(OC={}));var kC;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(kC||(kC={}));var VC;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(VC||(VC={}));var LC;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(LC||(LC={}));var UC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(UC||(UC={}));var qC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qC||(qC={}));var BC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(BC||(BC={}));var zC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(zC||(zC={}));var FC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(FC||(FC={}));var HC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(HC||(HC={}));var GC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(GC||(GC={}));var $C;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($C||($C={}));var KC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(KC||(KC={}));var up;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(up||(up={}));var jC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jC||(jC={}));var YC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(YC||(YC={}));var JC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(JC||(JC={}));var f_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(f_||(f_={}));var WC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(WC||(WC={}));var XC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(XC||(XC={}));var QC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(QC||(QC={}));var ZC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ZC||(ZC={}));var e1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(e1||(e1={}));var t1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(t1||(t1={}));var n1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(n1||(n1={}));var r1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(r1||(r1={}));var i1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(i1||(i1={}));var o1;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(o1||(o1={}));var a1;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(a1||(a1={}));var s1;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(s1||(s1={}));var l1;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(l1||(l1={}));var u1;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(u1||(u1={}));var c1;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(c1||(c1={}));var f1;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(f1||(f1={}));var d1;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(d1||(d1={}));var h1;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(h1||(h1={}));var p1;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(p1||(p1={}));var m1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(m1||(m1={}));var g1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(g1||(g1={}));var y1;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(y1||(y1={}));var v1;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(v1||(v1={}));var _1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_1||(_1={}));var E1;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(E1||(E1={}));var T1;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(T1||(T1={}));var A1;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(A1||(A1={}));var S1;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(S1||(S1={}));var b1;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(b1||(b1={}));var w1;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(w1||(w1={}));var Jl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Jl||(Jl={}));class d_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bc{get text(){var e,n,r,i,a,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const _ of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[A,b]of Object.entries(_))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(b!==null||b!==void 0)&&m.push(A);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;h=!0,d+=_.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,a,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,A]of Object.entries(m))_!=="inlineData"&&(A!==null||A!==void 0)&&h.push(_);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class C1{}class x1{}class r6{}class i6{}class o6{}class a6{}class I1{}class R1{}class P1{}class s6{}class cp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new cp;let i;const a=e;return n?i=$3(a):i=G3(a),Object.assign(r,i),r}}class M1{}class N1{}class D1{}class l6{}class u6{}class c6{}class OE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new OE,a=Q3(e);return Object.assign(r,a),r}}class f6{}class d6{}class h6{}class O1{}class p6{get text(){var e,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class m6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class kE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new kE,a=dN(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function hN(t,e){const n=rt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function pN(t){return Array.isArray(t)?t.map(e=>fp(e)):[fp(t)]}function fp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mN(t){const e=fp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gN(t){const e=fp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function k1(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function yN(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>k1(e)):[k1(t)]}function h_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function V1(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function L1(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Fn(t){if(t==null)throw new Error("ContentUnion is required");return h_(t)?t:{role:"user",parts:yN(t)}}function VE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Fn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Fn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Fn(n)):[Fn(e)]}function Jr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(V1(t)||L1(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Fn(t)]}const e=[],n=[],r=h_(t[0]);for(const i of t){const a=h_(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(V1(i)||L1(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:yN(n)}),e}function g6(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ia).includes(n[0].toUpperCase())?n[0].toUpperCase():Ia.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ia).includes(r.toUpperCase())?r.toUpperCase():Ia.TYPE_UNSPECIFIED})}}function Ql(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&g6(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ia).includes(u.toUpperCase())?u.toUpperCase():Ia.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Ql(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(Ql(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=Ql(h);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function LE(t){return Ql(t)}function UE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function qE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function vu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ql(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ql(e.response));return t}function _u(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function y6(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Lo(t,e){if(typeof e!="string")throw new Error("name must be a string");return y6(t,e,"cachedContents")}function vN(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ha(t){return DE(t)}function v6(t){return t!=null&&typeof t=="object"&&"name"in t}function _6(t){return t!=null&&typeof t=="object"&&"video"in t}function E6(t){return t!=null&&typeof t=="object"&&"uri"in t}function _N(t){var e;let n;if(v6(t)&&(n=t.name),!(E6(t)&&(n=t.uri,n===void 0))&&!(_6(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function EN(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function TN(t){for(const e of["models","tunedModels","publisherModels"])if(T6(t,e))return t[e];return[]}function T6(t,e){return t!==null&&typeof t=="object"&&e in t}function A6(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function S6(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=A6(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function AN(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function b6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function SN(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Eu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function bN(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w6(t){const e={},n=g(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>oq(l))),y(e,["inlinedResponses"],a)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["inlinedEmbedContentResponses"],a)}return e}function C6(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function x6(t){const e={},n=g(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Jh(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&y(e,["state"],bN(i));const a=g(t,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const l=g(t,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const u=g(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const f=g(t,["metadata","model"]);f!=null&&y(e,["model"],f);const d=g(t,["metadata","output"]);return d!=null&&y(e,["dest"],w6(SN(d))),e}function p_(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["state"]);i!=null&&y(e,["state"],bN(i));const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["createTime"]);l!=null&&y(e,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(e,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(e,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const h=g(t,["model"]);h!=null&&y(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&y(e,["src"],I6(m));const _=g(t,["outputConfig"]);_!=null&&y(e,["dest"],C6(SN(_)));const A=g(t,["completionStats"]);return A!=null&&y(e,["completionStats"],A),e}function I6(t){const e={},n=g(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function R6(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>iq(t,l))),y(n,["requests","requests"],a)}return n}function P6(t){const e={},n=g(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function M6(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function N6(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Eu(t,r)),n}function D6(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Eu(t,r)),n}function O6(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],k6(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(A=>A)),y(e,["safetyRatings"],_)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function k6(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function wN(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>dq(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function V6(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function L6(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],x6(b6(i))),n}function U1(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],R6(t,AN(t,i)));const a=g(e,["config"]);return a!=null&&V6(a,n),n}function U6(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],rt(t,r));const i=g(e,["src"]);i!=null&&y(n,["inputConfig"],P6(AN(t,i)));const a=g(e,["config"]);return a!=null&&L6(a,n),n}function q6(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function B6(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],j6(t,i));const a=g(e,["config"]);return a!=null&&q6(a,n),n}function z6(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Eu(t,r)),n}function F6(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Eu(t,r)),n}function H6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);return a!=null&&y(e,["error"],a),e}function G6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);return a!=null&&y(e,["error"],a),e}function $6(t,e){const n={},r=g(e,["contents"]);if(r!=null){let a=VE(t,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const i=g(e,["config"]);return i!=null&&(y(n,["_self"],K6(i,n)),F3(n,{"requests[].*":"requests[].request.*"})),n}function K6(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function j6(t,e){const n={},r=g(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],$6(t,i)),n}function Y6(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function J6(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function W6(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function X6(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],wN(Fn(i)));const a=g(e,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const A=g(e,["presencePenalty"]);A!=null&&y(r,["presencePenalty"],A);const b=g(e,["frequencyPenalty"]);b!=null&&y(r,["frequencyPenalty"],b);const C=g(e,["seed"]);C!=null&&y(r,["seed"],C);const w=g(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const M=g(e,["responseSchema"]);M!=null&&y(r,["responseSchema"],LE(M));const q=g(e,["responseJsonSchema"]);if(q!=null&&y(r,["responseJsonSchema"],q),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=g(e,["safetySettings"]);if(n!==void 0&&k!=null){let F=k;Array.isArray(F)&&(F=F.map(U=>hq(U))),y(n,["safetySettings"],F)}const G=g(e,["tools"]);if(n!==void 0&&G!=null){let F=_u(G);Array.isArray(F)&&(F=F.map(U=>mq(vu(U)))),y(n,["tools"],F)}const z=g(e,["toolConfig"]);if(n!==void 0&&z!=null&&y(n,["toolConfig"],pq(z)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=g(e,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],Lo(t,K));const P=g(e,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const O=g(e,["mediaResolution"]);O!=null&&y(r,["mediaResolution"],O);const N=g(e,["speechConfig"]);if(N!=null&&y(r,["speechConfig"],UE(N)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(e,["thinkingConfig"]);B!=null&&y(r,["thinkingConfig"],B);const V=g(e,["imageConfig"]);return V!=null&&y(r,["imageConfig"],rq(V)),r}function Q6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>O6(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function Z6(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Eu(t,r)),n}function eq(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Eu(t,r)),n}function tq(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function nq(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function rq(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function iq(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["request","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let u=Jr(i);Array.isArray(u)&&(u=u.map(f=>wN(f))),y(n,["request","contents"],u)}const a=g(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(e,["config"]);return l!=null&&y(n,["request","generationConfig"],X6(t,l,g(n,["request"],{}))),n}function oq(t){const e={},n=g(t,["response"]);n!=null&&y(e,["response"],Q6(n));const r=g(t,["error"]);return r!=null&&y(e,["error"],r),e}function aq(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function sq(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const a=g(t,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),n}function lq(t){const e={},n=g(t,["config"]);return n!=null&&aq(n,e),e}function uq(t){const e={},n=g(t,["config"]);return n!=null&&sq(n,e),e}function cq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Jh(l))),y(e,["batchJobs"],a)}return e}function fq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>p_(l))),y(e,["batchJobs"],a)}return e}function dq(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],Y6(a));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],J6(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],M6(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function hq(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function pq(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],W6(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function mq(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],tq(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],nq(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Co;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Co||(Co={}));class Ys{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gq extends Vo{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Ys(Co.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=U1(this.apiClient,e),r=n._url,i=_e("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const _=m.systemInstruction;delete m.systemInstruction;const A=m.request;A.systemInstruction=_,m.request=A}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=U6(this.apiClient,e);return u=_e("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>p_(h))}else{const d=U1(this.apiClient,e);return u=_e("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Jh(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=B6(this.apiClient,e);return a=_e("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Jh(f))}}async get(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=eq(this.apiClient,e);return u=_e("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>p_(h))}else{const d=Z6(this.apiClient,e);return u=_e("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Jh(h))}}async cancel(e){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const f=D6(this.apiClient,e);l=_e("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=N6(this.apiClient,e);l=_e("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=uq(e);return u=_e("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=fq(h),_=new O1;return Object.assign(_,m),_})}else{const d=lq(e);return u=_e("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=cq(h),_=new O1;return Object.assign(_,m),_})}}async delete(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=F6(this.apiClient,e);return u=_e("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>G6(h))}else{const d=z6(this.apiClient,e);return u=_e("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>H6(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yq(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function q1(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Bq(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function vq(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let h=Jr(l);Array.isArray(h)&&(h=h.map(m=>q1(m))),y(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],q1(Fn(u)));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>Fq(m))),y(e,["tools"],h)}const d=g(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],zq(d)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _q(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let m=Jr(l);Array.isArray(m)&&(m=m.map(_=>_)),y(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],Fn(u));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(_=>Hq(_))),y(e,["tools"],m)}const d=g(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function Eq(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],hN(t,r));const i=g(e,["config"]);return i!=null&&vq(i,n),n}function Tq(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],hN(t,r));const i=g(e,["config"]);return i!=null&&_q(i,n),n}function Aq(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Lo(t,r)),n}function Sq(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Lo(t,r)),n}function bq(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function wq(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Cq(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function xq(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Iq(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Rq(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Pq(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Lo(t,r)),n}function Mq(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Lo(t,r)),n}function Nq(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Dq(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Oq(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function kq(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Vq(t){const e={},n=g(t,["config"]);return n!=null&&Oq(n,e),e}function Lq(t){const e={},n=g(t,["config"]);return n!=null&&kq(n,e),e}function Uq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["cachedContents"],a)}return e}function qq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["cachedContents"],a)}return e}function Bq(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],Cq(a));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],xq(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],yq(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function zq(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Iq(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Fq(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Nq(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],Dq(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function Hq(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>Rq(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Gq(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function $q(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function Kq(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],Lo(t,r));const i=g(e,["config"]);return i!=null&&Gq(i,n),n}function jq(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],Lo(t,r));const i=g(e,["config"]);return i!=null&&$q(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yq extends Vo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Co.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Tq(this.apiClient,e);return u=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Eq(this.apiClient,e);return u=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Mq(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Pq(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Sq(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=wq(h),_=new N1;return Object.assign(_,m),_})}else{const d=Aq(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=bq(h),_=new N1;return Object.assign(_,m),_})}}async update(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=jq(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Kq(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Lq(e);return u=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=qq(h),_=new D1;return Object.assign(_,m),_})}else{const d=Vq(e);return u=_e("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=Uq(h),_=new D1;return Object.assign(_,m),_})}}}function B1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(t){return this instanceof St?(this.v=t,this):new St(t)}function Zl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(A){return function(b){return Promise.resolve(b).then(A,m)}}function u(A,b){r[A]&&(i[A]=function(C){return new Promise(function(w,M){a.push([A,C,w,M])>1||f(A,C)})},b&&(i[A]=b(i[A])))}function f(A,b){try{d(r[A](b))}catch(C){_(a[0][3],C)}}function d(A){A.value instanceof St?Promise.resolve(A.value.v).then(h,m):_(a[0][2],A)}function h(A){f("next",A)}function m(A){f("throw",A)}function _(A,b){A(b),a.shift(),a.length&&f(a[0][0],a[0][1])}}function nf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof B1=="function"?B1(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(l){return new Promise(function(u,f){l=t[a](l),i(u,f,l.done,l.value)})}}function i(a,l,u,f){Promise.resolve(f).then(function(d){a({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jq(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:CN(n)}function CN(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Wq(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function z1(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!CN(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Xq{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Qq(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Qq{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Wq(a)}async sendMessage(e){var n;await this.sendPromise;const r=Fn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const f=await i,d=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let _=[];h!=null&&(_=(u=h.slice(m))!==null&&u!==void 0?u:[]);const A=d?[d]:[];this.recordHistory(r,A,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Fn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?z1(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Zl(this,arguments,function*(){var l,u,f,d;const h=[];try{for(var m=!0,_=nf(e),A;A=yield St(_.next()),l=A.done,!l;m=!0){d=A.value,m=!1;const b=d;if(Jq(b)){const C=(i=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&h.push(C)}yield yield St(b)}}catch(b){u={error:b}}finally{try{!m&&!l&&(f=_.return)&&(yield St(f.call(_)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...z1(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ym extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ym.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zq(t){const e={},n=g(t,["file"]);return n!=null&&y(e,["file"],n),e}function e5(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function t5(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],_N(n)),e}function n5(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function r5(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],_N(n)),e}function i5(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function o5(t){const e={},n=g(t,["config"]);return n!=null&&i5(n,e),e}function a5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s5 extends Vo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Co.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=o5(e);return a=_e("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=a5(f),h=new f6;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zq(e);return a=_e("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=e5(f),h=new d6;return Object.assign(h,d),h})}}async get(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=r5(e);return a=_e("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=t5(e);return a=_e("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=n5(f),h=new h6;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wh(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function l5(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>b5(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function u5(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function c5(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function f5(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function d5(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=g(t,["responseLogprobs"]);_!=null&&y(e,["responseLogprobs"],_);const A=g(t,["responseMimeType"]);A!=null&&y(e,["responseMimeType"],A);const b=g(t,["responseModalities"]);b!=null&&y(e,["responseModalities"],b);const C=g(t,["responseSchema"]);C!=null&&y(e,["responseSchema"],C);const w=g(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const M=g(t,["seed"]);M!=null&&y(e,["seed"],M);const q=g(t,["speechConfig"]);q!=null&&y(e,["speechConfig"],xN(q));const k=g(t,["stopSequences"]);k!=null&&y(e,["stopSequences"],k);const G=g(t,["temperature"]);G!=null&&y(e,["temperature"],G);const z=g(t,["thinkingConfig"]);z!=null&&y(e,["thinkingConfig"],z);const K=g(t,["topK"]);K!=null&&y(e,["topK"],K);const P=g(t,["topP"]);if(P!=null&&y(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function h5(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function p5(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function m5(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],qE(m));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const A=g(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],A);const b=g(t,["systemInstruction"]);e!==void 0&&b!=null&&y(e,["setup","systemInstruction"],l5(Fn(b)));const C=g(t,["tools"]);if(e!==void 0&&C!=null){let K=_u(C);Array.isArray(K)&&(K=K.map(P=>C5(vu(P)))),y(e,["setup","tools"],K)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],w5(w));const M=g(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","inputAudioTranscription"],M);const q=g(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&y(e,["setup","outputAudioTranscription"],q);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&y(e,["setup","realtimeInputConfig"],k);const G=g(t,["contextWindowCompression"]);e!==void 0&&G!=null&&y(e,["setup","contextWindowCompression"],G);const z=g(t,["proactivity"]);return e!==void 0&&z!=null&&y(e,["setup","proactivity"],z),n}function g5(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],d5(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],xN(qE(m)));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const A=g(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],A);const b=g(t,["systemInstruction"]);e!==void 0&&b!=null&&y(e,["setup","systemInstruction"],Fn(b));const C=g(t,["tools"]);if(e!==void 0&&C!=null){let K=_u(C);Array.isArray(K)&&(K=K.map(P=>x5(vu(P)))),y(e,["setup","tools"],K)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],w);const M=g(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","inputAudioTranscription"],M);const q=g(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&y(e,["setup","outputAudioTranscription"],q);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&y(e,["setup","realtimeInputConfig"],k);const G=g(t,["contextWindowCompression"]);e!==void 0&&G!=null&&y(e,["setup","contextWindowCompression"],G);const z=g(t,["proactivity"]);return e!==void 0&&z!=null&&y(e,["setup","proactivity"],z),n}function y5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],rt(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],m5(i,n)),n}function v5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],rt(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],g5(i,n)),n}function _5(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function E5(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function T5(t){const e={},n=g(t,["media"]);if(n!=null){let d=pN(n);Array.isArray(d)&&(d=d.map(h=>Wh(h))),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],Wh(gN(r)));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&y(e,["video"],Wh(mN(a)));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function A5(t){const e={},n=g(t,["media"]);if(n!=null){let d=pN(n);Array.isArray(d)&&(d=d.map(h=>h)),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],gN(r));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&y(e,["video"],mN(a));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function S5(t){const e={},n=g(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const a=g(t,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const l=g(t,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],I5(l));const u=g(t,["goAway"]);u!=null&&y(e,["goAway"],u);const f=g(t,["sessionResumptionUpdate"]);return f!=null&&y(e,["sessionResumptionUpdate"],f),e}function b5(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],u5(a));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],c5(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],Wh(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function w5(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xN(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function C5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],h5(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],p5(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function x5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>f5(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function I5(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const a=g(t,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const l=g(t,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const u=g(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const f=g(t,["promptTokensDetails"]);if(f!=null){let A=f;Array.isArray(A)&&(A=A.map(b=>b)),y(e,["promptTokensDetails"],A)}const d=g(t,["cacheTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(b=>b)),y(e,["cacheTokensDetails"],A)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(b=>b)),y(e,["responseTokensDetails"],A)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(b=>b)),y(e,["toolUsePromptTokensDetails"],A)}const _=g(t,["trafficType"]);return _!=null&&y(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R5(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function P5(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],M5(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(A=>A)),y(e,["safetyRatings"],_)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function M5(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function N5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let a=Jr(i);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["contents"],a)}return n}function D5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["tokensInfo"],i)}return e}function O5(t){const e={},n=g(t,["values"]);n!=null&&y(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&y(e,["statistics"],k5(r)),e}function k5(t){const e={},n=g(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function vm(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>GB(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function V5(t){const e={},n=g(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function L5(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function U5(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],Fn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>NN(u))),y(e,["tools"],l)}const a=g(t,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],RB(a)),n}function q5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let l=Jr(i);Array.isArray(l)&&(l=l.map(u=>vm(u))),y(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&L5(a),n}function B5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let l=Jr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&U5(a,n),n}function z5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function F5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function H5(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],rt(t,r)),n}function G5(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],rt(t,r)),n}function $5(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function K5(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function j5(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const _=g(t,["includeRaiReason"]);e!==void 0&&_!=null&&y(e,["parameters","includeRaiReason"],_);const A=g(t,["language"]);e!==void 0&&A!=null&&y(e,["parameters","language"],A);const b=g(t,["outputMimeType"]);e!==void 0&&b!=null&&y(e,["parameters","outputOptions","mimeType"],b);const C=g(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&y(e,["parameters","outputOptions","compressionQuality"],C);const w=g(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const M=g(t,["labels"]);e!==void 0&&M!=null&&y(e,["labels"],M);const q=g(t,["editMode"]);e!==void 0&&q!=null&&y(e,["parameters","editMode"],q);const k=g(t,["baseSteps"]);return e!==void 0&&k!=null&&y(e,["parameters","editConfig","baseSteps"],k),n}function Y5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>WB(f))),y(n,["instances[0]","referenceImages"],u)}const l=g(e,["config"]);return l!=null&&j5(l,n),n}function J5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>_m(a))),y(e,["generatedImages"],i)}return e}function W5(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function X5(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const a=g(t,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const l=g(t,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function Q5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let u=VE(t,i);Array.isArray(u)&&(u=u.map(f=>f)),y(n,["requests[]","content"],u)}const a=g(e,["config"]);a!=null&&W5(a,n);const l=g(e,["model"]);return l!==void 0&&y(n,["requests[]","model"],rt(t,l)),n}function Z5(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let l=VE(t,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const a=g(e,["config"]);return a!=null&&X5(a,n),n}function eB(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function tB(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>O5(l))),y(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function nB(t){const e={},n=g(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function rB(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function iB(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oB(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aB(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function sB(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],vm(Fn(i)));const a=g(e,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const A=g(e,["presencePenalty"]);A!=null&&y(r,["presencePenalty"],A);const b=g(e,["frequencyPenalty"]);b!=null&&y(r,["frequencyPenalty"],b);const C=g(e,["seed"]);C!=null&&y(r,["seed"],C);const w=g(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const M=g(e,["responseSchema"]);M!=null&&y(r,["responseSchema"],LE(M));const q=g(e,["responseJsonSchema"]);if(q!=null&&y(r,["responseJsonSchema"],q),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=g(e,["safetySettings"]);if(n!==void 0&&k!=null){let F=k;Array.isArray(F)&&(F=F.map(U=>XB(U))),y(n,["safetySettings"],F)}const G=g(e,["tools"]);if(n!==void 0&&G!=null){let F=_u(G);Array.isArray(F)&&(F=F.map(U=>iz(vu(U)))),y(n,["tools"],F)}const z=g(e,["toolConfig"]);if(n!==void 0&&z!=null&&y(n,["toolConfig"],rz(z)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=g(e,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],Lo(t,K));const P=g(e,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const O=g(e,["mediaResolution"]);O!=null&&y(r,["mediaResolution"],O);const N=g(e,["speechConfig"]);if(N!=null&&y(r,["speechConfig"],UE(N)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(e,["thinkingConfig"]);B!=null&&y(r,["thinkingConfig"],B);const V=g(e,["imageConfig"]);return V!=null&&y(r,["imageConfig"],OB(V)),r}function lB(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Fn(i));const a=g(e,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const A=g(e,["presencePenalty"]);A!=null&&y(r,["presencePenalty"],A);const b=g(e,["frequencyPenalty"]);b!=null&&y(r,["frequencyPenalty"],b);const C=g(e,["seed"]);C!=null&&y(r,["seed"],C);const w=g(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const M=g(e,["responseSchema"]);M!=null&&y(r,["responseSchema"],LE(M));const q=g(e,["responseJsonSchema"]);q!=null&&y(r,["responseJsonSchema"],q);const k=g(e,["routingConfig"]);k!=null&&y(r,["routingConfig"],k);const G=g(e,["modelSelectionConfig"]);G!=null&&y(r,["modelConfig"],G);const z=g(e,["safetySettings"]);if(n!==void 0&&z!=null){let W=z;Array.isArray(W)&&(W=W.map(re=>re)),y(n,["safetySettings"],W)}const K=g(e,["tools"]);if(n!==void 0&&K!=null){let W=_u(K);Array.isArray(W)&&(W=W.map(re=>NN(vu(re)))),y(n,["tools"],W)}const P=g(e,["toolConfig"]);n!==void 0&&P!=null&&y(n,["toolConfig"],P);const O=g(e,["labels"]);n!==void 0&&O!=null&&y(n,["labels"],O);const N=g(e,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],Lo(t,N));const B=g(e,["responseModalities"]);B!=null&&y(r,["responseModalities"],B);const V=g(e,["mediaResolution"]);V!=null&&y(r,["mediaResolution"],V);const F=g(e,["speechConfig"]);F!=null&&y(r,["speechConfig"],MN(UE(F)));const U=g(e,["audioTimestamp"]);U!=null&&y(r,["audioTimestamp"],U);const ye=g(e,["thinkingConfig"]);ye!=null&&y(r,["thinkingConfig"],ye);const we=g(e,["imageConfig"]);return we!=null&&y(r,["imageConfig"],kB(we)),r}function F1(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let l=Jr(i);Array.isArray(l)&&(l=l.map(u=>vm(u))),y(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&y(n,["generationConfig"],sB(t,a,n)),n}function H1(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["contents"]);if(i!=null){let l=Jr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&y(n,["generationConfig"],lB(t,a,n)),n}function G1(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>P5(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function $1(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["candidates"],d)}const i=g(t,["createTime"]);i!=null&&y(e,["createTime"],i);const a=g(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const l=g(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const u=g(t,["responseId"]);u!=null&&y(e,["responseId"],u);const f=g(t,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function uB(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const a=g(t,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const f=g(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=g(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=g(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","mimeType"],m);const _=g(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&y(e,["parameters","outputOptions","compressionQuality"],_),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=g(t,["imageSize"]);if(e!==void 0&&A!=null&&y(e,["parameters","sampleImageSize"],A),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cB(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const _=g(t,["includeRaiReason"]);e!==void 0&&_!=null&&y(e,["parameters","includeRaiReason"],_);const A=g(t,["language"]);e!==void 0&&A!=null&&y(e,["parameters","language"],A);const b=g(t,["outputMimeType"]);e!==void 0&&b!=null&&y(e,["parameters","outputOptions","mimeType"],b);const C=g(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&y(e,["parameters","outputOptions","compressionQuality"],C);const w=g(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const M=g(t,["labels"]);e!==void 0&&M!=null&&y(e,["labels"],M);const q=g(t,["imageSize"]);e!==void 0&&q!=null&&y(e,["parameters","sampleImageSize"],q);const k=g(t,["enhancePrompt"]);return e!==void 0&&k!=null&&y(e,["parameters","enhancePrompt"],k),n}function fB(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&uB(a,n),n}function dB(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&cB(a,n),n}function hB(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>wB(l))),y(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],RN(i)),e}function pB(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>_m(l))),y(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],PN(i)),e}function mB(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const l=g(t,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(t,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const d=g(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],Em(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(A=>yz(A))),y(e,["instances[0]","referenceImages"],_)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gB(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const a=g(t,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const l=g(t,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const u=g(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const f=g(t,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const d=g(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&y(e,["parameters","pubsubTopic"],m);const _=g(t,["negativePrompt"]);e!==void 0&&_!=null&&y(e,["parameters","negativePrompt"],_);const A=g(t,["enhancePrompt"]);e!==void 0&&A!=null&&y(e,["parameters","enhancePrompt"],A);const b=g(t,["generateAudio"]);e!==void 0&&b!=null&&y(e,["parameters","generateAudio"],b);const C=g(t,["lastFrame"]);e!==void 0&&C!=null&&y(e,["instances[0]","lastFrame"],pi(C));const w=g(t,["referenceImages"]);if(e!==void 0&&w!=null){let k=w;Array.isArray(k)&&(k=k.map(G=>vz(G))),y(e,["instances[0]","referenceImages"],k)}const M=g(t,["mask"]);e!==void 0&&M!=null&&y(e,["instances[0]","mask"],gz(M));const q=g(t,["compressionQuality"]);return e!==void 0&&q!=null&&y(e,["parameters","compressionQuality"],q),n}function yB(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],TB(l)),e}function vB(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["response"]);return l!=null&&y(e,["response"],AB(l)),e}function _B(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&y(n,["instances[0]","image"],Em(a));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],DN(l));const u=g(e,["source"]);u!=null&&SB(u,n);const f=g(e,["config"]);return f!=null&&mB(f,n),n}function EB(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&y(n,["instances[0]","image"],pi(a));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],ON(l));const u=g(e,["source"]);u!=null&&bB(u,n);const f=g(e,["config"]);return f!=null&&gB(f,n),n}function TB(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>xB(l))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function AB(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>IB(l))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function SB(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Em(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],DN(a)),n}function bB(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],pi(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],ON(a)),n}function wB(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],VB(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],RN(i)),e}function _m(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],IN(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&y(e,["safetyAttributes"],PN(i));const a=g(t,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function CB(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["mask"],IN(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["labels"],i)}return e}function xB(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],pz(n)),e}function IB(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],mz(n)),e}function RB(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=g(t,["responseLogprobs"]);_!=null&&y(e,["responseLogprobs"],_);const A=g(t,["responseMimeType"]);A!=null&&y(e,["responseMimeType"],A);const b=g(t,["responseModalities"]);b!=null&&y(e,["responseModalities"],b);const C=g(t,["responseSchema"]);C!=null&&y(e,["responseSchema"],C);const w=g(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const M=g(t,["seed"]);M!=null&&y(e,["seed"],M);const q=g(t,["speechConfig"]);q!=null&&y(e,["speechConfig"],MN(q));const k=g(t,["stopSequences"]);k!=null&&y(e,["stopSequences"],k);const G=g(t,["temperature"]);G!=null&&y(e,["temperature"],G);const z=g(t,["thinkingConfig"]);z!=null&&y(e,["thinkingConfig"],z);const K=g(t,["topK"]);K!=null&&y(e,["topK"],K);const P=g(t,["topP"]);if(P!=null&&y(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PB(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],rt(t,r)),n}function MB(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],rt(t,r)),n}function NB(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function DB(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function OB(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kB(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const a=g(t,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function VB(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],Ha(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function IN(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],Ha(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Em(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],Ha(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function pi(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Ha(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function LB(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],EN(t,u)),r}function UB(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],EN(t,u)),r}function qB(t,e){const n={},r=g(e,["config"]);return r!=null&&LB(t,r,n),n}function BB(t,e){const n={},r=g(e,["config"]);return r!=null&&UB(t,r,n),n}function zB(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=TN(i);Array.isArray(a)&&(a=a.map(l=>m_(l))),y(e,["models"],a)}return e}function FB(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=TN(i);Array.isArray(a)&&(a=a.map(l=>g_(l))),y(e,["models"],a)}return e}function HB(t){const e={},n=g(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function m_(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const a=g(t,["version"]);a!=null&&y(e,["version"],a);const l=g(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],oz(l));const u=g(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const f=g(t,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const d=g(t,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const h=g(t,["temperature"]);h!=null&&y(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&y(e,["maxTemperature"],m);const _=g(t,["topP"]);_!=null&&y(e,["topP"],_);const A=g(t,["topK"]);A!=null&&y(e,["topK"],A);const b=g(t,["thinking"]);return b!=null&&y(e,["thinking"],b),e}function g_(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const a=g(t,["versionId"]);a!=null&&y(e,["version"],a);const l=g(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(_=>nB(_))),y(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&y(e,["labels"],u);const f=g(t,["_self"]);f!=null&&y(e,["tunedModelInfo"],az(f));const d=g(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(_=>_)),y(e,["checkpoints"],m)}return e}function GB(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],rB(a));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],iB(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],R5(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function $B(t){const e={},n=g(t,["productImage"]);return n!=null&&y(e,["image"],pi(n)),e}function KB(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const a=g(t,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const l=g(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const f=g(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const d=g(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const _=g(t,["enhancePrompt"]);e!==void 0&&_!=null&&y(e,["parameters","enhancePrompt"],_);const A=g(t,["labels"]);return e!==void 0&&A!=null&&y(e,["labels"],A),n}function jB(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["source"]);i!=null&&JB(i,n);const a=g(e,["config"]);return a!=null&&KB(a,n),n}function YB(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_m(i))),y(e,["generatedImages"],r)}return e}function JB(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],pi(i));const a=g(t,["productImages"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>$B(u))),y(e,["instances[0]","productImages"],l)}return n}function WB(t){const e={},n=g(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],pi(n));const r=g(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const a=g(t,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],HB(a));const l=g(t,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],V5(l));const u=g(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const f=g(t,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function RN(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function PN(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function XB(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function QB(t){const e={},n=g(t,["image"]);return n!=null&&y(e,["image"],pi(n)),e}function ZB(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const a=g(t,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const l=g(t,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const f=g(t,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),n}function ez(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["source"]);i!=null&&nz(i,n);const a=g(e,["config"]);return a!=null&&ZB(a,n),n}function tz(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CB(i))),y(e,["generatedMasks"],r)}return e}function nz(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],pi(i));const a=g(t,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],QB(a)),n}function MN(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rz(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],oB(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function iz(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],NB(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],DB(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function NN(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>aB(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function oz(t){const e={},n=g(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function az(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function sz(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function lz(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function uz(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","name"],rt(t,r));const i=g(e,["config"]);return i!=null&&sz(i,n),n}function cz(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["config"]);return i!=null&&lz(i,n),n}function fz(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const a=g(t,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const l=g(t,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const f=g(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=g(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const _=g(t,["numberOfImages"]);e!==void 0&&_!=null&&y(e,["parameters","sampleCount"],_);const A=g(t,["mode"]);return e!==void 0&&A!=null&&y(e,["parameters","mode"],A),n}function dz(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],rt(t,r));const i=g(e,["image"]);i!=null&&y(n,["instances[0]","image"],pi(i));const a=g(e,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=g(e,["config"]);return l!=null&&fz(l,n),n}function hz(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>_m(a))),y(e,["generatedImages"],i)}return e}function pz(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],Ha(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function mz(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],Ha(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function gz(t){const e={},n=g(t,["image"]);n!=null&&y(e,["_self"],pi(n));const r=g(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function yz(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],Em(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function vz(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],pi(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function DN(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],Ha(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function ON(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Ha(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _z="Content-Type",Ez="X-Server-Timeout",Tz="User-Agent",y_="x-goog-api-client",Az="1.30.0",Sz=`google-genai-sdk/${Az}`,bz="v1beta1",wz="v1beta",K1=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Cz{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:bz,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wz,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&xz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await j1(i),new d_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await j1(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Zl(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield St(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(f,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const _=JSON.parse(JSON.stringify(m.error)),A=_.status,b=_.code,C=`got status: ${A}. ${JSON.stringify(m)}`;if(b>=400&&b<600)throw new ym({message:C,status:b})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let h=l.match(K1);for(;h;){const m=h[1];try{const _=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield St(new d_(_)),l=l.slice(h[0].length),h=l.match(K1)}catch(_){throw new Error(`exception parsing stream chunk ${m}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Sz+" "+this.clientOptions.userAgentExtra;return e[Tz]=n,e[y_]=n,e[_z]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(Ez,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),h=_e("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const _=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function j1(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ym({message:i,status:n}):new Error(i)}}function xz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iz="mcp_used/unknown";let Rz=!1;function kN(t){for(const e of t)if(Pz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Rz}function VN(t){var e;const n=(e=t[y_])!==null&&e!==void 0?e:"";t[y_]=(n+` ${Iz}`).trimStart()}function Pz(t){return t!==null&&typeof t=="object"&&t instanceof BE}function Mz(t,e=100){return Zl(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield St(t.listTools({cursor:r}));for(const l of a.tools)yield yield St(l),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class BE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new BE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,nf(Mz(h))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;l.push(m);const _=m.name;if(a[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);a[_]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),S6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Nz(t,e,n){const r=new m6;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Dz{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=Vz(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(k=>{d=k}),m=e.callbacks,_=function(){d({})},A=this.apiClient,b={onopen:_,onmessage:k=>{Nz(A,m.onmessage,k)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(k){}},C=this.webSocketFactory.create(f,kz(l),b);C.connect(),await h;const q={setup:{model:rt(this.apiClient,e.model)}};return C.send(JSON.stringify(q)),new Oz(C,this.apiClient)}}class Oz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=E5(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=_5(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Jl.PLAY)}pause(){this.sendPlaybackControl(Jl.PAUSE)}stop(){this.sendPlaybackControl(Jl.STOP)}resetContext(){this.sendPlaybackControl(Jl.RESET_CONTEXT)}close(){this.conn.close()}}function kz(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Vz(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Uz(t,e,n){const r=new p6;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const l=S5(a);Object.assign(r,l)}else Object.assign(r,a);e(r)}class qz{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Dz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&kN(e.config.tools)&&VN(m);const _=Hz(m);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,h);else{const N=this.apiClient.getApiKey();let B="BidiGenerateContent",V="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",V="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${V}=${N}`}let A=()=>{};const b=new Promise(N=>{A=N}),C=e.callbacks,w=function(){var N;(N=C==null?void 0:C.onopen)===null||N===void 0||N.call(C),A({})},M=this.apiClient,q={onopen:w,onmessage:N=>{Uz(M,C.onmessage,N)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(N){}},k=this.webSocketFactory.create(h,Fz(_),q);k.connect(),await b;let G=rt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const N=this.apiClient.getProject(),B=this.apiClient.getLocation();G=`projects/${N}/locations/${B}/`+G}let z={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[up.AUDIO]}:e.config.responseModalities=[up.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],P=[];for(const N of K)if(this.isCallableTool(N)){const B=N;P.push(await B.tool())}else P.push(N);P.length>0&&(e.config.tools=P);const O={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=v5(this.apiClient,O):z=y5(this.apiClient,O),delete z.config,k.send(JSON.stringify(z)),new zz(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Bz={turnComplete:!0};class zz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Jr(n.turns),e.isVertexAI()||(r=r.map(i=>vm(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Lz)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Bz),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:A5(e)}:n={realtimeInput:T5(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Fz(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Hz(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y1=10;function J1(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(eu(l)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function eu(t){return"callTool"in t&&typeof t.callTool=="function"}function Gz(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>eu(i)))!==null&&r!==void 0?r:!1}function W1(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(eu(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function X1(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $z extends Vo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Gz(n)||J1(n.config))return await this.generateContentInternal(f);const d=W1(n);if(d.length>0){const C=d.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let h,m;const _=Jr(f.contents),A=(a=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Y1;let b=0;for(;b<A&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const C=h.candidates[0].content,w=[];for(const M of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(eu(M)){const k=await M.callTool(h.functionCalls);w.push(...k)}b++,m={role:"user",parts:w},f.contents=Jr(f.contents),f.contents.push(C),f.contents.push(m),X1(f.config)&&(_.push(C),_.push(m))}return X1(f.config)&&(h.automaticFunctionCallingHistory=_),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),J1(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=W1(n);if(f.length>0){const m=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ys(Co.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>eu(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&kN(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),VN(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(eu(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Y1;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,h,m){var _,A;return Zl(this,arguments,function*(){for(var b,C,w,M;u<a;){l&&(u++,l=!1);const z=yield St(d.processParamsMaybeAddMcpUsage(m)),K=yield St(d.generateContentStreamInternal(z)),P=[],O=[];try{for(var q=!0,k=(C=void 0,nf(K)),G;G=yield St(k.next()),b=G.done,!b;q=!0){M=G.value,q=!1;const N=M;if(yield yield St(N),N.candidates&&(!((_=N.candidates[0])===null||_===void 0)&&_.content)){O.push(N.candidates[0].content);for(const B of(A=N.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(u<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(B.functionCall.name)){const V=yield St(h.get(B.functionCall.name).callTool([B.functionCall]));P.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(N){C={error:N}}finally{try{!q&&!b&&(w=k.return)&&(yield St(w.call(k)))}finally{if(C)throw C.error}}if(P.length>0){l=!0;const N=new Bc;N.candidates=[{content:{role:"user",parts:P}}],yield yield St(N);const B=[];B.push(...O),B.push({role:"user",parts:P});const V=Jr(m.contents).concat(B);m.contents=V}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=H1(this.apiClient,e);return u=_e("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=$1(h),_=new Bc;return Object.assign(_,m),_})}else{const d=F1(this.apiClient,e);return u=_e("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=G1(h),_=new Bc;return Object.assign(_,m),_})}}async generateContentStreamInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=H1(this.apiClient,e);return u=_e("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Zl(this,arguments,function*(){var _,A,b,C;try{for(var w=!0,M=nf(m),q;q=yield St(M.next()),_=q.done,!_;w=!0){C=q.value,w=!1;const k=C,G=$1(yield St(k.json()));G.sdkHttpResponse={headers:k.headers};const z=new Bc;Object.assign(z,G),yield yield St(z)}}catch(k){A={error:k}}finally{try{!w&&!_&&(b=M.return)&&(yield St(b.call(M)))}finally{if(A)throw A.error}}})})}else{const d=F1(this.apiClient,e);return u=_e("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return Zl(this,arguments,function*(){var _,A,b,C;try{for(var w=!0,M=nf(m),q;q=yield St(M.next()),_=q.done,!_;w=!0){C=q.value,w=!1;const k=C,G=G1(yield St(k.json()));G.sdkHttpResponse={headers:k.headers};const z=new Bc;Object.assign(z,G),yield yield St(z)}}catch(k){A={error:k}}finally{try{!w&&!_&&(b=M.return)&&(yield St(b.call(M)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Z5(this.apiClient,e);return u=_e("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=tB(h),_=new C1;return Object.assign(_,m),_})}else{const d=Q5(this.apiClient,e);return u=_e("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=eB(h),_=new C1;return Object.assign(_,m),_})}}async generateImagesInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=dB(this.apiClient,e);return u=_e("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=pB(h),_=new x1;return Object.assign(_,m),_})}else{const d=fB(this.apiClient,e);return u=_e("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=hB(h),_=new x1;return Object.assign(_,m),_})}}async editImageInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Y5(this.apiClient,e);return a=_e("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=J5(f),h=new r6;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=dz(this.apiClient,e);return a=_e("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=hz(f),h=new i6;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=jB(this.apiClient,e);return a=_e("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=YB(f),h=new o6;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=ez(this.apiClient,e);return a=_e("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=tz(f),h=new a6;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=MB(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>g_(h))}else{const d=PB(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>m_(h))}}async listInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=BB(this.apiClient,e);return u=_e("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=FB(h),_=new I1;return Object.assign(_,m),_})}else{const d=qB(this.apiClient,e);return u=_e("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=zB(h),_=new I1;return Object.assign(_,m),_})}}async update(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=cz(this.apiClient,e);return u=_e("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>g_(h))}else{const d=uz(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>m_(h))}}async delete(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=G5(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=K5(h),_=new R1;return Object.assign(_,m),_})}else{const d=H5(this.apiClient,e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=$5(h),_=new R1;return Object.assign(_,m),_})}}async countTokens(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=B5(this.apiClient,e);return u=_e("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=F5(h),_=new P1;return Object.assign(_,m),_})}else{const d=q5(this.apiClient,e);return u=_e("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=z5(h),_=new P1;return Object.assign(_,m),_})}}async computeTokens(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=N5(this.apiClient,e);return a=_e("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=D5(f),h=new s6;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=EB(this.apiClient,e);return u=_e("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=vB(h),_=new cp;return Object.assign(_,m),_})}else{const d=_B(this.apiClient,e);return u=_e("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=yB(h),_=new cp;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kz extends Vo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=X3(e);return u=_e("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=W3(e);return u=_e("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=H3(e);return a=_e("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jz(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Yz(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rF(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function Jz(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=g(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=g(e,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],nF(t,u));const f=g(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function Wz(t,e){const n={},r=g(e,["config"]);return r!=null&&y(n,["config"],Jz(t,r,n)),n}function Xz(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Qz(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zz(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function eF(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function tF(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],qE(m));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const A=g(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],A);const b=g(t,["systemInstruction"]);e!==void 0&&b!=null&&y(e,["setup","systemInstruction"],Yz(Fn(b)));const C=g(t,["tools"]);if(e!==void 0&&C!=null){let K=_u(C);Array.isArray(K)&&(K=K.map(P=>oF(vu(P)))),y(e,["setup","tools"],K)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],iF(w));const M=g(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","inputAudioTranscription"],M);const q=g(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&y(e,["setup","outputAudioTranscription"],q);const k=g(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&y(e,["setup","realtimeInputConfig"],k);const G=g(t,["contextWindowCompression"]);e!==void 0&&G!=null&&y(e,["setup","contextWindowCompression"],G);const z=g(t,["proactivity"]);return e!==void 0&&z!=null&&y(e,["setup","proactivity"],z),n}function nF(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],rt(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],tF(i,n)),n}function rF(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],Xz(a));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],Qz(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],jz(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function iF(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oF(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Zz(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],eF(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aF(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function sF(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=aF(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];a&&f.push(a),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class lF extends Vo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Wz(this.apiClient,e);a=_e("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=sF(u,e.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uF(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function cF(t){const e={},n=g(t,["config"]);return n!=null&&uF(n,e),e}function fF(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function dF(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&fF(r,e),e}function hF(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function pF(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["customMetadata"],a)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function mF(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const l=g(t,["response"]);return l!=null&&y(e,["response"],yF(l)),e}function gF(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&pF(i,e),e}function yF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function vF(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function _F(t){const e={},n=g(t,["config"]);return n!=null&&vF(n,e),e}function EF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["fileSearchStores"],a)}return e}function TF(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const a=g(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["customMetadata"],u)}const l=g(t,["chunkingConfig"]);return e!==void 0&&l!=null&&y(e,["chunkingConfig"],l),n}function AF(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&TF(r,e),e}function SF(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bF(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function wF(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&bF(r,e),e}function CF(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function xF(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function IF(t){const e={},n=g(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&xF(r,e),e}function RF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PF extends Vo{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ys(Co.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CF(e);return a=_e("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wF(e);i=_e("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IF(e);return a=_e("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=RF(f),h=new l6;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MF extends Vo{constructor(e,n=new PF(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ys(Co.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cF(e);return a=_e("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hF(e);return a=_e("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dF(e);i=_e("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_F(e);return a=_e("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=EF(f),h=new u6;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AF(e);return a=_e("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=SF(f),h=new c6;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gF(e);return a=_e("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=mF(f),h=new OE;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NF(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function DF(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function OF(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(t,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const l=g(t,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const f=g(t,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function kF(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const A=g(t,["validationDataset"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec"],Q1(A))}else if(i==="PREFERENCE_TUNING"){const A=g(t,["validationDataset"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec"],Q1(A))}const a=g(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const l=g(t,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const A=g(t,["epochCount"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(u==="PREFERENCE_TUNING"){const A=g(t,["epochCount"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const A=g(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(f==="PREFERENCE_TUNING"){const A=g(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const A=g(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(d==="PREFERENCE_TUNING"){const A=g(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=g(t,["adapterSize"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(h==="PREFERENCE_TUNING"){const A=g(t,["adapterSize"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const _=g(t,["beta"]);return e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function VF(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&jF(a);const l=g(t,["config"]);return l!=null&&OF(l,n),n}function LF(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&YF(a,n,e);const l=g(t,["config"]);return l!=null&&kF(l,n,e),n}function UF(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function qF(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function BF(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function zF(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function FF(t,e){const n={},r=g(t,["config"]);return r!=null&&BF(r,n),n}function HF(t,e){const n={},r=g(t,["config"]);return r!=null&&zF(r,n),n}function GF(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>LN(u))),y(n,["tuningJobs"],l)}return n}function $F(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>v_(u))),y(n,["tuningJobs"],l)}return n}function KF(t,e){const n={},r=g(t,["name"]);r!=null&&y(n,["model"],r);const i=g(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function jF(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function YF(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function LN(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const a=g(t,["state"]);a!=null&&y(n,["state"],vN(a));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["description"]);h!=null&&y(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&y(n,["baseModel"],m);const _=g(t,["_self"]);return _!=null&&y(n,["tunedModel"],KF(_)),n}function v_(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const a=g(t,["state"]);a!=null&&y(n,["state"],vN(a));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["error"]);h!=null&&y(n,["error"],h);const m=g(t,["description"]);m!=null&&y(n,["description"],m);const _=g(t,["baseModel"]);_!=null&&y(n,["baseModel"],_);const A=g(t,["tunedModel"]);A!=null&&y(n,["tunedModel"],A);const b=g(t,["preTunedModel"]);b!=null&&y(n,["preTunedModel"],b);const C=g(t,["supervisedTuningSpec"]);C!=null&&y(n,["supervisedTuningSpec"],C);const w=g(t,["preferenceOptimizationSpec"]);w!=null&&y(n,["preferenceOptimizationSpec"],w);const M=g(t,["tuningDataStats"]);M!=null&&y(n,["tuningDataStats"],M);const q=g(t,["encryptionSpec"]);q!=null&&y(n,["encryptionSpec"],q);const k=g(t,["partnerModelTuningSpec"]);k!=null&&y(n,["partnerModelTuningSpec"],k);const G=g(t,["customBaseModel"]);G!=null&&y(n,["customBaseModel"],G);const z=g(t,["experiment"]);z!=null&&y(n,["experiment"],z);const K=g(t,["labels"]);K!=null&&y(n,["labels"],K);const P=g(t,["outputUri"]);P!=null&&y(n,["outputUri"],P);const O=g(t,["pipelineJob"]);O!=null&&y(n,["pipelineJob"],O);const N=g(t,["serviceAccount"]);N!=null&&y(n,["serviceAccount"],N);const B=g(t,["tunedModelDisplayName"]);B!=null&&y(n,["tunedModelDisplayName"],B);const V=g(t,["veoTuningSpec"]);return V!=null&&y(n,["veoTuningSpec"],V),n}function JF(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const a=g(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(t,["done"]);l!=null&&y(n,["done"],l);const u=g(t,["error"]);return u!=null&&y(n,["error"],u),n}function Q1(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WF extends Vo{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ys(Co.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:f_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=qF(e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>v_(h))}else{const d=UF(e);return u=_e("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>LN(h))}}async listInternal(e){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=HF(e);return u=_e("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=$F(h),_=new M1;return Object.assign(_,m),_})}else{const d=FF(e);return u=_e("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=GF(h),_=new M1;return Object.assign(_,m),_})}}async cancel(e){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const f=DF(e);l=_e("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=NF(e);l=_e("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=LF(e,e);return a=_e("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>v_(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=VF(e);return a=_e("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>JF(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XF{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QF=1024*1024*8,ZF=3,e9=1e3,t9=2,dp="x-goog-upload-status";async function n9(t,e,n){var r;const i=await UN(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[dp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function r9(t,e,n){var r;const i=await UN(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[dp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=dN(a),u=new kE;return Object.assign(u,l),u}async function UN(t,e,n){var r,i;let a=0,l=0,u=new d_(new Response),f="upload";for(a=t.size;l<a;){const d=Math.min(QF,a-l),h=t.slice(l,l+d);l+d>=a&&(f+=", finalize");let m=0,_=e9;for(;m<ZF&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[dp]));)m++,await o9(_),_=_*t9;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[dp])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function i9(t){return{size:t.size,type:t.type}}function o9(t){return new Promise(e=>setTimeout(e,t))}class a9{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await n9(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await r9(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await i9(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s9{create(e,n,r){return new l9(e,n,r)}}class l9{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z1="x-goog-api-key";class u9{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Z1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Z1,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c9="gl-node/";class f9{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=z3(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new u9(this.apiKey);this.apiClient=new Cz({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:c9+"web",uploader:new a9,downloader:new XF}),this.models=new $z(this.apiClient),this.live=new qz(this.apiClient,i,new s9),this.batches=new gq(this.apiClient),this.chats=new Xq(this.models,this.apiClient),this.caches=new Yq(this.apiClient),this.files=new s5(this.apiClient),this.operations=new Kz(this.apiClient),this.authTokens=new lF(this.apiClient),this.tunings=new WF(this.apiClient),this.fileSearchStores=new MF(this.apiClient)}}const d9=new f9({apiKey:"PLACEHOLDER_API_KEY"}),h9=async t=>{try{const e=t.transactions.filter(d=>d.type==="VENDA"),n=t.transactions.filter(d=>d.type==="DESPESA"),r=e.reduce((d,h)=>d+h.amount,0),i=n.reduce((d,h)=>d+h.amount,0),a=t.clients.reduce((d,h)=>d+h.debt,0),l=t.clients.reduce((d,h)=>d+h.bottlesOwed,0),u=`
      Aja como um consultor de negcios snior para um distribuidor de cerveja em Angola.
      Analise os seguintes dados do meu negcio e d-me 3 conselhos estratgicos curtos e prticos para crescer, reduzir custos e recuperar dvidas.
      Seja direto, motivador e use um tom profissional mas simples.

      Dados:
      - Total Vendas: ${r} Kz
      - Total Despesas: ${i} Kz
      - Saldo Atual: ${t.cashBalance} Kz
      - Total em Kilapis (Dvidas de clientes): ${a} Kz
      - Vasilhames (caixas/garrafas) em falta com clientes: ${l} unidades.
      
      Estruture a resposta em HTML simples (sem markdown tags como \`\`\`) usando <h3> para ttulos e <ul><li> para pontos.
    `;return(await d9.models.generateContent({model:"gemini-2.5-flash",contents:u})).text||"No foi possvel gerar conselhos no momento."}catch(e){return console.error("Error getting advice:",e),"Erro ao conectar com o consultor virtual. Verifique sua conexo."}},p9=()=>{};var ex={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},BN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=a>>2,m=(a&3)<<4|u>>4;let _=(u&15)<<2|d>>6,A=d&63;f||(A=64,l||(_=64)),r.push(n[h],n[m],n[_],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||m==null)throw new g9;const _=a<<2|u>>4;if(r.push(_),d!==64){const A=u<<4&240|d>>2;if(r.push(A),m!==64){const b=d<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y9=function(t){const e=qN(t);return BN.encodeByteArray(e,!0)},hp=function(t){return y9(t).replace(/\./g,"")},v9=function(t){try{return BN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=()=>_9().__FIREBASE_DEFAULTS__,T9=()=>{if(typeof process>"u"||typeof ex>"u")return;const t=ex.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v9(t[1]);return e&&JSON.parse(e)},zE=()=>{try{return p9()||E9()||T9()||A9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S9=t=>{var e,n;return(n=(e=zE())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},b9=t=>{const e=S9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zN=()=>{var t;return(t=zE())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C9(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[hp(JSON.stringify(n)),hp(JSON.stringify(l)),""].join(".")}const rf={};function I9(){const t={prod:[],emulator:[]};for(const e of Object.keys(rf))rf[e]?t.emulator.push(e):t.prod.push(e);return t}function R9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tx=!1;function P9(t,e){if(typeof window>"u"||typeof document>"u"||!FE(window.location.host)||rf[t]===e||rf[t]||tx)return;rf[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=I9().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{tx=!0,l()},_}function h(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=R9(r),A=n("text"),b=document.getElementById(A)||document.createElement("span"),C=n("learnmore"),w=document.getElementById(C)||document.createElement("a"),M=n("preprendIcon"),q=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const k=_.element;u(k),h(w,C);const G=d();f(q,M),k.append(q,b,w,G),document.body.appendChild(k)}a?(b.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N9(){var e;const t=(e=zE())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D9(){return!N9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O9(){try{return typeof indexedDB=="object"}catch{return!1}}function k9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="FirebaseError";class Tu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V9,Object.setPrototypeOf(this,Tu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,FN.prototype.create)}}class FN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?L9(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Tu(i,u,r)}}function L9(t,e){return t.replace(U9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U9=/\{\$([^}]+)}/g;function pp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(nx(a)&&nx(l)){if(!pp(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){return t&&t._delegate?t._delegate:t}class cf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z9(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function B9(t){return t===ws?void 0:t}function z9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const H9={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},G9=et.INFO,$9={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},K9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class HN{constructor(e){this.name=e,this._logLevel=G9,this._logHandler=K9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const j9=(t,e)=>e.some(n=>t instanceof n);let rx,ix;function Y9(){return rx||(rx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J9(){return ix||(ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GN=new WeakMap,__=new WeakMap,$N=new WeakMap,Sv=new WeakMap,HE=new WeakMap;function W9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Pa(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&GN.set(n,t)}).catch(()=>{}),HE.set(e,t),e}function X9(t){if(__.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});__.set(t,e)}let E_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return __.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$N.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q9(t){E_=t(E_)}function Z9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bv(this),e,...n);return $N.set(r,e.sort?e.sort():[e]),Pa(r)}:J9().includes(t)?function(...e){return t.apply(bv(this),e),Pa(GN.get(this))}:function(...e){return Pa(t.apply(bv(this),e))}}function eH(t){return typeof t=="function"?Z9(t):(t instanceof IDBTransaction&&X9(t),j9(t,Y9())?new Proxy(t,E_):t)}function Pa(t){if(t instanceof IDBRequest)return W9(t);if(Sv.has(t))return Sv.get(t);const e=eH(t);return e!==t&&(Sv.set(t,e),HE.set(e,t)),e}const bv=t=>HE.get(t);function tH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Pa(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Pa(l.result),f.oldVersion,f.newVersion,Pa(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const nH=["get","getKey","getAll","getAllKeys","count"],rH=["put","add","delete","clear"],wv=new Map;function ox(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wv.get(e))return wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nH.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return wv.set(e,a),a}Q9(t=>({...t,get:(e,n,r)=>ox(e,n)||t.get(e,n,r),has:(e,n)=>!!ox(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const T_="@firebase/app",ax="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new HN("@firebase/app"),aH="@firebase/app-compat",sH="@firebase/analytics-compat",lH="@firebase/analytics",uH="@firebase/app-check-compat",cH="@firebase/app-check",fH="@firebase/auth",dH="@firebase/auth-compat",hH="@firebase/database",pH="@firebase/data-connect",mH="@firebase/database-compat",gH="@firebase/functions",yH="@firebase/functions-compat",vH="@firebase/installations",_H="@firebase/installations-compat",EH="@firebase/messaging",TH="@firebase/messaging-compat",AH="@firebase/performance",SH="@firebase/performance-compat",bH="@firebase/remote-config",wH="@firebase/remote-config-compat",CH="@firebase/storage",xH="@firebase/storage-compat",IH="@firebase/firestore",RH="@firebase/ai",PH="@firebase/firestore-compat",MH="firebase",NH="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="[DEFAULT]",DH={[T_]:"fire-core",[aH]:"fire-core-compat",[lH]:"fire-analytics",[sH]:"fire-analytics-compat",[cH]:"fire-app-check",[uH]:"fire-app-check-compat",[fH]:"fire-auth",[dH]:"fire-auth-compat",[hH]:"fire-rtdb",[pH]:"fire-data-connect",[mH]:"fire-rtdb-compat",[gH]:"fire-fn",[yH]:"fire-fn-compat",[vH]:"fire-iid",[_H]:"fire-iid-compat",[EH]:"fire-fcm",[TH]:"fire-fcm-compat",[AH]:"fire-perf",[SH]:"fire-perf-compat",[bH]:"fire-rc",[wH]:"fire-rc-compat",[CH]:"fire-gcs",[xH]:"fire-gcs-compat",[IH]:"fire-fst",[PH]:"fire-fst-compat",[RH]:"fire-vertex","fire-js":"fire-js",[MH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Map,OH=new Map,S_=new Map;function sx(t,e){try{t.container.addComponent(e)}catch(n){xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gp(t){const e=t.name;if(S_.has(e))return xo.debug(`There were multiple attempts to register component ${e}.`),!1;S_.set(e,t);for(const n of mp.values())sx(n,t);for(const n of OH.values())sx(n,t);return!0}function kH(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VH(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new FN("app","Firebase",LH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=NH;function KN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:A_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ma.create("bad-app-name",{appName:String(i)});if(n||(n=zN()),!n)throw Ma.create("no-options");const a=mp.get(i);if(a){if(pp(n,a.options)&&pp(r,a.config))return a;throw Ma.create("duplicate-app",{appName:i})}const l=new F9(i);for(const f of S_.values())l.addComponent(f);const u=new UH(n,r,l);return mp.set(i,u),u}function BH(t=A_){const e=mp.get(t);if(!e&&t===A_&&zN())return KN();if(!e)throw Ma.create("no-app",{appName:t});return e}function tu(t,e,n){let r=DH[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xo.warn(l.join(" "));return}gp(new cf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH="firebase-heartbeat-database",FH=1,ff="firebase-heartbeat-store";let Cv=null;function jN(){return Cv||(Cv=tH(zH,FH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ff)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),Cv}async function HH(t){try{const n=(await jN()).transaction(ff),r=await n.objectStore(ff).get(YN(t));return await n.done,r}catch(e){if(e instanceof Tu)xo.warn(e.message);else{const n=Ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xo.warn(n.message)}}}async function lx(t,e){try{const r=(await jN()).transaction(ff,"readwrite");await r.objectStore(ff).put(e,YN(t)),await r.done}catch(n){if(n instanceof Tu)xo.warn(n.message);else{const r=Ma.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xo.warn(r.message)}}}function YN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=1024,$H=30;class KH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ux();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>$H){const l=JH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ux(),{heartbeatsToSend:r,unsentEntries:i}=jH(this._heartbeatsCache.heartbeats),a=hp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xo.warn(n),""}}}function ux(){return new Date().toISOString().substring(0,10)}function jH(t,e=GH){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),cx(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O9()?k9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cx(t){return hp(JSON.stringify({version:2,heartbeats:t})).length}function JH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t){gp(new cf("platform-logger",e=>new iH(e),"PRIVATE")),gp(new cf("heartbeat",e=>new KH(e),"PRIVATE")),tu(T_,ax,t),tu(T_,ax,"esm2020"),tu("fire-js","")}WH("");var XH="firebase",QH="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tu(XH,QH,"app");var fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,JN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function N(){}N.prototype=O.prototype,P.F=O.prototype,P.prototype=new N,P.prototype.constructor=P,P.D=function(B,V,F){for(var U=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)U[ye-2]=arguments[ye];return O.prototype[V].apply(B,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,N){N||(N=0);const B=Array(16);if(typeof O=="string")for(var V=0;V<16;++V)B[V]=O.charCodeAt(N++)|O.charCodeAt(N++)<<8|O.charCodeAt(N++)<<16|O.charCodeAt(N++)<<24;else for(V=0;V<16;++V)B[V]=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24;O=P.g[0],N=P.g[1],V=P.g[2];let F=P.g[3],U;U=O+(F^N&(V^F))+B[0]+3614090360&4294967295,O=N+(U<<7&4294967295|U>>>25),U=F+(V^O&(N^V))+B[1]+3905402710&4294967295,F=O+(U<<12&4294967295|U>>>20),U=V+(N^F&(O^N))+B[2]+606105819&4294967295,V=F+(U<<17&4294967295|U>>>15),U=N+(O^V&(F^O))+B[3]+3250441966&4294967295,N=V+(U<<22&4294967295|U>>>10),U=O+(F^N&(V^F))+B[4]+4118548399&4294967295,O=N+(U<<7&4294967295|U>>>25),U=F+(V^O&(N^V))+B[5]+1200080426&4294967295,F=O+(U<<12&4294967295|U>>>20),U=V+(N^F&(O^N))+B[6]+2821735955&4294967295,V=F+(U<<17&4294967295|U>>>15),U=N+(O^V&(F^O))+B[7]+4249261313&4294967295,N=V+(U<<22&4294967295|U>>>10),U=O+(F^N&(V^F))+B[8]+1770035416&4294967295,O=N+(U<<7&4294967295|U>>>25),U=F+(V^O&(N^V))+B[9]+2336552879&4294967295,F=O+(U<<12&4294967295|U>>>20),U=V+(N^F&(O^N))+B[10]+4294925233&4294967295,V=F+(U<<17&4294967295|U>>>15),U=N+(O^V&(F^O))+B[11]+2304563134&4294967295,N=V+(U<<22&4294967295|U>>>10),U=O+(F^N&(V^F))+B[12]+1804603682&4294967295,O=N+(U<<7&4294967295|U>>>25),U=F+(V^O&(N^V))+B[13]+4254626195&4294967295,F=O+(U<<12&4294967295|U>>>20),U=V+(N^F&(O^N))+B[14]+2792965006&4294967295,V=F+(U<<17&4294967295|U>>>15),U=N+(O^V&(F^O))+B[15]+1236535329&4294967295,N=V+(U<<22&4294967295|U>>>10),U=O+(V^F&(N^V))+B[1]+4129170786&4294967295,O=N+(U<<5&4294967295|U>>>27),U=F+(N^V&(O^N))+B[6]+3225465664&4294967295,F=O+(U<<9&4294967295|U>>>23),U=V+(O^N&(F^O))+B[11]+643717713&4294967295,V=F+(U<<14&4294967295|U>>>18),U=N+(F^O&(V^F))+B[0]+3921069994&4294967295,N=V+(U<<20&4294967295|U>>>12),U=O+(V^F&(N^V))+B[5]+3593408605&4294967295,O=N+(U<<5&4294967295|U>>>27),U=F+(N^V&(O^N))+B[10]+38016083&4294967295,F=O+(U<<9&4294967295|U>>>23),U=V+(O^N&(F^O))+B[15]+3634488961&4294967295,V=F+(U<<14&4294967295|U>>>18),U=N+(F^O&(V^F))+B[4]+3889429448&4294967295,N=V+(U<<20&4294967295|U>>>12),U=O+(V^F&(N^V))+B[9]+568446438&4294967295,O=N+(U<<5&4294967295|U>>>27),U=F+(N^V&(O^N))+B[14]+3275163606&4294967295,F=O+(U<<9&4294967295|U>>>23),U=V+(O^N&(F^O))+B[3]+4107603335&4294967295,V=F+(U<<14&4294967295|U>>>18),U=N+(F^O&(V^F))+B[8]+1163531501&4294967295,N=V+(U<<20&4294967295|U>>>12),U=O+(V^F&(N^V))+B[13]+2850285829&4294967295,O=N+(U<<5&4294967295|U>>>27),U=F+(N^V&(O^N))+B[2]+4243563512&4294967295,F=O+(U<<9&4294967295|U>>>23),U=V+(O^N&(F^O))+B[7]+1735328473&4294967295,V=F+(U<<14&4294967295|U>>>18),U=N+(F^O&(V^F))+B[12]+2368359562&4294967295,N=V+(U<<20&4294967295|U>>>12),U=O+(N^V^F)+B[5]+4294588738&4294967295,O=N+(U<<4&4294967295|U>>>28),U=F+(O^N^V)+B[8]+2272392833&4294967295,F=O+(U<<11&4294967295|U>>>21),U=V+(F^O^N)+B[11]+1839030562&4294967295,V=F+(U<<16&4294967295|U>>>16),U=N+(V^F^O)+B[14]+4259657740&4294967295,N=V+(U<<23&4294967295|U>>>9),U=O+(N^V^F)+B[1]+2763975236&4294967295,O=N+(U<<4&4294967295|U>>>28),U=F+(O^N^V)+B[4]+1272893353&4294967295,F=O+(U<<11&4294967295|U>>>21),U=V+(F^O^N)+B[7]+4139469664&4294967295,V=F+(U<<16&4294967295|U>>>16),U=N+(V^F^O)+B[10]+3200236656&4294967295,N=V+(U<<23&4294967295|U>>>9),U=O+(N^V^F)+B[13]+681279174&4294967295,O=N+(U<<4&4294967295|U>>>28),U=F+(O^N^V)+B[0]+3936430074&4294967295,F=O+(U<<11&4294967295|U>>>21),U=V+(F^O^N)+B[3]+3572445317&4294967295,V=F+(U<<16&4294967295|U>>>16),U=N+(V^F^O)+B[6]+76029189&4294967295,N=V+(U<<23&4294967295|U>>>9),U=O+(N^V^F)+B[9]+3654602809&4294967295,O=N+(U<<4&4294967295|U>>>28),U=F+(O^N^V)+B[12]+3873151461&4294967295,F=O+(U<<11&4294967295|U>>>21),U=V+(F^O^N)+B[15]+530742520&4294967295,V=F+(U<<16&4294967295|U>>>16),U=N+(V^F^O)+B[2]+3299628645&4294967295,N=V+(U<<23&4294967295|U>>>9),U=O+(V^(N|~F))+B[0]+4096336452&4294967295,O=N+(U<<6&4294967295|U>>>26),U=F+(N^(O|~V))+B[7]+1126891415&4294967295,F=O+(U<<10&4294967295|U>>>22),U=V+(O^(F|~N))+B[14]+2878612391&4294967295,V=F+(U<<15&4294967295|U>>>17),U=N+(F^(V|~O))+B[5]+4237533241&4294967295,N=V+(U<<21&4294967295|U>>>11),U=O+(V^(N|~F))+B[12]+1700485571&4294967295,O=N+(U<<6&4294967295|U>>>26),U=F+(N^(O|~V))+B[3]+2399980690&4294967295,F=O+(U<<10&4294967295|U>>>22),U=V+(O^(F|~N))+B[10]+4293915773&4294967295,V=F+(U<<15&4294967295|U>>>17),U=N+(F^(V|~O))+B[1]+2240044497&4294967295,N=V+(U<<21&4294967295|U>>>11),U=O+(V^(N|~F))+B[8]+1873313359&4294967295,O=N+(U<<6&4294967295|U>>>26),U=F+(N^(O|~V))+B[15]+4264355552&4294967295,F=O+(U<<10&4294967295|U>>>22),U=V+(O^(F|~N))+B[6]+2734768916&4294967295,V=F+(U<<15&4294967295|U>>>17),U=N+(F^(V|~O))+B[13]+1309151649&4294967295,N=V+(U<<21&4294967295|U>>>11),U=O+(V^(N|~F))+B[4]+4149444226&4294967295,O=N+(U<<6&4294967295|U>>>26),U=F+(N^(O|~V))+B[11]+3174756917&4294967295,F=O+(U<<10&4294967295|U>>>22),U=V+(O^(F|~N))+B[2]+718787259&4294967295,V=F+(U<<15&4294967295|U>>>17),U=N+(F^(V|~O))+B[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.v=function(P,O){O===void 0&&(O=P.length);const N=O-this.blockSize,B=this.C;let V=this.h,F=0;for(;F<O;){if(V==0)for(;F<=N;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<O;)if(B[V++]=P.charCodeAt(F++),V==this.blockSize){i(this,B),V=0;break}}else for(;F<O;)if(B[V++]=P[F++],V==this.blockSize){i(this,B),V=0;break}}this.h=V,this.o+=O},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;O=this.o*8;for(var N=P.length-8;N<P.length;++N)P[N]=O&255,O/=256;for(this.v(P),P=Array(16),O=0,N=0;N<4;++N)for(let B=0;B<32;B+=8)P[O++]=this.g[N]>>>B&255;return P};function a(P,O){var N=u;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=O(P)}function l(P,O){this.h=O;const N=[];let B=!0;for(let V=P.length-1;V>=0;V--){const F=P[V]|0;B&&F==O||(N[V]=F,B=!1)}this.g=N}var u={};function f(P){return-128<=P&&P<128?a(P,function(O){return new l([O|0],O<0?-1:0)}):new l([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return w(d(-P));const O=[];let N=1;for(let B=0;P>=N;B++)O[B]=P/N|0,N*=4294967296;return new l(O,0)}function h(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return w(h(P.substring(1),O));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(O,8));let B=m;for(let F=0;F<P.length;F+=8){var V=Math.min(8,P.length-F);const U=parseInt(P.substring(F,F+V),O);V<8?(V=d(Math.pow(O,V)),B=B.j(V).add(d(U))):(B=B.j(N),B=B.add(d(U)))}return B}var m=f(0),_=f(1),A=f(16777216);t=l.prototype,t.m=function(){if(C(this))return-w(this).m();let P=0,O=1;for(let N=0;N<this.g.length;N++){const B=this.i(N);P+=(B>=0?B:4294967296+B)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(C(this))return"-"+w(this).toString(P);const O=d(Math.pow(P,6));var N=this;let B="";for(;;){const V=G(N,O).g;N=M(N,V.j(O));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(P);if(N=V,b(N))return F+B;for(;F.length<6;)F="0"+F;B=F+B}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(let O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function C(P){return P.h==-1}t.l=function(P){return P=M(this,P),C(P)?-1:b(P)?0:1};function w(P){const O=P.g.length,N=[];for(let B=0;B<O;B++)N[B]=~P.g[B];return new l(N,~P.h).add(_)}t.abs=function(){return C(this)?w(this):this},t.add=function(P){const O=Math.max(this.g.length,P.g.length),N=[];let B=0;for(let V=0;V<=O;V++){let F=B+(this.i(V)&65535)+(P.i(V)&65535),U=(F>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);B=U>>>16,F&=65535,U&=65535,N[V]=U<<16|F}return new l(N,N[N.length-1]&-2147483648?-1:0)};function M(P,O){return P.add(w(O))}t.j=function(P){if(b(this)||b(P))return m;if(C(this))return C(P)?w(this).j(w(P)):w(w(this).j(P));if(C(P))return w(this.j(w(P)));if(this.l(A)<0&&P.l(A)<0)return d(this.m()*P.m());const O=this.g.length+P.g.length,N=[];for(var B=0;B<2*O;B++)N[B]=0;for(B=0;B<this.g.length;B++)for(let V=0;V<P.g.length;V++){const F=this.i(B)>>>16,U=this.i(B)&65535,ye=P.i(V)>>>16,we=P.i(V)&65535;N[2*B+2*V]+=U*we,q(N,2*B+2*V),N[2*B+2*V+1]+=F*we,q(N,2*B+2*V+1),N[2*B+2*V+1]+=U*ye,q(N,2*B+2*V+1),N[2*B+2*V+2]+=F*ye,q(N,2*B+2*V+2)}for(P=0;P<O;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=O;P<2*O;P++)N[P]=0;return new l(N,0)};function q(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function k(P,O){this.g=P,this.h=O}function G(P,O){if(b(O))throw Error("division by zero");if(b(P))return new k(m,m);if(C(P))return O=G(w(P),O),new k(w(O.g),w(O.h));if(C(O))return O=G(P,w(O)),new k(w(O.g),O.h);if(P.g.length>30){if(C(P)||C(O))throw Error("slowDivide_ only works with positive integers.");for(var N=_,B=O;B.l(P)<=0;)N=z(N),B=z(B);var V=K(N,1),F=K(B,1);for(B=K(B,2),N=K(N,2);!b(B);){var U=F.add(B);U.l(P)<=0&&(V=V.add(N),F=U),B=K(B,1),N=K(N,1)}return O=M(P,V.j(O)),new k(V,O)}for(V=m;P.l(O)>=0;){for(N=Math.max(1,Math.floor(P.m()/O.m())),B=Math.ceil(Math.log(N)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),F=d(N),U=F.j(O);C(U)||U.l(P)>0;)N-=B,F=d(N),U=F.j(O);b(F)&&(F=_),V=V.add(F),P=M(P,U)}return new k(V,P)}t.B=function(P){return G(this,P).h},t.and=function(P){const O=Math.max(this.g.length,P.g.length),N=[];for(let B=0;B<O;B++)N[B]=this.i(B)&P.i(B);return new l(N,this.h&P.h)},t.or=function(P){const O=Math.max(this.g.length,P.g.length),N=[];for(let B=0;B<O;B++)N[B]=this.i(B)|P.i(B);return new l(N,this.h|P.h)},t.xor=function(P){const O=Math.max(this.g.length,P.g.length),N=[];for(let B=0;B<O;B++)N[B]=this.i(B)^P.i(B);return new l(N,this.h^P.h)};function z(P){const O=P.g.length+1,N=[];for(let B=0;B<O;B++)N[B]=P.i(B)<<1|P.i(B-1)>>>31;return new l(N,P.h)}function K(P,O){const N=O>>5;O%=32;const B=P.g.length-N,V=[];for(let F=0;F<B;F++)V[F]=O>0?P.i(F+N)>>>O|P.i(F+N+1)<<32-O:P.i(F+N);return new l(V,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,JN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=h,Na=l}).apply(typeof fx<"u"?fx:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WN,Wc,XN,Xh,b_,QN,ZN,eD;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var S=0;S<v.length;++S){var I=v[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(v,S){if(S)e:{var I=r;v=v.split(".");for(var L=0;L<v.length-1;L++){var X=v[L];if(!(X in I))break e;I=I[X]}v=v[v.length-1],L=I[v],S=S(L),S!=L&&S!=null&&e(I,v,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(S){var I=[],L;for(L in S)Object.prototype.hasOwnProperty.call(S,L)&&I.push([L,S[L]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(v){var S=typeof v;return S=="object"&&v!=null||S=="function"}function f(v,S,I){return v.call.apply(v.bind,arguments)}function d(v,S,I){return d=f,d.apply(null,arguments)}function h(v,S){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),v.apply(this,L)}}function m(v,S){function I(){}I.prototype=S.prototype,v.Z=S.prototype,v.prototype=new I,v.prototype.constructor=v,v.Ob=function(L,X,te){for(var me=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)me[Be-2]=arguments[Be];return S.prototype[X].apply(L,me)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function A(v){const S=v.length;if(S>0){const I=Array(S);for(let L=0;L<S;L++)I[L]=v[L];return I}return[]}function b(v,S){for(let L=1;L<arguments.length;L++){const X=arguments[L];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=v.length||0;const te=X.length||0;v.length=I+te;for(let me=0;me<te;me++)v[I+me]=X[me]}else v.push(X)}}class C{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function w(v){l.setTimeout(()=>{throw v},0)}function M(){var v=P;let S=null;return v.g&&(S=v.g,v.g=v.g.next,v.g||(v.h=null),S.next=null),S}class q{constructor(){this.h=this.g=null}add(S,I){const L=k.get();L.set(S,I),this.h?this.h.next=L:this.g=L,this.h=L}}var k=new C(()=>new G,v=>v.reset());class G{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let z,K=!1,P=new q,O=()=>{const v=Promise.resolve(void 0);z=()=>{v.then(N)}};function N(){for(var v;v=M();){try{v.h.call(v.g)}catch(I){w(I)}var S=k;S.j(v),S.h<100&&(S.h++,v.next=S.g,S.g=v)}K=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(v,S){this.type=v,this.g=this.target=S,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,S=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const I=()=>{};l.addEventListener("test",I,S),l.removeEventListener("test",I,S)}catch{}return v})();function U(v){return/^[\s\xa0]*$/.test(v)}function ye(v,S){V.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,S)}m(ye,V),ye.prototype.init=function(v,S){const I=this.type=v.type,L=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=S,S=v.relatedTarget,S||(I=="mouseover"?S=v.fromElement:I=="mouseout"&&(S=v.toElement)),this.relatedTarget=S,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),W=0;function re(v,S,I,L,X){this.listener=v,this.proxy=null,this.src=S,this.type=I,this.capture=!!L,this.ha=X,this.key=++W,this.da=this.fa=!1}function he(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function ve(v,S,I){for(const L in v)S.call(I,v[L],L,v)}function ke(v,S){for(const I in v)S.call(void 0,v[I],I,v)}function j(v){const S={};for(const I in v)S[I]=v[I];return S}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(v,S){let I,L;for(let X=1;X<arguments.length;X++){L=arguments[X];for(I in L)v[I]=L[I];for(let te=0;te<oe.length;te++)I=oe[te],Object.prototype.hasOwnProperty.call(L,I)&&(v[I]=L[I])}}function ge(v){this.src=v,this.g={},this.h=0}ge.prototype.add=function(v,S,I,L,X){const te=v.toString();v=this.g[te],v||(v=this.g[te]=[],this.h++);const me=Oe(v,S,L,X);return me>-1?(S=v[me],I||(S.fa=!1)):(S=new re(S,this.src,te,!!L,X),S.fa=I,v.push(S)),S};function Ie(v,S){const I=S.type;if(I in v.g){var L=v.g[I],X=Array.prototype.indexOf.call(L,S,void 0),te;(te=X>=0)&&Array.prototype.splice.call(L,X,1),te&&(he(S),v.g[I].length==0&&(delete v.g[I],v.h--))}}function Oe(v,S,I,L){for(let X=0;X<v.length;++X){const te=v[X];if(!te.da&&te.listener==S&&te.capture==!!I&&te.ha==L)return X}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Pt={};function se(v,S,I,L,X){if(Array.isArray(S)){for(let te=0;te<S.length;te++)se(v,S[te],I,L,X);return null}return I=$o(I),v&&v[we]?v.J(S,I,u(L)?!!L.capture:!1,X):Le(v,S,I,!1,L,X)}function Le(v,S,I,L,X,te){if(!S)throw Error("Invalid event type");const me=u(X)?!!X.capture:!!X;let Be=kt(v);if(Be||(v[Ne]=Be=new ge(v)),I=Be.add(S,I,L,me,te),I.proxy)return I;if(L=Ge(),I.proxy=L,L.src=v,L.listener=I,v.addEventListener)F||(X=me),X===void 0&&(X=!1),v.addEventListener(S.toString(),L,X);else if(v.attachEvent)v.attachEvent($e(S.toString()),L);else if(v.addListener&&v.removeListener)v.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ge(){function v(I){return S.call(v.src,v.listener,I)}const S=rn;return v}function de(v,S,I,L,X){if(Array.isArray(S))for(var te=0;te<S.length;te++)de(v,S[te],I,L,X);else L=u(L)?!!L.capture:!!L,I=$o(I),v&&v[we]?(v=v.i,te=String(S).toString(),te in v.g&&(S=v.g[te],I=Oe(S,I,L,X),I>-1&&(he(S[I]),Array.prototype.splice.call(S,I,1),S.length==0&&(delete v.g[te],v.h--)))):v&&(v=kt(v))&&(S=v.g[S.toString()],v=-1,S&&(v=Oe(S,I,L,X)),(I=v>-1?S[v]:null)&&Ot(I))}function Ot(v){if(typeof v!="number"&&v&&!v.da){var S=v.src;if(S&&S[we])Ie(S.i,v);else{var I=v.type,L=v.proxy;S.removeEventListener?S.removeEventListener(I,L,v.capture):S.detachEvent?S.detachEvent($e(I),L):S.addListener&&S.removeListener&&S.removeListener(L),(I=kt(S))?(Ie(I,v),I.h==0&&(I.src=null,S[Ne]=null)):he(v)}}}function $e(v){return v in Pt?Pt[v]:Pt[v]="on"+v}function rn(v,S){if(v.da)v=!0;else{S=new ye(S,this);const I=v.listener,L=v.ha||v.src;v.fa&&Ot(v),v=I.call(L,S)}return v}function kt(v){return v=v[Ne],v instanceof ge?v:null}var dr="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(v){return typeof v=="function"?v:(v[dr]||(v[dr]=function(S){return v.handleEvent(S)}),v[dr])}function Ft(){B.call(this),this.i=new ge(this),this.M=this,this.G=null}m(Ft,B),Ft.prototype[we]=!0,Ft.prototype.removeEventListener=function(v,S,I,L){de(this,v,S,I,L)};function on(v,S){var I,L=v.G;if(L)for(I=[];L;L=L.G)I.push(L);if(v=v.M,L=S.type||S,typeof S=="string")S=new V(S,v);else if(S instanceof V)S.target=S.target||v;else{var X=S;S=new V(L,v),pe(S,X)}X=!0;let te,me;if(I)for(me=I.length-1;me>=0;me--)te=S.g=I[me],X=Ko(te,L,!0,S)&&X;if(te=S.g=v,X=Ko(te,L,!0,S)&&X,X=Ko(te,L,!1,S)&&X,I)for(me=0;me<I.length;me++)te=S.g=I[me],X=Ko(te,L,!1,S)&&X}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var v=this.i;for(const S in v.g){const I=v.g[S];for(let L=0;L<I.length;L++)he(I[L]);delete v.g[S],v.h--}}this.G=null},Ft.prototype.J=function(v,S,I,L){return this.i.add(String(v),S,!1,I,L)},Ft.prototype.K=function(v,S,I,L){return this.i.add(String(v),S,!0,I,L)};function Ko(v,S,I,L){if(S=v.i.g[String(S)],!S)return!0;S=S.concat();let X=!0;for(let te=0;te<S.length;++te){const me=S[te];if(me&&!me.da&&me.capture==I){const Be=me.listener,Lt=me.ha||me.src;me.fa&&Ie(v.i,me),X=Be.call(Lt,L)!==!1&&X}}return X&&!L.defaultPrevented}function yg(v,S){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:l.setTimeout(v,S||0)}function Zf(v){v.g=yg(()=>{v.g=null,v.i&&(v.i=!1,Zf(v))},v.l);const S=v.h;v.h=null,v.m.apply(null,S)}class Hn extends B{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Zf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wa(v){B.call(this),this.h=v,this.g={}}m(Wa,B);var Lu=[];function Uu(v){ve(v.g,function(S,I){this.g.hasOwnProperty(I)&&Ot(S)},v),v.g={}}Wa.prototype.N=function(){Wa.Z.N.call(this),Uu(this)},Wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jo=l.JSON.stringify,vg=l.JSON.parse,ed=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function td(){}function nd(){}var Zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sn(){V.call(this,"d")}m(Sn,V);function Rr(){V.call(this,"c")}m(Rr,V);var Vt={},rd=null;function el(){return rd=rd||new Ft}Vt.Ia="serverreachability";function id(v){V.call(this,Vt.Ia,v)}m(id,V);function gi(v){const S=el();on(S,new id(S))}Vt.STAT_EVENT="statevent";function Xa(v,S){V.call(this,Vt.STAT_EVENT,v),this.stat=S}m(Xa,V);function Ht(v){const S=el();on(S,new Xa(S,v))}Vt.Ja="timingevent";function yi(v,S){V.call(this,Vt.Ja,v),this.size=S}m(yi,V);function vi(v,S){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},S)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function _g(v,S,I,L,X,te){v.info(function(){if(v.g)if(te){var me="",Be=te.split("&");for(let ot=0;ot<Be.length;ot++){var Lt=Be[ot].split("=");if(Lt.length>1){const xt=Lt[0];Lt=Lt[1];const Dr=xt.split("_");me=Dr.length>=2&&Dr[1]=="type"?me+(xt+"="+Lt+"&"):me+(xt+"=redacted&")}}}else me=null;else me=te;return"XMLHTTP REQ ("+L+") [attempt "+X+"]: "+S+`
`+I+`
`+me})}function od(v,S,I,L,X,te,me){v.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+X+"]: "+S+`
`+I+`
`+te+" "+me})}function _i(v,S,I,L){v.info(function(){return"XMLHTTP TEXT ("+S+"): "+Eg(v,I)+(L?" "+L:"")})}function Qa(v,S){v.info(function(){return"TIMEOUT: "+S})}ei.prototype.info=function(){};function Eg(v,S){if(!v.g)return S;if(!S)return null;try{const te=JSON.parse(S);if(te){for(v=0;v<te.length;v++)if(Array.isArray(te[v])){var I=te[v];if(!(I.length<2)){var L=I[1];if(Array.isArray(L)&&!(L.length<1)){var X=L[0];if(X!="noop"&&X!="stop"&&X!="close")for(let me=1;me<L.length;me++)L[me]=""}}}}return jo(te)}catch{return S}}var Za={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bu;function es(){}m(es,td),es.prototype.g=function(){return new XMLHttpRequest},Bu=new es;function eo(v){return encodeURIComponent(String(v))}function ad(v){var S=1;v=v.split(":");const I=[];for(;S>0&&v.length;)I.push(v.shift()),S--;return v.length&&I.push(v.join(":")),I}function ti(v,S,I,L){this.j=v,this.i=S,this.l=I,this.S=L||1,this.V=new Wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Gt={},pn={};function Ei(v,S,I){v.M=1,v.A=ts(Kt(S)),v.u=I,v.R=!0,tl(v,null)}function tl(v,S){v.F=Date.now(),Ti(v),v.B=Kt(v.A);var I=v.B,L=v.S;Array.isArray(L)||(L=[String(L)]),ol(I.i,"t",L),v.C=0,I=v.j.L,v.h=new ni,v.g=Td(v.j,I?S:null,!v.u),v.P>0&&(v.O=new Hn(d(v.Y,v,v.g),v.P)),S=v.V,I=v.g,L=v.ba;var X="readystatechange";Array.isArray(X)||(X&&(Lu[0]=X.toString()),X=Lu);for(let te=0;te<X.length;te++){const me=se(I,X[te],L||S.handleEvent,!1,S.h||S);if(!me)break;S.g[me.key]=me}S=v.J?j(v.J):{},v.u?(v.v||(v.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,S)):(v.v="GET",v.g.ea(v.B,v.v,null,S)),gi(),_g(v.i,v.v,v.B,v.l,v.S,v.u)}ti.prototype.ba=function(v){v=v.target;const S=this.O;S&&oi(v)==3?S.j():this.Y(v)},ti.prototype.Y=function(v){try{if(v==this.g)e:{const Be=oi(this.g),Lt=this.g.ya(),ot=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||Be!=4||Lt==7||(Lt==8||ot<=0?gi(3):gi(2)),Ai(this);var S=this.g.ca();this.X=S;var I=Tg(this);if(this.o=S==200,od(this.i,this.v,this.B,this.l,this.S,Be,S),this.o){if(this.U&&!this.L){t:{if(this.g){var L,X=this.g;if((L=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(L)){var te=L;break t}}te=null}if(v=te)_i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,v);else{this.o=!1,this.m=3,Ht(12),hr(this),Pr(this);break e}}if(this.R){v=!0;let xt;for(;!this.K&&this.C<I.length;)if(xt=ld(this,I),xt==pn){Be==4&&(this.m=4,Ht(14),v=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Gt){this.m=4,Ht(15),_i(this.i,this.l,I,"[Invalid Chunk]"),v=!1;break}else _i(this.i,this.l,xt,null),Si(this,xt);if(sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||I.length!=0||this.h.h||(this.m=1,Ht(16),v=!1),this.o=this.o&&v,!v)_i(this.i,this.l,I,"[Invalid Chunked Response]"),hr(this),Pr(this);else if(I.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),tc(me),me.P=!0,Ht(11))}}else _i(this.i,this.l,I,null),Si(this,I);Be==4&&hr(this),this.o&&!this.K&&(Be==4?yd(this.j,this):(this.o=!1,Ti(this)))}else no(this.g),S==400&&I.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),hr(this),Pr(this)}}}catch{}finally{}};function Tg(v){if(!sd(v))return v.g.la();const S=bn(v.g);if(S==="")return"";let I="";const L=S.length,X=oi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return hr(v),Pr(v),"";v.h.i=new l.TextDecoder}for(let te=0;te<L;te++)v.h.h=!0,I+=v.h.i.decode(S[te],{stream:!(X&&te==L-1)});return S.length=0,v.h.g+=I,v.C=0,v.h.g}function sd(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function ld(v,S){var I=v.C,L=S.indexOf(`
`,I);return L==-1?pn:(I=Number(S.substring(I,L)),isNaN(I)?Gt:(L+=1,L+I>S.length?pn:(S=S.slice(L,L+I),v.C=L+I,S)))}ti.prototype.cancel=function(){this.K=!0,hr(this)};function Ti(v){v.T=Date.now()+v.H,nl(v,v.H)}function nl(v,S){if(v.D!=null)throw Error("WatchDog timer not null");v.D=vi(d(v.aa,v),S)}function Ai(v){v.D&&(l.clearTimeout(v.D),v.D=null)}ti.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Qa(this.i,this.B),this.M!=2&&(gi(),Ht(17)),hr(this),this.m=2,Pr(this)):nl(this,this.T-v)};function Pr(v){v.j.I==0||v.K||yd(v.j,v)}function hr(v){Ai(v);var S=v.O;S&&typeof S.dispose=="function"&&S.dispose(),v.O=null,Uu(v.V),v.g&&(S=v.g,v.g=null,S.abort(),S.dispose())}function Si(v,S){try{var I=v.j;if(I.I!=0&&(I.g==v||wi(I.h,v))){if(!v.L&&wi(I.h,v)&&I.I==3){try{var L=I.Ba.g.parse(S)}catch{L=null}if(Array.isArray(L)&&L.length==3){var X=L;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<v.F)cl(I),ta(I);else break e;ls(I),Ht(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=vi(d(I.Va,I),6e3));bi(I.h)<=1&&I.ta&&(I.ta=void 0)}else Mi(I,11)}else if((v.L||I.g==v)&&cl(I),!U(S))for(X=I.Ba.g.parse(S),S=0;S<X.length;S++){let ot=X[S];const xt=ot[0];if(!(xt<=I.K))if(I.K=xt,ot=ot[1],I.I==2)if(ot[0]=="c"){I.M=ot[1],I.ba=ot[2];const Dr=ot[3];Dr!=null&&(I.ka=Dr,I.j.info("VER="+I.ka));const Ni=ot[4];Ni!=null&&(I.za=Ni,I.j.info("SVER="+I.za));const ai=ot[5];ai!=null&&typeof ai=="number"&&ai>0&&(L=1.5*ai,I.O=L,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const si=v.g;if(si){const us=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var te=L.h;te.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Hu(te,te.h),te.h=null))}if(L.G){const fl=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(L.wa=fl,lt(L.J,L.G,fl))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-v.F,I.j.info("Handshake RTT: "+I.T+"ms")),L=I;var me=v;if(L.na=Ed(L,L.L?L.ba:null,L.W),me.L){Gu(L.h,me);var Be=me,Lt=L.O;Lt&&(Be.H=Lt),Be.D&&(Ai(Be),Ti(Be)),L.g=me}else md(L);I.i.length>0&&Pi(I)}else ot[0]!="stop"&&ot[0]!="close"||Mi(I,7);else I.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Mi(I,7):Zu(I):ot[0]!="noop"&&I.l&&I.l.qa(ot),I.A=0)}}gi(4)}catch{}}var $t=class{constructor(v,S){this.g=v,this.map=S}};function zu(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fu(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function bi(v){return v.h?1:v.g?v.g.size:0}function wi(v,S){return v.h?v.h==S:v.g?v.g.has(S):!1}function Hu(v,S){v.g?v.g.add(S):v.h=S}function Gu(v,S){v.h&&v.h==S?v.h=null:v.g&&v.g.has(S)&&v.g.delete(S)}zu.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function $u(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let S=v.i;for(const I of v.g.values())S=S.concat(I.G);return S}return A(v.i)}var ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(v,S){if(v){v=v.split("&");for(let I=0;I<v.length;I++){const L=v[I].indexOf("=");let X,te=null;L>=0?(X=v[I].substring(0,L),te=v[I].substring(L+1)):X=v[I],S(X,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function pr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;v instanceof pr?(this.l=v.l,mn(this,v.j),this.o=v.o,this.g=v.g,Yo(this,v.u),this.h=v.h,Ku(this,hd(v.i)),this.m=v.m):v&&(S=String(v).match(ud))?(this.l=!1,mn(this,S[1]||"",!0),this.o=Ci(S[2]||""),this.g=Ci(S[3]||"",!0),Yo(this,S[4]),this.h=Ci(S[5]||"",!0),Ku(this,S[6]||"",!0),this.m=Ci(S[7]||"")):(this.l=!1,this.i=new Wo(null,this.l))}pr.prototype.toString=function(){const v=[];var S=this.j;S&&v.push(ns(S,il,!0),":");var I=this.g;return(I||S=="file")&&(v.push("//"),(S=this.o)&&v.push(ns(S,il,!0),"@"),v.push(eo(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&v.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&v.push("/"),v.push(ns(I,I.charAt(0)=="/"?ju:cd,!0))),(I=this.i.toString())&&v.push("?",I),(I=this.m)&&v.push("#",ns(I,fd)),v.join("")},pr.prototype.resolve=function(v){const S=Kt(this);let I=!!v.j;I?mn(S,v.j):I=!!v.o,I?S.o=v.o:I=!!v.g,I?S.g=v.g:I=v.u!=null;var L=v.h;if(I)Yo(S,v.u);else if(I=!!v.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var X=S.h.lastIndexOf("/");X!=-1&&(L=S.h.slice(0,X+1)+L)}if(X=L,X==".."||X==".")L="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){L=X.lastIndexOf("/",0)==0,X=X.split("/");const te=[];for(let me=0;me<X.length;){const Be=X[me++];Be=="."?L&&me==X.length&&te.push(""):Be==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),L&&me==X.length&&te.push("")):(te.push(Be),L=!0)}L=te.join("/")}else L=X}return I?S.h=L:I=v.i.toString()!=="",I?Ku(S,hd(v.i)):I=!!v.m,I&&(S.m=v.m),S};function Kt(v){return new pr(v)}function mn(v,S,I){v.j=I?Ci(S,!0):S,v.j&&(v.j=v.j.replace(/:$/,""))}function Yo(v,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);v.u=S}else v.u=null}function Ku(v,S,I){S instanceof Wo?(v.i=S,al(v.i,v.l)):(I||(S=ns(S,Jo)),v.i=new Wo(S,v.l))}function lt(v,S,I){v.i.set(S,I)}function ts(v){return lt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Ci(v,S){return v?S?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ns(v,S,I){return typeof v=="string"?(v=encodeURI(v).replace(S,Xn),I&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Xn(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var il=/[#\/\?@]/g,cd=/[#\?:]/g,ju=/[#\?]/g,Jo=/[#\?@]/g,fd=/#/g;function Wo(v,S){this.h=this.g=null,this.i=v||null,this.j=!!S}function Qn(v){v.g||(v.g=new Map,v.h=0,v.i&&rl(v.i,function(S,I){v.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}t=Wo.prototype,t.add=function(v,S){Qn(this),this.i=null,v=Xo(this,v);let I=this.g.get(v);return I||this.g.set(v,I=[]),I.push(S),this.h+=1,this};function dd(v,S){Qn(v),S=Xo(v,S),v.g.has(S)&&(v.i=null,v.h-=v.g.get(S).length,v.g.delete(S))}function Yu(v,S){return Qn(v),S=Xo(v,S),v.g.has(S)}t.forEach=function(v,S){Qn(this),this.g.forEach(function(I,L){I.forEach(function(X){v.call(S,X,L,this)},this)},this)};function Ju(v,S){Qn(v);let I=[];if(typeof S=="string")Yu(v,S)&&(I=I.concat(v.g.get(Xo(v,S))));else for(v=Array.from(v.g.values()),S=0;S<v.length;S++)I=I.concat(v[S]);return I}t.set=function(v,S){return Qn(this),this.i=null,v=Xo(this,v),Yu(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[S]),this.h+=1,this},t.get=function(v,S){return v?(v=Ju(this,v),v.length>0?String(v[0]):S):S};function ol(v,S,I){dd(v,S),I.length>0&&(v.i=null,v.g.set(Xo(v,S),A(I)),v.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],S=Array.from(this.g.keys());for(let L=0;L<S.length;L++){var I=S[L];const X=eo(I);I=Ju(this,I);for(let te=0;te<I.length;te++){let me=X;I[te]!==""&&(me+="="+eo(I[te])),v.push(me)}}return this.i=v.join("&")};function hd(v){const S=new Wo;return S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),S}function Xo(v,S){return S=String(S),v.j&&(S=S.toLowerCase()),S}function al(v,S){S&&!v.j&&(Qn(v),v.i=null,v.g.forEach(function(I,L){const X=L.toLowerCase();L!=X&&(dd(this,L),ol(this,X,I))},v)),v.j=S}function ri(v,S){const I=new ei;if(l.Image){const L=new Image;L.onload=h(Mr,I,"TestLoadImage: loaded",!0,S,L),L.onerror=h(Mr,I,"TestLoadImage: error",!1,S,L),L.onabort=h(Mr,I,"TestLoadImage: abort",!1,S,L),L.ontimeout=h(Mr,I,"TestLoadImage: timeout",!1,S,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=v}else S(!1)}function Wu(v,S){const I=new ei,L=new AbortController,X=setTimeout(()=>{L.abort(),Mr(I,"TestPingServer: timeout",!1,S)},1e4);fetch(v,{signal:L.signal}).then(te=>{clearTimeout(X),te.ok?Mr(I,"TestPingServer: ok",!0,S):Mr(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(X),Mr(I,"TestPingServer: error",!1,S)})}function Mr(v,S,I,L,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),L(I)}catch{}}function Qo(){this.g=new ed}function xi(v){this.i=v.Sb||null,this.h=v.ab||!1}m(xi,td),xi.prototype.g=function(){return new rs(this.i,this.h)};function rs(v,S){Ft.call(this),this.H=v,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(rs,Ft),t=rs.prototype,t.open=function(v,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=S,this.readyState=1,ii(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(S.body=v),(this.H||l).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sl(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function sl(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var S=v.value?v.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!v.done}))&&(this.response=this.responseText+=S)}v.done?Zo(this):ii(this),this.readyState==3&&sl(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Zo(this))},t.Na=function(v){this.g&&(this.response=v,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,ii(v)}t.setRequestHeader=function(v,S){this.A.append(v,S)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,v.push(I[0]+": "+I[1]),I=S.next();return v.join(`\r
`)};function ii(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Nr(v){let S="";return ve(v,function(I,L){S+=L,S+=":",S+=I,S+=`\r
`}),S}function is(v,S,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=Nr(I),typeof v=="string"?I!=null&&eo(I):lt(v,S,I))}function dt(v){Ft.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(dt,Ft);var Ii=/^https?$/i,Xu=["POST","PUT"];t=dt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,S,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);S=S?S.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bu.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(v),!0),this.B=!1}catch(te){os(this,te);return}if(v=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var X in L)I.set(X,L[X]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const te of L.keys())I.set(te,L.get(te));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),X=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Xu,S,void 0)>=0)||L||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,me]of I)this.g.setRequestHeader(te,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(te){os(this,te)}};function os(v,S){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=S,v.o=5,Qu(v),to(v)}function Qu(v){v.A||(v.A=!0,on(v,"complete"),on(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,on(this,"complete"),on(this,"abort"),to(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),to(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?as(this):this.Xa())},t.Xa=function(){as(this)};function as(v){if(v.h&&typeof a<"u"){if(v.v&&oi(v)==4)setTimeout(v.Ca.bind(v),0);else if(on(v,"readystatechange"),oi(v)==4){v.h=!1;try{const te=v.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var L;if(L=te===0){let me=String(v.D).match(ud)[1]||null;!me&&l.self&&l.self.location&&(me=l.self.location.protocol.slice(0,-1)),L=!Ii.test(me?me.toLowerCase():"")}I=L}if(I)on(v,"complete"),on(v,"success");else{v.o=6;try{var X=oi(v)>2?v.g.statusText:""}catch{X=""}v.l=X+" ["+v.ca()+"]",Qu(v)}}finally{to(v)}}}}function to(v,S){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const I=v.g;v.g=null,S||on(v,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function oi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var S=this.g.responseText;return v&&S.indexOf(v)==0&&(S=S.substring(v.length)),vg(S)}};function bn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function no(v){const S={};v=(v.g&&oi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<v.length;L++){if(U(v[L]))continue;var I=ad(v[L]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=S[X]||[];S[X]=te,te.push(I)}ke(S,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(v,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[v]||S}function ea(v){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,v),this.Za=Ri("retryDelaySeedMs",1e4,v),this.Ta=Ri("forwardChannelMaxRetries",2,v),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new zu(v&&v.concurrentRequestLimit),this.Ba=new Qo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ea.prototype,t.ka=8,t.I=1,t.connect=function(v,S,I,L){Ht(0),this.W=v,this.H=S||{},I&&L!==void 0&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.J=Ed(this,null,this.W),Pi(this)};function Zu(v){if(ll(v),v.I==3){var S=v.V++,I=Kt(v.J);if(lt(I,"SID",v.M),lt(I,"RID",S),lt(I,"TYPE","terminate"),ss(v,I),S=new ti(v,v.j,S),S.M=2,S.A=ts(Kt(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(S.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=S.A,I=!0),I||(S.g=Td(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Ti(S)}_d(v)}function ta(v){v.g&&(tc(v),v.g.cancel(),v.g=null)}function ll(v){ta(v),v.v&&(l.clearTimeout(v.v),v.v=null),cl(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function Pi(v){if(!Fu(v.h)&&!v.m){v.m=!0;var S=v.Ea;z||O(),K||(z(),K=!0),P.add(S,v),v.D=0}}function ul(v,S){return bi(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=S.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=vi(d(v.Ea,v,S),vd(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const X=new ti(this,this.j,v);let te=this.o;if(this.U&&(te?(te=j(te),pe(te,this.U)):te=this.U),this.u!==null||this.R||(X.J=te,te=null),this.S)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var L=this.i[I];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(S+=L,S>4096){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=pd(this,X,S),I=Kt(this.J),lt(I,"RID",v),lt(I,"CVER",22),this.G&&lt(I,"X-HTTP-Session-Id",this.G),ss(this,I),te&&(this.R?S="headers="+eo(Nr(te))+"&"+S:this.u&&is(I,this.u,te)),Hu(this.h,X),this.Ra&&lt(I,"TYPE","init"),this.S?(lt(I,"$req",S),lt(I,"SID","null"),X.U=!0,Ei(X,I,null)):Ei(X,I,S),this.I=2}}else this.I==3&&(v?ec(this,v):this.i.length==0||Fu(this.h)||ec(this))};function ec(v,S){var I;S?I=S.l:I=v.V++;const L=Kt(v.J);lt(L,"SID",v.M),lt(L,"RID",I),lt(L,"AID",v.K),ss(v,L),v.u&&v.o&&is(L,v.u,v.o),I=new ti(v,v.j,I,v.D+1),v.u===null&&(I.J=v.o),S&&(v.i=S.G.concat(v.i)),S=pd(v,I,1e3),I.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Hu(v.h,I),Ei(I,L,S)}function ss(v,S){v.H&&ve(v.H,function(I,L){lt(S,L,I)}),v.l&&ve({},function(I,L){lt(S,L,I)})}function pd(v,S,I){I=Math.min(v.i.length,I);const L=v.l?d(v.l.Ka,v.l,v):null;e:{var X=v.i;let Be=-1;for(;;){const Lt=["count="+I];Be==-1?I>0?(Be=X[0].g,Lt.push("ofs="+Be)):Be=0:Lt.push("ofs="+Be);let ot=!0;for(let xt=0;xt<I;xt++){var te=X[xt].g;const Dr=X[xt].map;if(te-=Be,te<0)Be=Math.max(0,X[xt].g-100),ot=!1;else try{te="req"+te+"_"||"";try{var me=Dr instanceof Map?Dr:Object.entries(Dr);for(const[Ni,ai]of me){let si=ai;u(ai)&&(si=jo(ai)),Lt.push(te+Ni+"="+encodeURIComponent(si))}}catch(Ni){throw Lt.push(te+"type="+encodeURIComponent("_badmap")),Ni}}catch{L&&L(Dr)}}if(ot){me=Lt.join("&");break e}}me=void 0}return v=v.i.splice(0,I),S.G=v,me}function md(v){if(!v.g&&!v.v){v.Y=1;var S=v.Da;z||O(),K||(z(),K=!0),P.add(S,v),v.A=0}}function ls(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=vi(d(v.Da,v),vd(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,gd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=vi(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),ta(this),gd(this))};function tc(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function gd(v){v.g=new ti(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var S=Kt(v.na);lt(S,"RID","rpc"),lt(S,"SID",v.M),lt(S,"AID",v.K),lt(S,"CI",v.F?"0":"1"),!v.F&&v.ia&&lt(S,"TO",v.ia),lt(S,"TYPE","xmlhttp"),ss(v,S),v.u&&v.o&&is(S,v.u,v.o),v.O&&(v.g.H=v.O);var I=v.g;v=v.ba,I.M=1,I.A=ts(Kt(S)),I.u=null,I.R=!0,tl(I,v)}t.Va=function(){this.C!=null&&(this.C=null,ta(this),ls(this),Ht(19))};function cl(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function yd(v,S){var I=null;if(v.g==S){cl(v),tc(v),v.g=null;var L=2}else if(wi(v.h,S))I=S.G,Gu(v.h,S),L=1;else return;if(v.I!=0){if(S.o)if(L==1){I=S.u?S.u.length:0,S=Date.now()-S.F;var X=v.D;L=el(),on(L,new yi(L,I)),Pi(v)}else md(v);else if(X=S.m,X==3||X==0&&S.X>0||!(L==1&&ul(v,S)||L==2&&ls(v)))switch(I&&I.length>0&&(S=v.h,S.i=S.i.concat(I)),X){case 1:Mi(v,5);break;case 4:Mi(v,10);break;case 3:Mi(v,6);break;default:Mi(v,2)}}}function vd(v,S){let I=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(I*=2),I*S}function Mi(v,S){if(v.j.info("Error code "+S),S==2){var I=d(v.bb,v),L=v.Ua;const X=!L;L=new pr(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mn(L,"https"),ts(L),X?ri(L.toString(),I):Wu(L.toString(),I)}else Ht(2);v.I=0,v.l&&v.l.pa(S),_d(v),ll(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function _d(v){if(v.I=0,v.ja=[],v.l){const S=$u(v.h);(S.length!=0||v.i.length!=0)&&(b(v.ja,S),b(v.ja,v.i),v.h.i.length=0,A(v.i),v.i.length=0),v.l.oa()}}function Ed(v,S,I){var L=I instanceof pr?Kt(I):new pr(I);if(L.g!="")S&&(L.g=S+"."+L.g),Yo(L,L.u);else{var X=l.location;L=X.protocol,S=S?S+"."+X.hostname:X.hostname,X=+X.port;const te=new pr(null);L&&mn(te,L),S&&(te.g=S),X&&Yo(te,X),I&&(te.h=I),L=te}return I=v.G,S=v.wa,I&&S&&lt(L,I,S),lt(L,"VER",v.ka),ss(v,L),L}function Td(v,S,I){if(S&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=v.Aa&&!v.ma?new dt(new xi({ab:I})):new dt(v.ma),S.Fa(v.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ad(){}t=Ad.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function na(){}na.prototype.g=function(v,S){return new Gn(v,S)};function Gn(v,S){Ft.call(this),this.g=new ea(S),this.l=v,this.h=S&&S.messageUrlParams||null,v=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(v?v["X-WebChannel-Content-Type"]=S.messageContentType:v={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(v?v["X-WebChannel-Client-Profile"]=S.sa:v={"X-WebChannel-Client-Profile":S.sa}),this.g.U=v,(v=S&&S.Qb)&&!U(v)&&(this.g.u=v),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!U(S)&&(this.g.G=S,v=this.h,v!==null&&S in v&&(v=this.h,S in v&&delete v[S])),this.j=new ro(this)}m(Gn,Ft),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Zu(this.g)},Gn.prototype.o=function(v){var S=this.g;if(typeof v=="string"){var I={};I.__data__=v,v=I}else this.v&&(I={},I.__data__=jo(v),v=I);S.i.push(new $t(S.Ya++,v)),S.I==3&&Pi(S)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Zu(this.g),delete this.g,Gn.Z.N.call(this)};function Sd(v){Sn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var S=v.__sm__;if(S){e:{for(const I in S){v=I;break e}v=void 0}(this.i=v)&&(v=this.i,S=S!==null&&v in S?S[v]:void 0),this.data=S}else this.data=v}m(Sd,Sn);function bd(){Rr.call(this),this.status=1}m(bd,Rr);function ro(v){this.g=v}m(ro,Ad),ro.prototype.ra=function(){on(this.g,"a")},ro.prototype.qa=function(v){on(this.g,new Sd(v))},ro.prototype.pa=function(v){on(this.g,new bd)},ro.prototype.oa=function(){on(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,eD=function(){return new na},ZN=function(){return el()},QN=Vt,b_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Xh=Za,qu.COMPLETE="complete",XN=qu,nd.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,Wc=nd,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,WN=dt}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const dx="@firebase/firestore",hx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new HN("@firebase/firestore");function $l(){return Bs.logLevel}function Te(t,...e){if(Bs.logLevel<=et.DEBUG){const n=e.map(GE);Bs.debug(`Firestore (${Au}): ${t}`,...n)}}function Io(t,...e){if(Bs.logLevel<=et.ERROR){const n=e.map(GE);Bs.error(`Firestore (${Au}): ${t}`,...n)}}function au(t,...e){if(Bs.logLevel<=et.WARN){const n=e.map(GE);Bs.warn(`Firestore (${Au}): ${t}`,...n)}}function GE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tD(t,r,n)}function tD(t,e,n){let r=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Io(r),new Error(r)}function st(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tD(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Tu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class eG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tG{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ds,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ds)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new nD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class nG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class px{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,VH(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new px(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new px(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oG(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function w_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return xv(i)===xv(a)?We(i,a):xv(i)?1:-1}return We(t.length,e.length)}const aG=55296,sG=57343;function xv(t){const e=t.charCodeAt(0);return e>=aG&&e<=sG}function su(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Li.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return We(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),i=Li.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Li.extractNumericId(e).compare(Li.extractNumericId(n)):w_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class Et extends Li{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const lG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Li{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return lG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mx}static keyField(){return new Mn([mx])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ee(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Ee(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Et.fromString(e))}static fromName(e){return new xe(Et.fromString(e).popFirst(5))}static empty(){return new xe(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e,n){if(!n)throw new Ee(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uG(t,e,n,r){if(e===!0&&r===!0)throw new Ee(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gx(t){if(!xe.isDocumentKey(t))throw new Ee(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yx(t){if(xe.isDocumentKey(t))throw new Ee(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(t);throw new Ee(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function Df(t,e){if(!iD(t))throw new Ee(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ee(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=-62135596800,_x=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_x);return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vx)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_x}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Df(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:en("string",wt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new wt(0,0))}static max(){return new Ve(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=-1;function cG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new ka(i,xe.empty(),e)}function fG(t){return new ka(t.readTime,t.key,df)}class ka{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ka(Ve.min(),xe.empty(),df)}static max(){return new ka(Ve.max(),xe.empty(),df)}}function dG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==hG)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const d=f;n(e[d]).next((h=>{l[d]=h,++u,u===a&&r(l)}),(h=>i(h)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function mG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-1;function Sm(t){return t==null}function yp(t){return t===0&&1/t==-1/0}function gG(t){return typeof t=="number"&&Number.isInteger(t)&&!yp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="";function yG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ex(e)),e=vG(t.get(n),e);return Ex(e)}function vG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case oD:n+="";break;default:n+=a}}return n}function Ex(t){return t+oD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=i??Pn.EMPTY,this.right=a??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Pn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ax(this.data.getIterator())}getIteratorFrom(e){return new Ax(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Ax{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new un(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sD("Invalid base64 string: "+a):a}})(e);return new Dn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const _G=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=_G.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function La(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="server_timestamp",uD="__type__",cD="__previous_value__",fD="__local_write_time__";function jE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uD])==null?void 0:r.stringValue)===lD}function bm(t){const e=t.mapValue.fields[cD];return jE(e)?bm(e):e}function hf(t){const e=Va(t.mapValue.fields[fD].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n,r,i,a,l,u,f,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h}}const vp="(default)";class pf{constructor(e,n){this.projectId=e,this.database=n||vp}static empty(){return new pf("","")}get isDefaultDatabase(){return this.database===vp}isEqual(e){return e instanceof pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="__type__",TG="__max__",Ph={mapValue:{}},hD="__vector__",_p="value";function Ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jE(t)?4:SG(t)?9007199254740991:AG(t)?10:11:De(28295,{value:t})}function ji(t,e){if(t===e)return!0;const n=Ua(t);if(n!==Ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hf(t).isEqual(hf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Va(i.timestampValue),u=Va(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return La(i.bytesValue).isEqual(La(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return zt(i.geoPointValue.latitude)===zt(a.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return zt(i.integerValue)===zt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=zt(i.doubleValue),u=zt(a.doubleValue);return l===u?yp(l)===yp(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Tx(l)!==Tx(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ji(l[f],u[f])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function mf(t,e){return(t.values||[]).find((n=>ji(n,e)))!==void 0}function lu(t,e){if(t===e)return 0;const n=Ua(t),r=Ua(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=zt(a.integerValue||a.doubleValue),f=zt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return Sx(t.timestampValue,e.timestampValue);case 4:return Sx(hf(t),hf(e));case 5:return w_(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=La(a),f=La(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const h=We(u[d],f[d]);if(h!==0)return h}return We(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=We(zt(a.latitude),zt(l.latitude));return u!==0?u:We(zt(a.longitude),zt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bx(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var _,A,b,C;const u=a.fields||{},f=l.fields||{},d=(_=u[_p])==null?void 0:_.arrayValue,h=(A=f[_p])==null?void 0:A.arrayValue,m=We(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((C=h==null?void 0:h.values)==null?void 0:C.length)||0);return m!==0?m:bx(d,h)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ph.mapValue&&l===Ph.mapValue)return 0;if(a===Ph.mapValue)return 1;if(l===Ph.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),d=l.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let m=0;m<f.length&&m<h.length;++m){const _=w_(f[m],h[m]);if(_!==0)return _;const A=lu(u[f[m]],d[h[m]]);if(A!==0)return A}return We(f.length,h.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function Sx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Va(t),r=Va(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function bx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=lu(n[i],r[i]);if(a)return a}return We(n.length,r.length)}function uu(t){return C_(t)}function C_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Va(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return La(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=C_(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${C_(n.fields[l])}`;return i+"}"})(t.mapValue):De(61005,{value:t})}function Qh(t){switch(Ua(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(t);return e?16+Qh(e):16;case 5:return 2*t.stringValue.length;case 6:return La(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Qh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ga(r.fields,((a,l)=>{i+=a.length+Qh(l)})),i})(t.mapValue);default:throw De(13486,{value:t})}}function wx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function x_(t){return!!t&&"integerValue"in t}function YE(t){return!!t&&"arrayValue"in t}function Cx(t){return!!t&&"nullValue"in t}function xx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function AG(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dD])==null?void 0:r.stringValue)===hD}function of(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ga(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=of(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=of(t.arrayValue.values[n]);return e}return{...t}}function SG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=of(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=of(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ga(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ar(of(this.value))}}function pD(t){const e=[];return Ga(t.fields,((n,r)=>{const i=new Mn([n]);if(Zh(r)){const a=pD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bn(e,0,Ve.min(),Ve.min(),Ve.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Bn(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Bn(e,2,n,Ve.min(),Ve.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Ve.min(),Ve.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.position=e,this.inclusive=n}}function Ix(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=lu(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function bG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{}class Zt extends mD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CG(e,n,r):n==="array-contains"?new RG(e,r):n==="in"?new PG(e,r):n==="not-in"?new MG(e,r):n==="array-contains-any"?new NG(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xG(e,r):new IG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lu(n,this.value)):n!==null&&Ua(this.value)===Ua(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends mD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return gD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gD(t){return t.op==="and"}function yD(t){return wG(t)&&gD(t)}function wG(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function I_(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(yD(t))return t.filters.map((e=>I_(e))).join(",");{const e=t.filters.map((n=>I_(n))).join(",");return`${t.op}(${e})`}}function vD(t,e){return t instanceof Zt?(function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)})(t,e):t instanceof hi?(function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&vD(l,i.filters[u])),!0):!1})(t,e):void De(19439)}function _D(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`})(t):t instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(_D).join(" ,")+"}"})(t):"Filter"}class CG extends Zt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class xG extends Zt{constructor(e,n){super(e,"in",n),this.keys=ED("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IG extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=ED("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ED(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>xe.fromName(r.referenceValue)))}class RG extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return YE(n)&&mf(n.arrayValue,this.value)}}class PG extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mf(this.value.arrayValue,n)}}class MG extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mf(this.value.arrayValue,n)}}class NG extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!YE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Px(t,e=null,n=[],r=[],i=null,a=null,l=null){return new DG(t,e,n,r,i,a,l)}function JE(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>I_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>uu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>uu(r))).join(",")),e.Te=n}return e.Te}function WE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rx(t.startAt,e.startAt)&&Rx(t.endAt,e.endAt)}function R_(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OG(t,e,n,r,i,a,l,u){return new wu(t,e,n,r,i,a,l,u)}function XE(t){return new wu(t)}function Mx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TD(t){return t.collectionGroup!==null}function af(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new un(Mn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gf(a,r))})),n.has(Mn.keyField().canonicalString())||e.Ie.push(new gf(Mn.keyField(),r))}return e.Ie}function Bi(t){const e=qe(t);return e.Ee||(e.Ee=kG(e,af(t))),e.Ee}function kG(t,e){if(t.limitType==="F")return Px(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new gf(i.field,a)}));const n=t.endAt?new Ep(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ep(t.startAt.position,t.startAt.inclusive):null;return Px(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function P_(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function M_(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wm(t,e){return WE(Bi(t),Bi(e))&&t.limitType===e.limitType}function AD(t){return`${JE(Bi(t))}|lt:${t.limitType}`}function Kl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_D(i))).join(", ")}]`),Sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>uu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>uu(i))).join(",")),`Target(${r})`})(Bi(t))}; limitType=${t.limitType})`}function Cm(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of af(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const d=Ix(l,u,f);return l.inclusive?d<=0:d<0})(r.startAt,af(r),i)||r.endAt&&!(function(l,u,f){const d=Ix(l,u,f);return l.inclusive?d>=0:d>0})(r.endAt,af(r),i))})(t,e)}function VG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SD(t){return(e,n)=>{let r=!1;for(const i of af(t)){const a=LG(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function LG(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(a,l,u){const f=l.data.field(a),d=u.data.field(a);return f!==null&&d!==null?lu(f,d):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return aD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new Mt(xe.comparator);function Ro(){return UG}const bD=new Mt(xe.comparator);function Xc(...t){let e=bD;for(const n of t)e=e.insert(n.key,n);return e}function wD(t){let e=bD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Rs(){return sf()}function CD(){return sf()}function sf(){return new Js((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qG=new Mt(xe.comparator),BG=new un(xe.comparator);function Xe(...t){let e=BG;for(const n of t)e=e.add(n);return e}const zG=new un(We);function FG(){return zG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(e)?"-0":e}}function xD(t){return{integerValue:""+t}}function HG(t,e){return gG(e)?xD(e):QE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function GG(t,e,n){return t instanceof Tp?(function(i,a){const l={fields:{[uD]:{stringValue:lD},[fD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&jE(a)&&(a=bm(a)),a&&(l.fields[cD]=a),{mapValue:l}})(n,e):t instanceof yf?RD(t,e):t instanceof vf?PD(t,e):(function(i,a){const l=ID(i,a),u=Nx(l)+Nx(i.Ae);return x_(l)&&x_(i.Ae)?xD(u):QE(i.serializer,u)})(t,e)}function $G(t,e,n){return t instanceof yf?RD(t,e):t instanceof vf?PD(t,e):n}function ID(t,e){return t instanceof Ap?(function(r){return x_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Tp extends xm{}class yf extends xm{constructor(e){super(),this.elements=e}}function RD(t,e){const n=MD(e);for(const r of t.elements)n.some((i=>ji(i,r)))||n.push(r);return{arrayValue:{values:n}}}class vf extends xm{constructor(e){super(),this.elements=e}}function PD(t,e){let n=MD(e);for(const r of t.elements)n=n.filter((i=>!ji(i,r)));return{arrayValue:{values:n}}}class Ap extends xm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nx(t){return zt(t.integerValue||t.doubleValue)}function MD(t){return YE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KG(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yf&&i instanceof yf||r instanceof vf&&i instanceof vf?su(r.elements,i.elements,ji):r instanceof Ap&&i instanceof Ap?ji(r.Ae,i.Ae):r instanceof Tp&&i instanceof Tp})(t.transform,e.transform)}class jG{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Im{}function ND(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new OD(t.key,zi.none()):new Of(t.key,t.data,zi.none());{const n=t.data,r=ar.empty();let i=new un(Mn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new $a(t.key,r,new Cr(i.toArray()),zi.none())}}function YG(t,e,n){t instanceof Of?(function(i,a,l){const u=i.value.clone(),f=Ox(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof $a?(function(i,a,l){if(!ep(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Ox(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(DD(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function lf(t,e,n,r){return t instanceof Of?(function(a,l,u,f){if(!ep(a.precondition,l))return u;const d=a.value.clone(),h=kx(a.fieldTransforms,f,l);return d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof $a?(function(a,l,u,f){if(!ep(a.precondition,l))return u;const d=kx(a.fieldTransforms,f,l),h=l.data;return h.setAll(DD(a)),h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,l,u){return ep(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function JG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=ID(r.transform,i||null);a!=null&&(n===null&&(n=ar.empty()),n.set(r.field,a))}return n||null}function Dx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&su(r,i,((a,l)=>KG(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends Im{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $a extends Im{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function DD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Ox(t,e,n){const r=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,$G(l,u,n[i]))}return r}function kx(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,GG(a,l,e))}return r}class OD extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WG extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&YG(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CD();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const f=ND(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,((n,r)=>Dx(n,r)))&&su(this.baseMutations,e.baseMutations,((n,r)=>Dx(n,r)))}}class ZE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return qG})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new ZE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,Ze;function e8(t){switch(t){case ce.OK:return De(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function kD(t){if(t===void 0)return Io("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Xt.OK:return ce.OK;case Xt.CANCELLED:return ce.CANCELLED;case Xt.UNKNOWN:return ce.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ce.INTERNAL;case Xt.UNAVAILABLE:return ce.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ce.NOT_FOUND;case Xt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Xt.ABORTED:return ce.ABORTED;case Xt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Xt.DATA_LOSS:return ce.DATA_LOSS;default:return De(39323,{code:t})}}(Ze=Xt||(Xt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=new Na([4294967295,4294967295],0);function Vx(t){const e=t8().encode(t),n=new JN;return n.update(e),new Uint8Array(n.digest())}function Lx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Na([n,r],0),new Na([i,a],0)]}class eT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qc(`Invalid padding: ${n}`);if(r<0)throw new Qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Na.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Na.fromNumber(r)));return i.compare(n8)===1&&(i=new Na([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Vx(e),[r,i]=Lx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new eT(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Vx(e),[r,i]=Lx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(Ve.min(),i,new Mt(We),Ro(),Xe())}}class kf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class VD{constructor(e,n){this.targetId=e,this.Ce=n}}class LD{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ux{constructor(){this.ve=0,this.Fe=qx(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De(38017,{changeType:a})}})),new kf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=qx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ro(),this.Je=Mh(),this.He=Mh(),this.Ye=new Mt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(R_(a))if(r===0){const l=new xe(a.path);this.et(n,l,Bn.newNoDocument(l,Ve.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=La(r).toUint8Array()}catch(f){if(f instanceof sD)return au("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new eT(l,i,a)}catch(f){return au(f instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&R_(u.target)){const f=new xe(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Bn.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Xe();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Rm(e,n,this.Ye,this.je,r);return this.je=Ro(),this.Je=Mh(),this.He=Mh(),this.Ye=new Mt(We),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ux,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ux),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mh(){return new Mt(xe.comparator)}function qx(){return new Mt(xe.comparator)}const i8={asc:"ASCENDING",desc:"DESCENDING"},o8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a8={and:"AND",or:"OR"};class s8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N_(t,e){return t.useProto3Json||Sm(e)?e:{value:e}}function Sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l8(t,e){return Sp(t,e.toTimestamp())}function Fi(t){return st(!!t,49232),Ve.fromTimestamp((function(n){const r=Va(n);return new wt(r.seconds,r.nanos)})(t))}function tT(t,e){return D_(t,e).canonicalString()}function D_(t,e){const n=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qD(t){const e=Et.fromString(t);return st(GD(e),10190,{key:e.toString()}),e}function O_(t,e){return tT(t.databaseId,e.path)}function Iv(t,e){const n=qD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(zD(n))}function BD(t,e){return tT(t.databaseId,e)}function u8(t){const e=qD(t);return e.length===4?Et.emptyPath():zD(e)}function k_(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zD(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bx(t,e,n){return{name:O_(t,e),fields:n.value.mapValue.fields}}function c8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:De(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(st(h===void 0||typeof h=="string",58123),Dn.fromBase64String(h||"")):(st(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Dn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(d){const h=d.code===void 0?ce.UNKNOWN:kD(d.code);return new Ee(h,d.message||"")})(l);n=new LD(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Iv(t,r.document.name),a=Fi(r.document.updateTime),l=r.document.createTime?Fi(r.document.createTime):Ve.min(),u=new ar({mapValue:{fields:r.document.fields}}),f=Bn.newFoundDocument(i,a,l,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new tp(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Iv(t,r.document),a=r.readTime?Fi(r.readTime):Ve.min(),l=Bn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new tp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Iv(t,r.document),a=r.removedTargetIds||[];n=new tp([],a,i,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new ZG(i,a),u=r.targetId;n=new VD(u,l)}}return n}function f8(t,e){let n;if(e instanceof Of)n={update:Bx(t,e.key,e.value)};else if(e instanceof OD)n={delete:O_(t,e.key)};else if(e instanceof $a)n={update:Bx(t,e.key,e.data),updateMask:E8(e.fieldMask)};else{if(!(e instanceof WG))return De(16599,{Vt:e.type});n={verify:O_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof Tp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ap)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:l8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De(27497)})(t,e.precondition)),n}function d8(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Fi(i.updateTime):Fi(a);return l.isEqual(Ve.min())&&(l=Fi(a)),new jG(l,i.transformResults||[])})(n,e)))):[]}function h8(t,e){return{documents:[BD(t,e.path)]}}function p8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BD(t,i);const a=(function(d){if(d.length!==0)return HD(hi.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(d){if(d.length!==0)return d.map((h=>(function(_){return{field:jl(_.field),direction:y8(_.dir)}})(h)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=N_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function m8(t){let e=u8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){st(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const _=FD(m);return _ instanceof hi&&yD(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((_=>(function(b){return new gf(Yl(b.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let _;return _=typeof m=="object"?m.value:m,Sm(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(m){const _=!!m.before,A=m.values||[];return new Ep(A,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const _=!m.before,A=m.values||[];return new Ep(A,_)})(n.endAt)),OG(e,i,l,a,u,"F",f,d)}function g8(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yl(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yl(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yl(n.unaryFilter.field);return Zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yl(n.unaryFilter.field);return Zt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(Yl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((r=>FD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function y8(t){return i8[t]}function v8(t){return o8[t]}function _8(t){return a8[t]}function jl(t){return{fieldPath:t.canonicalString()}}function Yl(t){return Mn.fromServerFormat(t.fieldPath)}function HD(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(xx(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NAN"}};if(Cx(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xx(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NAN"}};if(Cx(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(n.field),op:v8(n.op),value:n.value}}})(t):t instanceof hi?(function(n){const r=n.getFilters().map((i=>HD(i)));return r.length===1?r[0]:{compositeFilter:{op:_8(n.op),filters:r}}})(t):De(54877,{filter:t})}function E8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i,a=Ve.min(),l=Ve.min(),u=Dn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.yt=e}}function A8(t){const e=m8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.Cn=new b8}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ka.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class b8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new un(Et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$D=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or($D,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cu(0)}static cr(){return new cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="LruGarbageCollector",w8=1048576;function Hx([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class C8{constructor(e){this.Ir=e,this.buffer=new un(Hx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(Fx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bu(n)?Te(Fx,"Ignoring IndexedDB error during garbage collection: ",n):await Su(n)}await this.Vr(3e5)}))}}class I8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Am.ce);const r=new C8(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(zx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),$l()<=et.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-h}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${m} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function R8(t,e){return new I8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&lf(r.mutation,i,Cr.empty(),wt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Rs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Xc();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Ro();const l=sf(),u=(function(){return sf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof $a)?a=a.insert(d.key,d):h!==void 0?(l.set(d.key,h.mutation.getFieldMask()),lf(h.mutation,d,h.mutation.getFieldMask(),wt.now())):l.set(d.key,Cr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,h)=>l.set(d,h))),n.forEach(((d,h)=>u.set(d,new M8(h,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=sf();let i=new Mt(((l,u)=>l-u)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||Cr.empty();h=u.applyToLocalView(d,h),r.set(f,h);const m=(i.get(u.batchId)||Xe()).add(f);i=i.insert(u.batchId,m)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,h=f.value,m=CD();h.forEach((_=>{if(!a.has(_)){const A=ND(n.get(_),r.get(_));A!==null&&m.set(_,A),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,m))}return fe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):fe.resolve(Rs());let u=df,f=a;return l.next((d=>fe.forEach(d,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((_=>{f=f.insert(h,_)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,Xe()))).next((h=>({batchId:u,changes:wD(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let i=Xc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Xc();return this.indexManager.getCollectionParents(e,a).next((u=>fe.forEach(u,(f=>{const d=(function(m,_){return new wu(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,_)=>{l=l.insert(m,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,d)=>{const h=d.getKey();l.get(h)===null&&(l=l.insert(h,Bn.newInvalidDocument(h)))}));let u=Xc();return l.forEach(((f,d)=>{const h=a.get(f);h!==void 0&&lf(h.mutation,d,Cr.empty(),wt.now()),Cm(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fi(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:A8(i.bundledQuery),readTime:Fi(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.overlays=new Mt(xe.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return fe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Rs(),a=n.length+1,l=new xe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Mt(((d,h)=>d-h));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=Rs(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=Rs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return fe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new QG(n,r));let a=this.qr.get(n);a===void 0&&(a=Xe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.Qr=new un(yn.$r),this.Ur=new un(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new Et([])),r=new yn(n,e),i=new yn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new Et([])),r=new yn(n,e),i=new yn(n,e+1);let a=Xe();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(yn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new XG(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new yn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?KE:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(We);return n.forEach((i=>{const a=new yn(i,0),l=new yn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new yn(new xe(a),0);let u=new un(We);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),l),fe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const a=new yn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new yn(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.ri=e,this.docs=(function(){return new Mt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Ro();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ro();const l=n.path,u=new xe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||dG(fG(h),r)<=0||(i.has(h.key)||Cm(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){De(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new U8(this)}getSize(e){return fe.resolve(this.size)}}class U8 extends P8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.persistence=e,this.si=new Js((n=>JE(n)),WE),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new nT,this.targetCount=0,this.ai=cu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new cu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Am(0),this.li=!1,this.li=!0,this.hi=new k8,this.referenceDelegate=e(this),this.Pi=new q8(this),this.indexManager=new S8,this.remoteDocumentCache=(function(i){return new L8(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new T8(n),this.Ii=new D8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new V8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new B8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class B8 extends pG{constructor(e){super(),this.currentSequenceNumber=e}}class rT{constructor(e){this.persistence=e,this.Ri=new nT,this.Vi=null}static mi(e){return new rT(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=xe.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bp{constructor(e,n){this.persistence=e,this.pi=new Js((r=>yG(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=R8(this,n)}static mi(e,n){return new bp(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Ve.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qh(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Xe(),i=Xe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D9()?8:mG(M9())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new z8;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?($l()<=et.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):($l()<=et.DEBUG&&Te("QueryEngine","Query:",Kl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($l()<=et.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):fe.resolve())}ys(e,n){if(Mx(n))return fe.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=M_(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Xe(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,l,f.readTime)?this.ys(e,M_(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return Mx(n)||i.isEqual(Ve.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?fe.resolve(null):($l()<=et.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kl(n)),this.vs(e,l,n,cG(i,df)).next((u=>u)))}))}Ds(e,n){let r=new un(SD(e));return n.forEach(((i,a)=>{Cm(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return $l()<=et.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Kl(n)),this.ps.getDocumentsMatchingQuery(e,n,ka.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="LocalStore",H8=3e8;class G8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mt(We),this.xs=new Js((a=>JE(a)),WE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $8(t,e,n,r){return new G8(t,e,n,r)}async function jD(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=Xe();for(const d of i){l.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of a){u.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function K8(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,h){const m=d.batch,_=m.keys();let A=fe.resolve();return _.forEach((b=>{A=A.next((()=>h.getEntry(f,b))).next((C=>{const w=d.docVersions.get(b);st(w!==null,48541),C.version.compareTo(w)<0&&(m.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),h.addEntry(C)))}))})),A.next((()=>u.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Xe();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function YD(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function j8(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,m)=>{const _=i.get(m);if(!_)return;u.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,m))));let A=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?A=A.withResumeToken(Dn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(h.resumeToken,r)),i=i.insert(m,A),(function(C,w,M){return C.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=H8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(_,A,h)&&u.push(n.Pi.updateTargetData(a,A))}));let f=Ro(),d=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(Y8(a,l,e.documentUpdates).next((h=>{f=h.ks,d=h.qs}))),!r.isEqual(Ve.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(h)}return fe.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function Y8(t,e,n){let r=Xe(),i=Xe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Ro();return n.forEach(((u,f)=>{const d=a.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Te(oT,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function J8(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=KE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function W8(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,fe.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ra(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function V_(t,e,n){const r=qe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!bu(l))throw l;Te(oT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Gx(t,e,n){const r=qe(t);let i=Ve.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,h){const m=qe(f),_=m.xs.get(h);return _!==void 0?fe.resolve(m.Ms.get(_)):m.Pi.getTargetData(d,h)})(r,l,Bi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ve.min(),n?a:Xe()))).next((u=>(X8(r,VG(e),u),{documents:u,Qs:a})))))}function X8(t,e,n){let r=t.Os.get(e)||Ve.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class $x{constructor(){this.activeTargetIds=FG()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q8{constructor(){this.Mo=new $x,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $x,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="ConnectivityMonitor";class jx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(Kx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(Kx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function L_(){return Nh===null?Nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="RestConnection",e7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===vp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=L_(),u=this.zo(e,n.toUriEncodedString());Te(Rv,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:d}=new URL(u),h=FE(d);return this.Jo(e,u,f,r,h).then((m=>(Te(Rv,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw au(Rv,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Au})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=e7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class r7 extends t7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=L_();return new Promise(((u,f)=>{const d=new WN;d.setWithCredentials(!0),d.listenOnce(XN.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Xh.NO_ERROR:const m=d.getResponseJson();Te(Ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case Xh.TIMEOUT:Te(Ln,`RPC '${e}' ${l} timed out`),f(new Ee(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const _=d.getStatus();if(Te(Ln,`RPC '${e}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const b=A==null?void 0:A.error;if(b&&b.status&&b.message){const C=(function(M){const q=M.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(q)>=0?q:ce.UNKNOWN})(b.status);f(new Ee(C,b.message))}else f(new Ee(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ee(ce.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Te(Ln,`RPC '${e}' ${l} completed.`)}}));const h=JSON.stringify(i);Te(Ln,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=L_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=eD(),u=ZN(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=a.join("");Te(Ln,`Creating RPC '${e}' stream ${i}: ${h}`,f);const m=l.createWebChannel(h,f);this.I_(m);let _=!1,A=!1;const b=new n7({Yo:w=>{A?Te(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(_||(Te(Ln,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),Te(Ln,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},Zo:()=>m.close()}),C=(w,M,q)=>{w.listen(M,(k=>{try{q(k)}catch(G){setTimeout((()=>{throw G}),0)}}))};return C(m,Wc.EventType.OPEN,(()=>{A||(Te(Ln,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),C(m,Wc.EventType.CLOSE,(()=>{A||(A=!0,Te(Ln,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(m))})),C(m,Wc.EventType.ERROR,(w=>{A||(A=!0,au(Ln,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),b.a_(new Ee(ce.UNAVAILABLE,"The operation could not be completed")))})),C(m,Wc.EventType.MESSAGE,(w=>{var M;if(!A){const q=w.data[0];st(!!q,16349);const k=q,G=(k==null?void 0:k.error)||((M=k[0])==null?void 0:M.error);if(G){Te(Ln,`RPC '${e}' stream ${i} received error:`,G);const z=G.status;let K=(function(N){const B=Xt[N];if(B!==void 0)return kD(B)})(z),P=G.message;K===void 0&&(K=ce.INTERNAL,P="Unknown error status: "+z+" with message "+G.message),A=!0,b.a_(new Ee(K,P)),m.close()}else Te(Ln,`RPC '${e}' stream ${i} received:`,q),b.u_(q)}})),C(u,QN.STAT_EVENT,(w=>{w.stat===b_.PROXY?Te(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===b_.NOPROXY&&Te(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){return new s8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="PersistentStream";class WD{constructor(e,n,r,i,a,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ee(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(Yx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(Yx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i7 extends WD{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=c8(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ve.min():l.readTime?Fi(l.readTime):Ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=k_(this.serializer),n.addTarget=(function(a,l){let u;const f=l.target;if(u=R_(f)?{documents:h8(a,f)}:{query:p8(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=UD(a,l.resumeToken);const d=N_(a,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ve.min())>0){u.readTime=Sp(a,l.snapshotVersion.toTimestamp());const d=N_(a,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=g8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=k_(this.serializer),n.removeTarget=e,this.q_(n)}}class o7 extends WD{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=d8(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=k_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>f8(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{}class s7 extends a7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,D_(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(ce.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,D_(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ce.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class l7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Io(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class u7{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Ws(this)&&(Te(zs,"Restarting streams for network reachability change."),await(async function(f){const d=qe(f);d.Ea.add(4),await Vf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Mm(d)})(this))}))})),this.Ra=new l7(r,i)}}async function Mm(t){if(Ws(t))for(const e of t.da)await e(!0)}async function Vf(t){for(const e of t.da)await e(!1)}function XD(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uT(n)?lT(n):Cu(n).O_()&&sT(n,e))}function aT(t,e){const n=qe(t),r=Cu(n);n.Ia.delete(e),r.O_()&&QD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ws(n)&&n.Ra.set("Unknown"))}function sT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).Y_(e)}function QD(t,e){t.Va.Ue(e),Cu(t).Z_(e)}function lT(t){t.Va=new r8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.Ra.ua()}function uT(t){return Ws(t)&&!Cu(t).x_()&&t.Ia.size>0}function Ws(t){return qe(t).Ea.size===0}function ZD(t){t.Va=void 0}async function c7(t){t.Ra.set("Online")}async function f7(t){t.Ia.forEach(((e,n)=>{sT(t,e)}))}async function d7(t,e){ZD(t),uT(t)?(t.Ra.ha(e),lT(t)):t.Ra.set("Unknown")}async function h7(t,e,n){if(t.Ra.set("Online"),e instanceof LD&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Te(zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wp(t,r)}else if(e instanceof tp?t.Va.Ze(e):e instanceof VD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const r=await YD(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const h=a.Ia.get(f);if(!h)return;a.Ia.set(f,h.withResumeToken(Dn.EMPTY_BYTE_STRING,h.snapshotVersion)),QD(a,f);const m=new Ra(h.target,f,d,h.sequenceNumber);sT(a,m)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(zs,"Failed to raise snapshot:",r),await wp(t,r)}}async function wp(t,e,n){if(!bu(e))throw e;t.Ea.add(1),await Vf(t),t.Ra.set("Offline"),n||(n=()=>YD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(zs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mm(t)}))}function eO(t,e){return e().catch((n=>wp(t,n,e)))}async function Nm(t){const e=qe(t),n=qa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:KE;for(;p7(e);)try{const i=await J8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,m7(e,i)}catch(i){await wp(e,i)}tO(e)&&nO(e)}function p7(t){return Ws(t)&&t.Ta.length<10}function m7(t,e){t.Ta.push(e);const n=qa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tO(t){return Ws(t)&&!qa(t).x_()&&t.Ta.length>0}function nO(t){qa(t).start()}async function g7(t){qa(t).ra()}async function y7(t){const e=qa(t);for(const n of t.Ta)e.ea(n.mutations)}async function v7(t,e,n){const r=t.Ta.shift(),i=ZE.from(r,e,n);await eO(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Nm(t)}async function _7(t,e){e&&qa(t).X_&&await(async function(r,i){if((function(l){return e8(l)&&l!==ce.ABORTED})(i.code)){const a=r.Ta.shift();qa(r).B_(),await eO(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Nm(r)}})(t,e),tO(t)&&nO(t)}async function Jx(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Te(zs,"RemoteStore received new credentials");const r=Ws(n);n.Ea.add(3),await Vf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mm(n)}async function E7(t,e){const n=qe(t);e?(n.Ea.delete(2),await Mm(n)):e||(n.Ea.add(2),await Vf(n),n.Ra.set("Unknown"))}function Cu(t){return t.ma||(t.ma=(function(n,r,i){const a=qe(n);return a.sa(),new i7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:c7.bind(null,t),t_:f7.bind(null,t),r_:d7.bind(null,t),H_:h7.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),uT(t)?lT(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZD(t))}))),t.ma}function qa(t){return t.fa||(t.fa=(function(n,r,i){const a=qe(n);return a.sa(),new o7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:g7.bind(null,t),r_:_7.bind(null,t),ta:y7.bind(null,t),na:v7.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nm(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(zs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new cT(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fT(t,e){if(Io("AsyncQueue",`${e}: ${t}`),bu(t))return new Ee(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{static emptySet(e){return new nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Xc(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.ga=new Mt(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class fu{constructor(e,n,r,i,a,l,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new fu(e,n,nu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class A7{constructor(){this.queries=Xx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=qe(n),a=i.queries;i.queries=Xx(),a.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Ee(ce.ABORTED,"Firestore shutting down"))}}function Xx(){return new Js((t=>AD(t)),wm)}async function S7(t,e){const n=qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new T7,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=fT(l,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&dT(n)}async function b7(t,e){const n=qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function w7(t,e){const n=qe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&dT(n)}function C7(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function dT(t){t.Ca.forEach((e=>{e.next()}))}var U_,Qx;(Qx=U_||(U_={})).Ma="default",Qx.Cache="cache";class x7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==U_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.key=e}}class iO{constructor(e){this.key=e}}class I7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=SD(e),this.tu=new nu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Wx,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const _=i.get(h),A=Cm(this.query,m)?m:null,b=!!_&&this.mutatedKeys.has(_.key),C=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let w=!1;_&&A?_.data.isEqual(A.data)?b!==C&&(r.track({type:3,doc:A}),w=!0):this.su(_,A)||(r.track({type:2,doc:A}),w=!0,(f&&this.eu(A,f)>0||d&&this.eu(A,d)<0)&&(u=!0)):!_&&A?(r.track({type:0,doc:A}),w=!0):_&&!A&&(r.track({type:1,doc:_}),w=!0,(f||d)&&(u=!0)),w&&(A?(l=l.add(A),a=C?a.add(h):a.delete(h)):(l=l.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const h=this.query.limitType==="F"?l.last():l.first();l=l.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((h,m)=>(function(A,b){const C=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:w})}};return C(A)-C(b)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new fu(this.query,e.tu,a,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new iO(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new rO(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hT="SyncEngine";class R7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P7{constructor(e){this.key=e,this.hu=!1}}class M7{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Js((u=>AD(u)),wm),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(xe.comparator),this.Au=new Map,this.Ru=new nT,this.Vu={},this.mu=new Map,this.fu=cu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N7(t,e,n=!0){const r=cO(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await oO(r,e,n,!0),i}async function D7(t,e){const n=cO(t);await oO(n,e,!0,!1)}async function oO(t,e,n,r){const i=await W8(t.localStore,Bi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await O7(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&XD(t.remoteStore,i),u}async function O7(t,e,n,r,i){t.pu=(m,_,A)=>(async function(C,w,M,q){let k=w.view.ru(M);k.Cs&&(k=await Gx(C.localStore,w.query,!1).then((({documents:P})=>w.view.ru(P,k))));const G=q&&q.targetChanges.get(w.targetId),z=q&&q.targetMismatches.get(w.targetId)!=null,K=w.view.applyChanges(k,C.isPrimaryClient,G,z);return eI(C,w.targetId,K.au),K.snapshot})(t,m,_,A);const a=await Gx(t.localStore,e,!0),l=new I7(e,a.Qs),u=l.ru(a.documents),f=kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(u,t.isPrimaryClient,f);eI(t,n,d.au);const h=new R7(e,n,l);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function k7(t,e,n){const r=qe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!wm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await V_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&aT(r.remoteStore,i.targetId),q_(r,i.targetId)})).catch(Su)):(q_(r,i.targetId),await V_(r.localStore,i.targetId,!0))}async function V7(t,e){const n=qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aT(n.remoteStore,r.targetId))}async function L7(t,e,n){const r=G7(t);try{const i=await(function(l,u){const f=qe(l),d=wt.now(),h=u.reduce(((A,b)=>A.add(b.key)),Xe());let m,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let b=Ro(),C=Xe();return f.Ns.getEntries(A,h).next((w=>{b=w,b.forEach(((M,q)=>{q.isValidDocument()||(C=C.add(M))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,b))).next((w=>{m=w;const M=[];for(const q of u){const k=JG(q,m.get(q.key).overlayedDocument);k!=null&&M.push(new $a(q.key,k,pD(k.value.mapValue),zi.exists(!0)))}return f.mutationQueue.addMutationBatch(A,d,M,u)})).next((w=>{_=w;const M=w.applyToLocalDocumentSet(m,C);return f.documentOverlayCache.saveOverlays(A,w.batchId,M)}))})).then((()=>({batchId:_.batchId,changes:wD(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new Mt(We)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await Lf(r,i.changes),await Nm(r.remoteStore)}catch(i){const a=fT(i,"Failed to persist write");n.reject(a)}}async function aO(t,e){const n=qe(t);try{const r=await j8(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?st(l.hu,14607):i.removedDocuments.size>0&&(st(l.hu,42227),l.hu=!1))})),await Lf(n,r,e)}catch(r){await Su(r)}}function Zx(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=qe(l);f.onlineState=u;let d=!1;f.queries.forEach(((h,m)=>{for(const _ of m.Sa)_.va(u)&&(d=!0)})),d&&dT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U7(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Mt(xe.comparator);l=l.insert(a,Bn.newNoDocument(a,Ve.min()));const u=Xe().add(a),f=new Rm(Ve.min(),new Map,new Mt(We),l,u);await aO(r,f),r.du=r.du.remove(a),r.Au.delete(e),pT(r)}else await V_(r.localStore,e,!1).then((()=>q_(r,e,n))).catch(Su)}async function q7(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await K8(n.localStore,e);lO(n,r,null),sO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lf(n,i)}catch(i){await Su(i)}}async function B7(t,e,n){const r=qe(t);try{const i=await(function(l,u){const f=qe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,u).next((m=>(st(m!==null,37113),h=m.keys(),f.mutationQueue.removeMutationBatch(d,m)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);lO(r,e,n),sO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lf(r,i)}catch(i){await Su(i)}}function sO(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function lO(t,e,n){const r=qe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function q_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||uO(t,r)}))}function uO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(aT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),pT(t))}function eI(t,e,n){for(const r of n)r instanceof rO?(t.Ru.addReference(r.key,e),z7(t,r)):r instanceof iO?(Te(hT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||uO(t,r.key)):De(19791,{wu:r})}function z7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Te(hT,"New document in limbo: "+n),t.Eu.add(r),pT(t))}function pT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(Et.fromString(e)),r=t.fu.next();t.Au.set(r,new P7(n)),t.du=t.du.insert(n,r),XD(t.remoteStore,new Ra(Bi(XE(n.path)),r,"TargetPurposeLimboResolution",Am.ce))}}async function Lf(t,e,n){const r=qe(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){i.push(d);const m=iT.As(f.targetId,d);a.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,d){const h=qe(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>fe.forEach(d,(_=>fe.forEach(_.Es,(A=>h.persistence.referenceDelegate.addReference(m,_.targetId,A))).next((()=>fe.forEach(_.ds,(A=>h.persistence.referenceDelegate.removeReference(m,_.targetId,A)))))))))}catch(m){if(!bu(m))throw m;Te(oT,"Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const A=h.Ms.get(_),b=A.snapshotVersion,C=A.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(_,C)}}})(r.localStore,a))}async function F7(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Te(hT,"User change. New user:",e.toKey());const r=await jD(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ee(ce.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lf(n,r.Ls)}}function H7(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function cO(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U7.bind(null,e),e.Pu.H_=w7.bind(null,e.eventManager),e.Pu.yu=C7.bind(null,e.eventManager),e}function G7(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B7.bind(null,e),e}class Cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $8(this.persistence,new F8,e.initialUser,this.serializer)}Cu(e){return new KD(rT.mi,this.serializer)}Du(e){return new Q8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cp.provider={build:()=>new Cp};class $7 extends Cp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof bp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new x8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new KD((r=>bp.mi(r,n)),this.serializer)}}class B_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F7.bind(null,this.syncEngine),await E7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A7})()}createDatastore(e){const n=Pm(e.databaseInfo.databaseId),r=(function(a){return new r7(a)})(e.databaseInfo);return(function(a,l,u,f){return new s7(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new u7(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zx(this.syncEngine,n,0)),(function(){return jx.v()?new jx:new Z8})())}createSyncEngine(e,n){return(function(i,a,l,u,f,d,h){const m=new M7(i,a,l,u,f,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=qe(i);Te(zs,"RemoteStore shutting down."),a.Ea.add(5),await Vf(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}B_.provider={build:()=>new B_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class j7{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=$E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Te(Ba,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Te(Ba,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mv(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await jD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function tI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y7(t);Te(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Jx(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Jx(e.remoteStore,i))),t._onlineComponents=e}async function Y7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Ba,"Using user provided OfflineComponentProvider");try{await Mv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await Mv(t,new Cp)}}else Te(Ba,"Using default OfflineComponentProvider"),await Mv(t,new $7(void 0));return t._offlineComponents}async function fO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Ba,"Using user provided OnlineComponentProvider"),await tI(t,t._uninitializedComponentsProvider._online)):(Te(Ba,"Using default OnlineComponentProvider"),await tI(t,new B_))),t._onlineComponents}function J7(t){return fO(t).then((e=>e.syncEngine))}async function nI(t){const e=await fO(t),n=e.eventManager;return n.onListen=N7.bind(null,e.syncEngine),n.onUnlisten=k7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V7.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="firestore.googleapis.com",iI=!0;class oI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hO,this.ssl=iI}else this.host=e.host,this.ssl=e.ssl??iI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$D;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w8)throw new Ee(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZH;switch(r.type){case"firstParty":return new rG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=rI.get(n);r&&(Te("ComponentProvider","Removing Datastore"),rI.delete(n),r.terminate())})(this),Promise.resolve()}}function W7(t,e,n,r={}){var d;t=Os(t,Dm);const i=FE(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(C9(`https://${u}`),P9("Firestore",!0)),a.host!==hO&&a.host!==u&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!pp(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=qn.MOCK_USER;else{h=x9(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ee(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new qn(_)}t._authCredentials=new eG(new nD(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Df(n,tn._jsonSchema))return new tn(e,r||null,new xe(Et.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:en("string",tn._jsonSchemaVersion),referencePath:en("string")};class Da extends Xs{constructor(e,n,r){super(e,n,XE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new xe(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Dh(t,e,...n){if(t=Ki(t),rD("collection","path",e),t instanceof Dm){const r=Et.fromString(e,...n);return yx(r),new Da(t,null,r)}{if(!(t instanceof tn||t instanceof Da))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return yx(r),new Da(t.firestore,null,r)}}function pO(t,e,...n){if(t=Ki(t),arguments.length===1&&(e=$E.newId()),rD("doc","path",e),t instanceof Dm){const r=Et.fromString(e,...n);return gx(r),new tn(t,null,new xe(r))}{if(!(t instanceof tn||t instanceof Da))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return gx(r),new tn(t.firestore,t instanceof Da?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="AsyncQueue";class sI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JD(this,"async_queue_retry"),this._c=()=>{const r=Pv();r&&Te(aI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Pv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bu(e))throw e;Te(aI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Io("INTERNAL UNHANDLED ERROR: ",lI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=cT.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&De(47125,{Pc:lI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class _f extends Dm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sI(e),this._firestoreClient=void 0,await e}}}function X7(t,e){const n=typeof t=="object"?t:BH(),r=typeof t=="string"?t:vp,i=kH(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=b9("firestore");a&&W7(i,...a)}return i}function mO(t){if(t._terminated)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q7(t),t._firestoreClient}function Q7(t){var r,i,a;const e=t._freezeSettings(),n=(function(u,f,d,h){return new EG(u,f,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new j7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kr(Dn.fromBase64String(e))}catch(n){throw new Ee(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kr(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Df(e,Kr._jsonSchema))return Kr.fromBase64String(e.bytes)}}Kr._jsonSchemaVersion="firestore/bytes/1.0",Kr._jsonSchema={type:en("string",Kr._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Df(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:en("string",Hi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Df(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gi(e.vectorValues);throw new Ee(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:en("string",Gi._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=/^__.*__$/;class e${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $a(e,this.data,this.fieldMask,n,this.fieldTransforms):new Of(e,this.data,n,this.fieldTransforms)}}class gO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class gT{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yO(this.Ac)&&Z7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pm(e)}Cc(e,n,r,i=!1){return new gT({Ac:e,methodName:n,Dc:r,path:Mn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yT(t){const e=t._freezeSettings(),n=Pm(t._databaseId);return new t$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n$(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);vT("Data must be an object, but it was:",l,r);const u=vO(r,l);let f,d;if(a.merge)f=new Cr(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const _=z_(e,m,n);if(!l.contains(_))throw new Ee(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);EO(h,_)||h.push(_)}f=new Cr(h),d=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,d=l.fieldTransforms;return new e$(new ar(u),f,d)}class km extends mT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof km}}function r$(t,e,n,r){const i=t.Cc(1,e,n);vT("Data must be an object, but it was:",i,r);const a=[],l=ar.empty();Ga(r,((f,d)=>{const h=_T(e,f,n);d=Ki(d);const m=i.yc(h);if(d instanceof km)a.push(h);else{const _=Uf(d,m);_!=null&&(a.push(h),l.set(h,_))}}));const u=new Cr(a);return new gO(l,u,i.fieldTransforms)}function i$(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[z_(e,r,n)],f=[i];if(a.length%2!=0)throw new Ee(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(z_(e,a[_])),f.push(a[_+1]);const d=[],h=ar.empty();for(let _=u.length-1;_>=0;--_)if(!EO(d,u[_])){const A=u[_];let b=f[_];b=Ki(b);const C=l.yc(A);if(b instanceof km)d.push(A);else{const w=Uf(b,C);w!=null&&(d.push(A),h.set(A,w))}}const m=new Cr(d);return new gO(h,m,l.fieldTransforms)}function o$(t,e,n,r=!1){return Uf(n,t.Cc(r?4:3,e))}function Uf(t,e){if(_O(t=Ki(t)))return vT("Unsupported field value:",e,t),vO(t,e);if(t instanceof mT)return(function(r,i){if(!yO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let f=Uf(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Ki(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=wt.fromDate(r);return{timestampValue:Sp(i.serializer,a)}}if(r instanceof wt){const a=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(i.serializer,a)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kr)return{bytesValue:UD(i.serializer,r._byteString)};if(r instanceof tn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gi)return(function(l,u){return{mapValue:{fields:{[dD]:{stringValue:hD},[_p]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return QE(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Tm(r)}`)})(t,e)}function vO(t,e){const n={};return aD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(t,((r,i)=>{const a=Uf(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function _O(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Hi||t instanceof Kr||t instanceof tn||t instanceof mT||t instanceof Gi)}function vT(t,e,n){if(!_O(n)||!iD(n)){const r=Tm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function z_(t,e,n){if((e=Ki(e))instanceof Om)return e._internalPath;if(typeof e=="string")return _T(t,e);throw xp("Field path arguments must be of type string or ",t,!1,void 0,n)}const a$=new RegExp("[~\\*/\\[\\]]");function _T(t,e,n){if(e.search(a$)>=0)throw xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Om(...e.split("."))._internalPath}catch{throw xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xp(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ee(ce.INVALID_ARGUMENT,u+t+f)}function EO(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ET("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s$ extends TO{data(){return super.data()}}function ET(t,e){return typeof e=="string"?_T(t,e):e instanceof Om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TT{}class AO extends TT{}function u$(t,e,...n){let r=[];e instanceof TT&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof ST)).length,u=a.filter((f=>f instanceof AT)).length;if(l>1||l>0&&u>0)throw new Ee(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class AT extends AO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new AT(e,n,r)}_apply(e){const n=this._parse(e);return SO(e._query,n),new Xs(e.firestore,e.converter,P_(e._query,n))}_parse(e){const n=yT(e.firestore);return(function(a,l,u,f,d,h,m){let _;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){fI(m,h);const b=[];for(const C of m)b.push(cI(f,a,C));_={arrayValue:{values:b}}}else _=cI(f,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||fI(m,h),_=o$(u,l,m,h==="in"||h==="not-in");return Zt.create(d,h,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ST extends TT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ST(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)SO(l,f),l=P_(l,f)})(e._query,n),new Xs(e.firestore,e.converter,P_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bT extends AO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bT(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gf(a,l)})(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new wu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function c$(t,e="asc"){const n=e,r=ET("orderBy",t);return bT._create(r,n)}function cI(t,e,n){if(typeof(n=Ki(n))=="string"){if(n==="")throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TD(e)&&n.indexOf("/")!==-1)throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!xe.isDocumentKey(r))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wx(t,new xe(r))}if(n instanceof tn)return wx(t,n._key);throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(n)}.`)}function fI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SO(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f${convertValue(e,n="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ga(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[_p].arrayValue)==null?void 0:i.values)==null?void 0:a.map((l=>zt(l.doubleValue)));return new Gi(n)}convertGeoPoint(e){return new Hi(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const n=Va(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);st(GD(r),9688,{name:e});const i=new pf(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return i.isEqual(n)||Io(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends TO{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ET("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:en("string",ks._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class np extends ks{data(e={}){return super.data(e)}}class ru{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new np(this._firestore,this._userDataWriter,r.key,r,new Zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new np(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Zc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new np(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Zc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),h=l.indexOf(u.doc.key)),{type:h$(u.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ru._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$E.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}ru._jsonSchemaVersion="firestore/querySnapshot/1.0",ru._jsonSchema={type:en("string",ru._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class bO extends f${constructor(e){super(),this.firestore=e}convertBytes(e){return new Kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function p$(t,e,n,...r){t=Os(t,tn);const i=Os(t.firestore,_f),a=yT(i);let l;return l=typeof(e=Ki(e))=="string"||e instanceof Om?i$(a,"updateDoc",t._key,e,n,r):r$(a,"updateDoc",t._key,e),wO(i,[l.toMutation(t._key,zi.exists(!0))])}function dI(t,e){const n=Os(t.firestore,_f),r=pO(t),i=d$(t.converter,e);return wO(n,[n$(yT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zi.exists(!1))]).then((()=>r))}function hI(t,...e){var f,d,h;t=Ki(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uI(e[r])){const m=e[r];e[r]=(f=m.next)==null?void 0:f.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let a,l,u;if(t instanceof tn)l=Os(t.firestore,_f),u=XE(t._key.path),a={next:m=>{e[r]&&e[r](m$(l,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Os(t,Xs);l=Os(m.firestore,_f),u=m._query;const _=new bO(l);a={next:A=>{e[r]&&e[r](new ru(l,_,m,A))},error:e[r+1],complete:e[r+2]},l$(t._query)}return(function(_,A,b,C){const w=new K7(C),M=new x7(A,w,b);return _.asyncQueue.enqueueAndForget((async()=>S7(await nI(_),M))),()=>{w.Nu(),_.asyncQueue.enqueueAndForget((async()=>b7(await nI(_),M)))}})(mO(l),u,i,a)}function wO(t,e){return(function(r,i){const a=new Ds;return r.asyncQueue.enqueueAndForget((async()=>L7(await J7(r),i,a))),a.promise})(mO(t),e)}function m$(t,e,n){const r=n.docs.get(e._key),i=new bO(t);return new ks(t,i,e._key,r,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Au=i})(qH),gp(new cf("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new _f(new tG(r.getProvider("auth-internal")),new iG(l,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ee(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(d.options.projectId,h)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),tu(dx,hx,e),tu(dx,hx,"esm2020")})();const pI={apiKey:"AIzaSyAQJ3o5I6Qg7X7XvUcLxuc0ReiRHML_Iao",authDomain:"cervejaria-53789.firebaseapp.com",projectId:"cervejaria-53789",storageBucket:"cervejaria-53789.firebasestorage.app",messagingSenderId:"414646788570",appId:"1:414646788570:web:6bb719f703c01e376d60e3",measurementId:"G-D89MKWKSY3"};let Gr=null;try{if(pI.apiKey!=="API_KEY_AQUI"){const t=KN(pI);Gr=X7(t),console.log("Firebase conectado com sucesso.")}else console.warn("Firebase no configurado. Usando modo Offline (LocalStorage).")}catch(t){console.error("Erro ao inicializar Firebase:",t)}const mI="transactions",Nv="clients",zl={isConfigured:()=>!!Gr,subscribeTransactions:t=>{if(!Gr)return()=>{};const e=u$(Dh(Gr,mI),c$("date","desc"));return hI(e,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)})},addTransaction:async t=>{if(!Gr)return;const{id:e,...n}=t;await dI(Dh(Gr,mI),n)},subscribeClients:t=>{if(!Gr)return()=>{};const e=Dh(Gr,Nv);return hI(e,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)})},addClient:async t=>{if(!Gr)return;const{id:e,...n}=t;await dI(Dh(Gr,Nv),n)},updateClient:async t=>{if(!Gr)return;const e=pO(Gr,Nv,t.id),{id:n,...r}=t;await p$(e,r)}},g$=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState(!0),l=zl.isConfigured();R.useEffect(()=>{if(l){const _=zl.subscribeTransactions(b=>{e(b),a(!1)}),A=zl.subscribeClients(b=>{r(b)});return()=>{_(),A()}}else{const _=localStorage.getItem("cerveja_app_data_v1");if(_){const A=JSON.parse(_);e(A.transactions||[]),r(A.clients||[])}a(!1)}},[l]),R.useEffect(()=>{!l&&!i&&localStorage.setItem("cerveja_app_data_v1",JSON.stringify({transactions:t,clients:n,cashBalance:0}))},[t,n,l,i]);const u=async _=>{if(l){if(await zl.addTransaction(_),_.clientId){const A=n.find(b=>b.id===_.clientId);A&&{...A}}}else e(A=>[_,...A])},f=async _=>{l?await zl.addClient(_):r(A=>[...A,_])},d=async _=>{l?await zl.updateClient(_):r(A=>A.map(b=>b.id===_.id?_:b))},h=R.useMemo(()=>t.reduce((_,A)=>A.type==="VENDA"?_+A.amount:A.type==="DESPESA"?_-A.amount:A.type==="PAGAMENTO_KILAPI"?_+A.amount:_,0),[t]);return{data:{transactions:t,clients:n,cashBalance:h},loading:i,isOffline:!l,actions:{addTransaction:u,addClient:f,updateClient:d}}},Oh=({title:t,value:e,icon:n,colorClass:r="text-slate-800",subtext:i})=>H.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-100 flex flex-col justify-between",children:[H.jsxs("div",{className:"flex justify-between items-start mb-2",children:[H.jsx("span",{className:"text-slate-500 text-sm font-medium uppercase tracking-wider",children:t}),H.jsx("div",{className:`p-2 rounded-full bg-slate-50 ${r}`,children:n})]}),H.jsxs("div",{children:[H.jsx("h3",{className:`text-2xl font-bold ${r}`,children:e}),i&&H.jsx("p",{className:"text-xs text-slate-400 mt-1",children:i})]})]});function CO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CO(t))&&(r&&(r+=" "),r+=e);return r}var y$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wT(t){if(typeof t!="string")return!1;var e=y$;return e.includes(t)}var v$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function xO(t){if(typeof t!="string")return!1;var e=v$;return e.includes(t)}function IO(t){return typeof t=="string"&&t.startsWith("data-")}function Yi(t){var e=Object.entries(t).filter(n=>{var[r]=n;return xO(r)||IO(r)});return Object.fromEntries(e)}function Vm(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Yi(e)}return typeof t=="object"&&!Array.isArray(t)?Yi(t):null}function Jn(t){var e=Object.entries(t).filter(n=>{var[r]=n;return xO(r)||IO(r)||wT(r)});return Object.fromEntries(e)}function _$(t){return t==null?null:R.isValidElement(t)?Jn(t.props):typeof t=="object"&&!Array.isArray(t)?Jn(t):null}var E$=["children","width","height","viewBox","className","style","title","desc"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(null,arguments)}function T$(t,e){if(t==null)return{};var n,r,i=A$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function A$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RO=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:f,desc:d}=t,h=T$(t,E$),m=a||{width:r,height:i,x:0,y:0},_=vt("recharts-surface",l);return R.createElement("svg",F_({},Jn(h),{className:_,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),R.createElement("title",null,f),R.createElement("desc",null,d),n)}),S$=["children","className"];function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(null,arguments)}function b$(t,e){if(t==null)return{};var n,r,i=w$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var za=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=b$(t,S$),a=vt("recharts-layer",r);return R.createElement("g",H_({className:a},Jn(i),{ref:e}),n)}),PO=uN(),C$=R.createContext(null);function _t(t){return function(){return t}}const MO=Math.cos,Ip=Math.sin,mi=Math.sqrt,Rp=Math.PI,Lm=2*Rp,G_=Math.PI,$_=2*G_,Cs=1e-6,x$=$_-Cs;function NO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function I$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NO;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class R${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NO:I$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,f=r-e,d=i-n,h=l-e,m=u-n,_=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Cs)if(!(Math.abs(m*f-d*h)>Cs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-l,b=i-u,C=f*f+d*d,w=A*A+b*b,M=Math.sqrt(C),q=Math.sqrt(_),k=a*Math.tan((G_-Math.acos((C+_-w)/(2*M*q)))/2),G=k/q,z=k/M;Math.abs(G-1)>Cs&&this._append`L${e+G*h},${n+G*m}`,this._append`A${a},${a},0,0,${+(m*A>h*b)},${this._x1=e+z*f},${this._y1=n+z*d}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,h=n+f,m=1^l,_=l?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Cs||Math.abs(this._y1-h)>Cs)&&this._append`L${d},${h}`,r&&(_<0&&(_=_%$_+$_),_>x$?this._append`A${r},${r},0,1,${m},${e-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:_>Cs&&this._append`A${r},${r},0,${+(_>=G_)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function CT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new R$(e)}function xT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DO(t){this._context=t}DO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Um(t){return new DO(t)}function OO(t){return t[0]}function kO(t){return t[1]}function VO(t,e){var n=_t(!0),r=null,i=Um,a=null,l=CT(u);t=typeof t=="function"?t:t===void 0?OO:_t(t),e=typeof e=="function"?e:e===void 0?kO:_t(e);function u(f){var d,h=(f=xT(f)).length,m,_=!1,A;for(r==null&&(a=i(A=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===_&&((_=!_)?a.lineStart():a.lineEnd()),_&&a.point(+t(m,d,f),+e(m,d,f));if(A)return a=null,A+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:_t(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:_t(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:_t(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function kh(t,e,n){var r=null,i=_t(!0),a=null,l=Um,u=null,f=CT(d);t=typeof t=="function"?t:t===void 0?OO:_t(+t),e=typeof e=="function"?e:_t(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?kO:_t(+n);function d(m){var _,A,b,C=(m=xT(m)).length,w,M=!1,q,k=new Array(C),G=new Array(C);for(a==null&&(u=l(q=f())),_=0;_<=C;++_){if(!(_<C&&i(w=m[_],_,m))===M)if(M=!M)A=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=_-1;b>=A;--b)u.point(k[b],G[b]);u.lineEnd(),u.areaEnd()}M&&(k[_]=+t(w,_,m),G[_]=+e(w,_,m),u.point(r?+r(w,_,m):k[_],n?+n(w,_,m):G[_]))}if(q)return u=null,q+""||null}function h(){return VO().defined(i).curve(l).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:_t(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:_t(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:_t(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:_t(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:_t(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:_t(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:_t(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),d):l},d.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),d):a},d}class LO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function P$(t){return new LO(t,!0)}function M$(t){return new LO(t,!1)}const IT={draw(t,e){const n=mi(e/Rp);t.moveTo(n,0),t.arc(0,0,n,0,Lm)}},N$={draw(t,e){const n=mi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},UO=mi(1/3),D$=UO*2,O$={draw(t,e){const n=mi(e/D$),r=n*UO;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},k$={draw(t,e){const n=mi(e),r=-n/2;t.rect(r,r,n,n)}},V$=.8908130915292852,qO=Ip(Rp/10)/Ip(7*Rp/10),L$=Ip(Lm/10)*qO,U$=-MO(Lm/10)*qO,q$={draw(t,e){const n=mi(e*V$),r=L$*n,i=U$*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=Lm*a/5,u=MO(l),f=Ip(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Dv=mi(3),B$={draw(t,e){const n=-mi(e/(Dv*3));t.moveTo(0,n*2),t.lineTo(-Dv*n,-n),t.lineTo(Dv*n,-n),t.closePath()}},Fr=-.5,Hr=mi(3)/2,K_=1/mi(12),z$=(K_/2+1)*3,F$={draw(t,e){const n=mi(e/z$),r=n/2,i=n*K_,a=r,l=n*K_+n,u=-a,f=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,f),t.lineTo(Fr*r-Hr*i,Hr*r+Fr*i),t.lineTo(Fr*a-Hr*l,Hr*a+Fr*l),t.lineTo(Fr*u-Hr*f,Hr*u+Fr*f),t.lineTo(Fr*r+Hr*i,Fr*i-Hr*r),t.lineTo(Fr*a+Hr*l,Fr*l-Hr*a),t.lineTo(Fr*u+Hr*f,Fr*f-Hr*u),t.closePath()}};function H$(t,e){let n=null,r=CT(i);t=typeof t=="function"?t:_t(t||IT),e=typeof e=="function"?e:_t(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:_t(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:_t(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Pp(){}function Mp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function BO(t){this._context=t}BO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G$(t){return new BO(t)}function zO(t){this._context=t}zO.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $$(t){return new zO(t)}function FO(t){this._context=t}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K$(t){return new FO(t)}function HO(t){this._context=t}HO.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function j$(t){return new HO(t)}function gI(t){return t<0?-1:1}function yI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(gI(a)+gI(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function vI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ov(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function Np(t){this._context=t}Np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ov(this,this._t0,vI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ov(this,vI(this,n=yI(this,t,e)),n);break;default:Ov(this,this._t0,n=yI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function GO(t){this._context=new $O(t)}(GO.prototype=Object.create(Np.prototype)).point=function(t,e){Np.prototype.point.call(this,e,t)};function $O(t){this._context=t}$O.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Y$(t){return new Np(t)}function J$(t){return new GO(t)}function KO(t){this._context=t}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_I(t),i=_I(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _I(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function W$(t){return new KO(t)}function qm(t,e){this._context=t,this._t=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function X$(t){return new qm(t,.5)}function Q$(t){return new qm(t,0)}function Z$(t){return new qm(t,1)}function du(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function j_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function eK(t,e){return t[e]}function tK(t){const e=[];return e.key=t,e}function nK(){var t=_t([]),e=j_,n=du,r=eK;function i(a){var l=Array.from(t.apply(this,arguments),tK),u,f=l.length,d=-1,h;for(const m of a)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(m,l[u].key,d,a)]).data=m;for(u=0,h=xT(e(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:_t(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:_t(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?j_:typeof a=="function"?a:_t(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??du,i):n},i}function rK(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}du(t,e)}}function iK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}du(t,e)}}function oK(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=t[e[u]],m=h[r][1]||0,_=h[r-1][1]||0,A=(m-_)/2,b=0;b<u;++b){var C=t[e[b]],w=C[r][1]||0,M=C[r-1][1]||0;A+=w-M}f+=m,d+=A*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,du(t,e)}}var kv={},Vv={},EI;function aK(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Vv)),Vv}var Lv={},TI;function jO(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Lv)),Lv}var Uv={},AI;function RT(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Uv)),Uv}var qv={},Bv={},SI;function sK(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Bv)),Bv}var bI;function PT(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sK(),n=RT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(f),f=""):f+=m:m==="["?(h=!0,f&&(a.push(f),f="")):m==="."?f&&(a.push(f),f=""):f+=m,u++}return f&&a.push(f),a}t.toPath=r})(qv)),qv}var wI;function MT(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aK(),n=jO(),r=RT(),i=PT();function a(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?a(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||e.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}t.get=a})(kv)),kv}var zv,CI;function lK(){return CI||(CI=1,zv=MT().get),zv}var uK=lK();const Bm=Zi(uK);var jr=t=>t===0?0:t>0?1:-1,Ji=t=>typeof t=="number"&&t!=+t,Po=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Ji(t),Wi=t=>Re(t)||typeof t=="string",cK=0,Ef=t=>{var e=++cK;return"".concat(t||"").concat(e)},Fa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var a;if(Po(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return Ji(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},YO=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function sr(t,e,n){return Re(t)&&Re(e)?t+n*(e-t):e}function JO(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bm(r,e))===n)}var _n=t=>t===null||typeof t>"u",qf=t=>_n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function fK(t){return t!=null}function xu(){}var dK=["type","size","sizeType"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(null,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){hK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hK(t,e,n){return(e=pK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=mK(t,"string");return typeof e=="symbol"?e:e+""}function mK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gK(t,e){if(t==null)return{};var n,r,i=yK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WO={symbolCircle:IT,symbolCross:N$,symbolDiamond:O$,symbolSquare:k$,symbolStar:q$,symbolTriangle:B$,symbolWye:F$},vK=Math.PI/180,_K=t=>{var e="symbol".concat(qf(t));return WO[e]||IT},EK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*vK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},TK=(t,e)=>{WO["symbol".concat(qf(t))]=e},XO=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=gK(t,dK),a=II(II({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var _=_K(l),A=H$().type(_).size(EK(n,r,l)),b=A();if(b!==null)return b},{className:f,cx:d,cy:h}=a,m=Jn(a);return Re(d)&&Re(h)&&Re(n)?R.createElement("path",Y_({},m,{className:vt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};XO.registerSymbol=TK;var QO=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,NT=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{wT(i)&&(r[i]=(a=>n[i](n,a)))}),r},AK=(t,e,n)=>r=>(t(e,n,r),null),SK=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];wT(i)&&typeof a=="function"&&(r||(r={}),r[i]=AK(a,e,n))}),r};function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){wK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wK(t,e,n){return(e=CK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t){var e=xK(t,"string");return typeof e=="symbol"?e:e+""}function xK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ur(t,e){var n=bK({},t),r=e,i=Object.keys(e),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}var Fv={},Hv={},PI;function IK(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Hv)),Hv}var Gv={},MI;function ZO(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Gv)),Gv}var $v={},Kv={},jv={},NI;function RK(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(jv)),jv}var DI;function DT(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RK();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Kv)),Kv}var Yv={},OI;function PK(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Yv)),Yv}var kI;function MK(){return kI||(kI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DT(),n=PK();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})($v)),$v}var Jv={},Wv={},VI;function NK(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Wv)),Wv}var Xv={},Qv={},Zv={},e0={},LI;function e2(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(e0)),e0}var t0={},UI;function t2(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(t0)),t0}var n0={},qI;function n2(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(n0)),n0}var BI;function DK(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e2(),n=t2(),r=n2();function i(h,m,_){return typeof _!="function"?i(h,m,()=>{}):a(h,m,function A(b,C,w,M,q,k){const G=_(b,C,w,M,q,k);return G!==void 0?!!G:a(b,C,A,k)},new Map)}function a(h,m,_,A){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,_,A);case"function":return Object.keys(m).length>0?a(h,{...m},_,A):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,_,A){if(m==null)return!0;if(Array.isArray(m))return f(h,m,_,A);if(m instanceof Map)return u(h,m,_,A);if(m instanceof Set)return d(h,m,_,A);const b=Object.keys(m);if(h==null)return b.length===0;if(b.length===0)return!0;if(A!=null&&A.has(m))return A.get(m)===h;A==null||A.set(m,h);try{for(let C=0;C<b.length;C++){const w=b[C];if(!n.isPrimitive(h)&&!(w in h)||m[w]===void 0&&h[w]!==void 0||m[w]===null&&h[w]!==null||!_(h[w],m[w],w,h,m,A))return!1}return!0}finally{A==null||A.delete(m)}}function u(h,m,_,A){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,C]of m.entries()){const w=h.get(b);if(_(w,C,b,h,m,A)===!1)return!1}return!0}function f(h,m,_,A){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let C=0;C<m.length;C++){const w=m[C];let M=!1;for(let q=0;q<h.length;q++){if(b.has(q))continue;const k=h[q];let G=!1;if(_(k,w,C,h,m,A)&&(G=!0),G){b.add(q),M=!0;break}}if(!M)return!1}return!0}function d(h,m,_,A){return m.size===0?!0:h instanceof Set?f([...h],[...m],_,A):!1}t.isMatchWith=i,t.isSetMatch=d})(Zv)),Zv}var zI;function r2(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DK();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Qv)),Qv}var r0={},i0={},o0={},FI;function OK(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(o0)),o0}var a0={},HI;function i2(){return HI||(HI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(a0)),a0}var s0={},GI;function o2(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",_="[object ArrayBuffer]",A="[object Object]",b="[object Error]",C="[object DataView]",w="[object Uint8Array]",M="[object Uint8ClampedArray]",q="[object Uint16Array]",k="[object Uint32Array]",G="[object BigUint64Array]",z="[object Int8Array]",K="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",N="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=_,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=G,t.booleanTag=i,t.dataViewTag=C,t.dateTag=u,t.errorTag=b,t.float32ArrayTag=N,t.float64ArrayTag=B,t.functionTag=m,t.int16ArrayTag=K,t.int32ArrayTag=P,t.int8ArrayTag=z,t.mapTag=f,t.numberTag=r,t.objectTag=A,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=q,t.uint32ArrayTag=k,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=M})(s0)),s0}var l0={},$I;function kK(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(l0)),l0}var KI;function a2(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OK(),n=i2(),r=o2(),i=t2(),a=kK();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,_,A=new Map,b=void 0){const C=b==null?void 0:b(h,m,_,A);if(C!==void 0)return C;if(i.isPrimitive(h))return h;if(A.has(h))return A.get(h);if(Array.isArray(h)){const w=new Array(h.length);A.set(h,w);for(let M=0;M<h.length;M++)w[M]=u(h[M],M,_,A,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;A.set(h,w);for(const[M,q]of h)w.set(M,u(q,M,_,A,b));return w}if(h instanceof Set){const w=new Set;A.set(h,w);for(const M of h)w.add(u(M,void 0,_,A,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);A.set(h,w);for(let M=0;M<h.length;M++)w[M]=u(h[M],M,_,A,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return A.set(h,w),f(w,h,_,A,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return A.set(h,w),f(w,h,_,A,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return A.set(h,w),f(w,h,_,A,b),w}if(h instanceof Error){const w=new h.constructor;return A.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,_,A,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return A.set(h,w),f(w,h,_,A,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return A.set(h,w),f(w,h,_,A,b),w}if(h instanceof String){const w=new String(h.valueOf());return A.set(h,w),f(w,h,_,A,b),w}if(typeof h=="object"&&d(h)){const w=Object.create(Object.getPrototypeOf(h));return A.set(h,w),f(w,h,_,A,b),w}return h}function f(h,m,_=h,A,b){const C=[...Object.keys(m),...e.getSymbols(m)];for(let w=0;w<C.length;w++){const M=C[w],q=Object.getOwnPropertyDescriptor(h,M);(q==null||q.writable)&&(h[M]=u(m[M],M,_,A,b))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(i0)),i0}var jI;function VK(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a2();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(r0)),r0}var YI;function LK(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r2(),n=VK();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Xv)),Xv}var u0={},c0={},f0={},JI;function UK(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a2(),n=o2();function r(i,a){return e.cloneDeepWith(i,(l,u,f,d)=>{const h=a==null?void 0:a(l,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(f0)),f0}var WI;function qK(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UK();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(c0)),c0}var d0={},h0={},XI;function s2(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(h0)),h0}var p0={},QI;function BK(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i2();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(p0)),p0}var ZI;function zK(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jO(),n=s2(),r=BK(),i=PT();function a(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=a})(d0)),d0}var eR;function FK(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r2(),n=RT(),r=qK(),i=MT(),a=zK();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=l})(u0)),u0}var tR;function HK(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZO(),n=NK(),r=LK(),i=FK();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Jv)),Jv}var nR;function GK(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IK(),n=ZO(),r=MK(),i=HK();function a(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=a})(Fv)),Fv}var m0,rR;function $K(){return rR||(rR=1,m0=GK().uniqBy),m0}var KK=$K();const iR=Zi(KK);function jK(t,e,n){return e===!0?iR(t,n):typeof e=="function"?iR(t,e):t}var g0={exports:{}},y0={},v0={exports:{}},_0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function YK(){if(oR)return _0;oR=1;var t=yu();function e(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(m,_){var A=_(),b=r({inst:{value:A,getSnapshot:_}}),C=b[0].inst,w=b[1];return a(function(){C.value=A,C.getSnapshot=_,f(C)&&w({inst:C})},[m,A,_]),i(function(){return f(C)&&w({inst:C}),m(function(){f(C)&&w({inst:C})})},[m]),l(A),A}function f(m){var _=m.getSnapshot;m=m.value;try{var A=_();return!n(m,A)}catch{return!0}}function d(m,_){return _()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return _0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,_0}var aR;function JK(){return aR||(aR=1,v0.exports=YK()),v0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function WK(){if(sR)return y0;sR=1;var t=yu(),e=JK();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return y0.useSyncExternalStoreWithSelector=function(d,h,m,_,A){var b=a(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=u(function(){function M(K){if(!q){if(q=!0,k=K,K=_(K),A!==void 0&&C.hasValue){var P=C.value;if(A(P,K))return G=P}return G=K}if(P=G,r(k,K))return P;var O=_(K);return A!==void 0&&A(P,O)?(k=K,P):(k=K,G=O)}var q=!1,k,G,z=m===void 0?null:m;return[function(){return M(h())},z===null?void 0:function(){return M(z())}]},[h,m,_,A]);var w=i(d,b[0],b[1]);return l(function(){C.hasValue=!0,C.value=w},[w]),f(w),w},y0}var lR;function XK(){return lR||(lR=1,g0.exports=WK()),g0.exports}var QK=XK(),OT=R.createContext(null),ZK=t=>t,Tn=()=>{var t=R.useContext(OT);return t?t.store.dispatch:ZK},rp=()=>{},ej=()=>rp,tj=(t,e)=>t===e;function Pe(t){var e=R.useContext(OT);return QK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ej,e?e.store.getState:rp,e?e.store.getState:rp,e?t:rp,tj)}function nj(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function rj(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ij(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var uR=t=>Array.isArray(t)?t:[t];function oj(t){const e=Array.isArray(t[0])?t[0]:t;return ij(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function aj(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var sj=class{constructor(t){this.value=t}deref(){return this.value}},lj=typeof WeakRef<"u"?WeakRef:sj,uj=0,cR=1;function Vh(){return{s:uj,v:void 0,o:null,p:null}}function l2(t,e={}){let n=Vh();const{resultEqualityCheck:r}=e;let i,a=0;function l(){var m;let u=n;const{length:f}=arguments;for(let _=0,A=f;_<A;_++){const b=arguments[_];if(typeof b=="function"||typeof b=="object"&&b!==null){let C=u.o;C===null&&(u.o=C=new WeakMap);const w=C.get(b);w===void 0?(u=Vh(),C.set(b,u)):u=w}else{let C=u.p;C===null&&(u.p=C=new Map);const w=C.get(b);w===void 0?(u=Vh(),C.set(b,u)):u=w}}const d=u;let h;if(u.s===cR)h=u.v;else if(h=t.apply(null,arguments),a++,r){const _=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;_!=null&&r(_,h)&&(h=_,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new lj(h):h}return d.s=cR,d.v=h,h}return l.clearCache=()=>{n=Vh(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function cj(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),nj(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:_=[],argsMemoize:A=l2,argsMemoizeOptions:b=[]}=h,C=uR(_),w=uR(b),M=oj(i),q=m(function(){return a++,d.apply(null,arguments)},...C),k=A(function(){l++;const z=aj(M,arguments);return u=q.apply(null,z),u},...w);return Object.assign(k,{resultFunc:d,memoizedResultFunc:q,dependencies:M,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:A})};return Object.assign(r,{withTypes:()=>r}),r}var ie=cj(l2),fj=Object.assign((t,e=ie)=>{rj(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>fj}),E0={},T0={},A0={},fR;function dj(){return fR||(fR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};t.compareValues=n})(A0)),A0}var S0={},b0={},dR;function u2(){return dR||(dR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(b0)),b0}var hR;function hj(){return hR||(hR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u2(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(S0)),S0}var pR;function pj(){return pR||(pR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dj(),n=hj(),r=PT();function i(a,l,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(A=>String(A));const d=(A,b)=>{let C=A;for(let w=0;w<b.length&&C!=null;++w)C=C[b[w]];return C},h=(A,b)=>b==null||A==null?b:typeof A=="object"&&"key"in A?Object.hasOwn(b,A.key)?b[A.key]:d(b,A.path):typeof A=="function"?A(b):Array.isArray(A)?d(b,A):typeof b=="object"?b[A]:b,m=l.map(A=>(Array.isArray(A)&&A.length===1&&(A=A[0]),A==null||typeof A=="function"||Array.isArray(A)||n.isKey(A)?A:{key:A,path:r.toPath(A)}));return a.map(A=>({original:A,criteria:m.map(b=>h(b,A))})).slice().sort((A,b)=>{for(let C=0;C<m.length;C++){const w=e.compareValues(A.criteria[C],b.criteria[C],u[C]);if(w!==0)return w}return 0}).map(A=>A.original)}t.orderBy=i})(T0)),T0}var w0={},mR;function mj(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<a?l(h,f+1):i.push(h)}};return l(n,0),i}t.flatten=e})(w0)),w0}var C0={},gR;function c2(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s2(),n=DT(),r=e2(),i=n2();function a(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=a})(C0)),C0}var yR;function gj(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pj(),n=mj(),r=c2();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(E0)),E0}var x0,vR;function yj(){return vR||(vR=1,x0=gj().sortBy),x0}var vj=yj();const zm=Zi(vj);var f2=t=>t.legend.settings,_j=t=>t.legend.size,Ej=t=>t.legend.payload;ie([Ej,f2],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?zm(r,n):r});var Lh=1;function Tj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>Lh||Math.abs(l.left-e.left)>Lh||Math.abs(l.top-e.top)>Lh||Math.abs(l.width-e.width)>Lh)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Rn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Aj=typeof Symbol=="function"&&Symbol.observable||"@@observable",_R=Aj,I0=()=>Math.random().toString(36).substring(7).split("").join("."),Sj={INIT:`@@redux/INIT${I0()}`,REPLACE:`@@redux/REPLACE${I0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${I0()}`},Dp=Sj;function kT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function d2(t,e,n){if(typeof t!="function")throw new Error(Rn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rn(1));return n(d2)(t,e)}let r=t,i=e,a=new Map,l=a,u=0,f=!1;function d(){l===a&&(l=new Map,a.forEach((w,M)=>{l.set(M,w)}))}function h(){if(f)throw new Error(Rn(3));return i}function m(w){if(typeof w!="function")throw new Error(Rn(4));if(f)throw new Error(Rn(5));let M=!0;d();const q=u++;return l.set(q,w),function(){if(M){if(f)throw new Error(Rn(6));M=!1,d(),l.delete(q),a=null}}}function _(w){if(!kT(w))throw new Error(Rn(7));if(typeof w.type>"u")throw new Error(Rn(8));if(typeof w.type!="string")throw new Error(Rn(17));if(f)throw new Error(Rn(9));try{f=!0,i=r(i,w)}finally{f=!1}return(a=l).forEach(q=>{q()}),w}function A(w){if(typeof w!="function")throw new Error(Rn(10));r=w,_({type:Dp.REPLACE})}function b(){const w=m;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Rn(11));function q(){const G=M;G.next&&G.next(h())}return q(),{unsubscribe:w(q)}},[_R](){return this}}}return _({type:Dp.INIT}),{dispatch:_,subscribe:m,getState:h,replaceReducer:A,[_R]:b}}function bj(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Dp.INIT})>"u")throw new Error(Rn(12));if(typeof n(void 0,{type:Dp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rn(13))})}function h2(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{bj(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],_=n[m],A=l[m],b=_(A,u);if(typeof b>"u")throw u&&u.type,new Error(Rn(14));d[m]=b,f=f||b!==A}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Op(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function wj(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Rn(15))};const l={getState:i.getState,dispatch:(f,...d)=>a(f,...d)},u=t.map(f=>f(l));return a=Op(...u)(i.dispatch),{...i,dispatch:a}}}function p2(t){return kT(t)&&"type"in t&&typeof t.type=="string"}var m2=Symbol.for("immer-nothing"),ER=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function fi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Tf=Object.getPrototypeOf;function Fs(t){return!!t&&!!t[Ir]}function Mo(t){var e;return t?g2(t)||Array.isArray(t)||!!t[ER]||!!((e=t.constructor)!=null&&e[ER])||Bf(t)||Hm(t):!1}var Cj=Object.prototype.constructor.toString(),TR=new WeakMap;function g2(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=TR.get(n);return r===void 0&&(r=Function.toString.call(n),TR.set(n,r)),r===Cj}function kp(t,e,n=!0){Fm(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Fm(t){const e=t[Ir];return e?e.type_:Array.isArray(t)?1:Bf(t)?2:Hm(t)?3:0}function J_(t,e){return Fm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function y2(t,e,n){const r=Fm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function xj(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Bf(t){return t instanceof Map}function Hm(t){return t instanceof Set}function xs(t){return t.copy_||t.base_}function W_(t,e){if(Bf(t))return new Map(t);if(Hm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=g2(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ir];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Tf(t),r)}else{const r=Tf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function VT(t,e=!1){return Gm(t)||Fs(t)||!Mo(t)||(Fm(t)>1&&Object.defineProperties(t,{set:Uh,add:Uh,clear:Uh,delete:Uh}),Object.freeze(t),e&&Object.values(t).forEach(n=>VT(n,!0))),t}function Ij(){fi(2)}var Uh={value:Ij};function Gm(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Rj={};function Hs(t){const e=Rj[t];return e||fi(0,t),e}var Af;function v2(){return Af}function Pj(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AR(t,e){e&&(Hs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function X_(t){Q_(t),t.drafts_.forEach(Mj),t.drafts_=null}function Q_(t){t===Af&&(Af=t.parent_)}function SR(t){return Af=Pj(Af,t)}function Mj(t){const e=t[Ir];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ir].modified_&&(X_(e),fi(4)),Mo(t)&&(t=Vp(e,t),e.parent_||Lp(e,t)),e.patches_&&Hs("Patches").generateReplacementPatches_(n[Ir].base_,t,e.patches_,e.inversePatches_)):t=Vp(e,n,[]),X_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==m2?t:void 0}function Vp(t,e,n){if(Gm(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ir];if(!i)return kp(e,(a,l)=>wR(t,i,e,a,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Lp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),kp(l,(f,d)=>wR(t,i,a,f,d,n,u),r),Lp(t,a,!1),n&&t.patches_&&Hs("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function wR(t,e,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=Gm(i);if(!(u&&!l)){if(Fs(i)){const f=a&&e&&e.type_!==3&&!J_(e.assigned_,r)?a.concat(r):void 0,d=Vp(t,i,f);if(y2(n,r,d),Fs(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Mo(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Vp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Bf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Lp(t,i)}}}function Lp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&VT(e,n)}function Nj(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:v2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=LT;n&&(i=[r],a=Sf);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var LT={get(t,e){if(e===Ir)return t;const n=xs(t);if(!J_(n,e))return Dj(t,n,e);const r=n[e];return t.finalized_||!Mo(r)?r:r===R0(t.base_,e)?(P0(t),t.copy_[e]=eE(r,t)):r},has(t,e){return e in xs(t)},ownKeys(t){return Reflect.ownKeys(xs(t))},set(t,e,n){const r=_2(xs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=R0(xs(t),e),a=i==null?void 0:i[Ir];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(xj(n,i)&&(n!==void 0||J_(t.base_,e)))return!0;P0(t),Z_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return R0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,P0(t),Z_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){fi(11)},getPrototypeOf(t){return Tf(t.base_)},setPrototypeOf(){fi(12)}},Sf={};kp(LT,(t,e)=>{Sf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Sf.deleteProperty=function(t,e){return Sf.set.call(this,t,e,void 0)};Sf.set=function(t,e,n){return LT.set.call(this,t[0],e,n,t[0])};function R0(t,e){const n=t[Ir];return(n?xs(n):t)[e]}function Dj(t,e,n){var i;const r=_2(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function _2(t,e){if(!(e in t))return;let n=Tf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Tf(n)}}function Z_(t){t.modified_||(t.modified_=!0,t.parent_&&Z_(t.parent_))}function P0(t){t.copy_||(t.copy_=W_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Oj=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(f=a,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&fi(6),r!==void 0&&typeof r!="function"&&fi(7);let i;if(Mo(e)){const a=SR(this),l=eE(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?X_(a):Q_(a)}return AR(a,r),bR(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===m2&&(i=void 0),this.autoFreeze_&&VT(i,!0),r){const a=[],l=[];Hs("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else fi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Mo(t)||fi(8),Fs(t)&&(t=bo(t));const e=SR(this),n=eE(t,void 0);return n[Ir].isManual_=!0,Q_(e),n}finishDraft(t,e){const n=t&&t[Ir];(!n||!n.isManual_)&&fi(9);const{scope_:r}=n;return AR(r,e),bR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Hs("Patches").applyPatches_;return Fs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function eE(t,e){const n=Bf(t)?Hs("MapSet").proxyMap_(t,e):Hm(t)?Hs("MapSet").proxySet_(t,e):Nj(t,e);return(e?e.scope_:v2()).drafts_.push(n),n}function bo(t){return Fs(t)||fi(10,t),E2(t)}function E2(t){if(!Mo(t)||Gm(t))return t;const e=t[Ir];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=W_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=W_(t,!0);return kp(n,(i,a)=>{y2(n,i,E2(a))},r),e&&(e.finalized_=!1),n}var tE=new Oj,T2=tE.produce,kj=tE.setUseStrictIteration.bind(tE);function A2(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Vj=A2(),Lj=A2,Uj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Op:Op.apply(null,arguments)};function Wr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(xr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>p2(r)&&r.type===t,n}var S2=class ef extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ef.prototype)}static get[Symbol.species](){return ef}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ef(...e[0].concat(this)):new ef(...e.concat(this))}};function CR(t){return Mo(t)?T2(t,()=>{}):t}function qh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function qj(t){return typeof t=="boolean"}var Bj=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new S2;return n&&(qj(n)?l.push(Vj):l.push(Lj(n.extraArgument))),l},b2="RTK_autoBatch",ln=()=>t=>({payload:t,meta:{[b2]:!0}}),xR=t=>e=>{setTimeout(e,t)},w2=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xR(10):t.type==="callback"?t.queueNotification:xR(t.timeout),d=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),_=r.subscribe(m);return u.add(h),()=>{_(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[b2]),a=!i,a&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},zj=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new S2(t);return r&&i.push(w2(typeof r=="object"?r:void 0)),i};function Fj(t){const e=Bj(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(kT(n))u=h2(n);else throw new Error(xr(1));let f;typeof r=="function"?f=r(e):f=e();let d=Op;i&&(d=Uj({trace:!1,...typeof i=="object"&&i}));const h=wj(...f),m=zj(h);let _=typeof l=="function"?l(m):m();const A=d(..._);return d2(u,a,A)}function C2(t){const e={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(xr(28));if(u in e)throw new Error(xr(29));return e[u]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}kj(!1);function Hj(t){return typeof t=="function"}function Gj(t,e){let[n,r,i]=C2(e),a;if(Hj(t))a=()=>CR(t());else{const u=CR(t);a=()=>u}function l(u=a(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Fs(h)){const A=m(h,f);return A===void 0?h:A}else{if(Mo(h))return T2(h,_=>m(_,f));{const _=m(h,f);if(_===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return h},u)}return l.getInitialState=a,l}var $j="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Kj=(t=21)=>{let e="",n=t;for(;n--;)e+=$j[Math.random()*64|0];return e},jj=Symbol.for("rtk-slice-createasyncthunk");function Yj(t,e){return`${t}/${e}`}function Jj({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[jj];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(xr(11));const u=(typeof i.reducers=="function"?i.reducers(Xj()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(G,z){const K=typeof G=="string"?G:G.type;if(!K)throw new Error(xr(12));if(K in d.sliceCaseReducersByType)throw new Error(xr(13));return d.sliceCaseReducersByType[K]=z,h},addMatcher(G,z){return d.sliceMatchers.push({matcher:G,reducer:z}),h},exposeAction(G,z){return d.actionCreators[G]=z,h},exposeCaseReducer(G,z){return d.sliceCaseReducersByName[G]=z,h}};f.forEach(G=>{const z=u[G],K={reducerName:G,type:Yj(a,G),createNotation:typeof i.reducers=="function"};Zj(z)?tY(K,z,h,e):Qj(K,z,h)});function m(){const[G={},z=[],K=void 0]=typeof i.extraReducers=="function"?C2(i.extraReducers):[i.extraReducers],P={...G,...d.sliceCaseReducersByType};return Gj(i.initialState,O=>{for(let N in P)O.addCase(N,P[N]);for(let N of d.sliceMatchers)O.addMatcher(N.matcher,N.reducer);for(let N of z)O.addMatcher(N.matcher,N.reducer);K&&O.addDefaultCase(K)})}const _=G=>G,A=new Map,b=new WeakMap;let C;function w(G,z){return C||(C=m()),C(G,z)}function M(){return C||(C=m()),C.getInitialState()}function q(G,z=!1){function K(O){let N=O[G];return typeof N>"u"&&z&&(N=qh(b,K,M)),N}function P(O=_){const N=qh(A,z,()=>new WeakMap);return qh(N,O,()=>{const B={};for(const[V,F]of Object.entries(i.selectors??{}))B[V]=Wj(F,O,()=>qh(b,O,M),z);return B})}return{reducerPath:G,getSelectors:P,get selectors(){return P(K)},selectSlice:K}}const k={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:M,...q(l),injectInto(G,{reducerPath:z,...K}={}){const P=z??l;return G.inject({reducerPath:P,reducer:w},K),{...k,...q(P,!0)}}};return k}}function Wj(t,e,n,r){function i(a,...l){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var cr=Jj();function Xj(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Qj({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!eY(r))throw new Error(xr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Wr(t,l):Wr(t))}function Zj(t){return t._reducerDefinitionType==="asyncThunk"}function eY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(xr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,m=i(t,a,h);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Bh,pending:u||Bh,rejected:f||Bh,settled:d||Bh})}function Bh(){}var nY="task",x2="listener",I2="completed",UT="cancelled",rY=`task-${UT}`,iY=`task-${I2}`,nE=`${x2}-${UT}`,oY=`${x2}-${I2}`,$m=class{constructor(t){mv(this,"name","TaskAbortError");mv(this,"message");this.code=t,this.message=`${nY} ${UT} (reason: ${t})`}},qT=(t,e)=>{if(typeof t!="function")throw new TypeError(xr(32))},Up=()=>{},R2=(t,e=Up)=>(t.catch(e),t),P2=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Vs=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ls=t=>{if(t.aborted){const{reason:e}=t;throw new $m(e)}};function M2(t,e){let n=Up;return new Promise((r,i)=>{const a=()=>i(new $m(t.reason));if(t.aborted){a();return}n=P2(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Up})}var aY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof $m?"cancelled":"rejected",error:n}}finally{e==null||e()}},qp=t=>e=>R2(M2(t,e).then(n=>(Ls(t),n))),N2=t=>{const e=qp(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:iu}=Object,IR={},Km="listenerMiddleware",sY=(t,e)=>{const n=r=>P2(t,()=>Vs(r,t.reason));return(r,i)=>{qT(r);const a=new AbortController;n(a);const l=aY(async()=>{Ls(t),Ls(a.signal);const u=await r({pause:qp(a.signal),delay:N2(a.signal),signal:a.signal});return Ls(a.signal),u},()=>Vs(a,iY));return i!=null&&i.autoJoin&&e.push(l.catch(Up)),{result:qp(t)(l),cancel(){Vs(a,rY)}}}},lY=(t,e)=>{const n=async(r,i)=>{Ls(e);let a=()=>{};const u=[new Promise((f,d)=>{let h=t({predicate:r,effect:(m,_)=>{_.unsubscribe(),f([m,_.getState(),_.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await M2(e,Promise.race(u));return Ls(e),f}finally{a()}};return(r,i)=>R2(n(r,i))},D2=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Wr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(xr(21));return qT(a),{predicate:i,type:e,effect:a}},O2=iu(t=>{const{type:e,predicate:n,effect:r}=D2(t);return{id:Kj(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>O2}),RR=(t,e)=>{const{type:n,effect:r,predicate:i}=D2(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},rE=t=>{t.pending.forEach(e=>{Vs(e,nE)})},uY=(t,e)=>()=>{for(const n of e.keys())rE(n);t.clear()},PR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},k2=iu(Wr(`${Km}/add`),{withTypes:()=>k2}),cY=Wr(`${Km}/removeAll`),V2=iu(Wr(`${Km}/remove`),{withTypes:()=>V2}),fY=(...t)=>{console.error(`${Km}/error`,...t)},zf=(t={})=>{const e=new Map,n=new Map,r=A=>{const b=n.get(A)??0;n.set(A,b+1)},i=A=>{const b=n.get(A)??1;b===1?n.delete(A):n.set(A,b-1)},{extra:a,onError:l=fY}=t;qT(l);const u=A=>(A.unsubscribe=()=>e.delete(A.id),e.set(A.id,A),b=>{A.unsubscribe(),b!=null&&b.cancelActive&&rE(A)}),f=A=>{const b=RR(e,A)??O2(A);return u(b)};iu(f,{withTypes:()=>f});const d=A=>{const b=RR(e,A);return b&&(b.unsubscribe(),A.cancelActive&&rE(b)),!!b};iu(d,{withTypes:()=>d});const h=async(A,b,C,w)=>{const M=new AbortController,q=lY(f,M.signal),k=[];try{A.pending.add(M),r(A),await Promise.resolve(A.effect(b,iu({},C,{getOriginalState:w,condition:(G,z)=>q(G,z).then(Boolean),take:q,delay:N2(M.signal),pause:qp(M.signal),extra:a,signal:M.signal,fork:sY(M.signal,k),unsubscribe:A.unsubscribe,subscribe:()=>{e.set(A.id,A)},cancelActiveListeners:()=>{A.pending.forEach((G,z,K)=>{G!==M&&(Vs(G,nE),K.delete(G))})},cancel:()=>{Vs(M,nE),A.pending.delete(M)},throwIfCancelled:()=>{Ls(M.signal)}})))}catch(G){G instanceof $m||PR(l,G,{raisedBy:"effect"})}finally{await Promise.all(k),Vs(M,oY),i(A),A.pending.delete(M)}},m=uY(e,n);return{middleware:A=>b=>C=>{if(!p2(C))return b(C);if(k2.match(C))return f(C.payload);if(cY.match(C)){m();return}if(V2.match(C))return d(C.payload);let w=A.getState();const M=()=>{if(w===IR)throw new Error(xr(23));return w};let q;try{if(q=b(C),e.size>0){const k=A.getState(),G=Array.from(e.values());for(const z of G){let K=!1;try{K=z.predicate(C,k,w)}catch(P){K=!1,PR(l,P,{raisedBy:"predicate"})}K&&h(z,C,A,M)}}}finally{w=IR}return q},startListening:f,stopListening:d,clearListeners:m}};function xr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},L2=cr({name:"chartLayout",initialState:dY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:hY,setLayout:pY,setChartSize:mY,setScale:gY}=L2.actions,yY=L2.reducer;function U2(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){vY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vY(t,e,n){return(e=_Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Y(t){var e=EY(t,"string");return typeof e=="symbol"?e:e+""}function EY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return _n(t)||_n(e)?n:Wi(e)?Bm(t,e,n):typeof e=="function"?e(t):n}var TY=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Re(t[a]))return Wl(Wl({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Re(t[l]))return Wl(Wl({},t),{},{[l]:t[l]+(i||0)})}return t},Ka=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",q2=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(e),a||l.push(n),l},B2=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:_,axisType:A}=t;if(!l)return null;var b=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,C=i==="category"&&l.bandwidth?l.bandwidth()/b:0;if(C=A==="angleAxis"&&a&&a.length>=2?jr(a[0]-a[1])*2*C:C,m||_){var w=(m||_||[]).map((M,q)=>{var k=r?r.indexOf(M):M;return{coordinate:l(k)+C,value:M,offset:C,index:q}});return w.filter(M=>!Ji(M.coordinate))}return f&&d?d.map((M,q)=>({coordinate:l(M)+C,value:M,index:q,offset:C})):l.ticks&&h!=null?l.ticks(h).map((M,q)=>({coordinate:l(M)+C,value:M,offset:C,index:q})):l.domain().map((M,q)=>({coordinate:l(M)+C,value:r?r[M]:M,index:q,offset:C}))},NR=1e-4,AY=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-NR,a=Math.max(r[0],r[1])+NR,l=t(e[0]),u=t(e[n-1]);(l<i||l>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},SY=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var u=Ji(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1])}},bY=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=Ji(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},wY={sign:SY,expand:rK,none:du,silhouette:iK,wiggle:oK,positive:bY},CY=(t,e,n)=>{var r=wY[n],i=nK().keys(e).value((a,l)=>Number(Yn(a,l,0))).order(j_).offset(r);return i(t)};function DR(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_n(i[e.dataKey])){var u=JO(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=Yn(i,_n(l)?e.dataKey:l);return _n(f)?null:e.scale(f)}var xY=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},IY=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],RY=(t,e,n)=>{if(t!=null)return IY(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,u=l.reduce((f,d)=>{var h=U2(d,e,n),m=xY(h);return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},OR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=zm(e,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];a=Math.min((f.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function VR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Wl(Wl({},e),{},{dataKey:n,payload:r,value:i,name:a})}function z2(t,e){if(t)return String(t);if(typeof e=="string")return e}var PY=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},MY=(t,e)=>e==="centric"?t.angle:t.radius,Uo=t=>t.layout.width,qo=t=>t.layout.height,NY=t=>t.layout.scale,F2=t=>t.layout.margin,jm=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Ym=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),DY="data-recharts-item-index",OY="data-recharts-item-data-key",Ff=60;function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){kY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kY(t,e,n){return(e=VY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VY(t){var e=LY(t,"string");return typeof e=="symbol"?e:e+""}function LY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UY=t=>t.brush.height;function qY(t){var e=Ym(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ff;return n+i}return n},0)}function BY(t){var e=Ym(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ff;return n+i}return n},0)}function zY(t){var e=jm(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function FY(t){var e=jm(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var kn=ie([Uo,qo,F2,UY,qY,BY,zY,FY,f2,_j],(t,e,n,r,i,a,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},_=zh(zh({},m),h),A=_.bottom;_.bottom+=r,_=TY(_,f,d);var b=t-_.left-_.right,C=e-_.top-_.bottom;return zh(zh({brushBottom:A},_),{},{width:Math.max(b,0),height:Math.max(C,0)})}),HY=ie(kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),H2=ie(Uo,qo,(t,e)=>({x:0,y:0,width:t,height:e})),GY=R.createContext(null),fr=()=>R.useContext(GY)!=null,Jm=t=>t.brush,Wm=ie([Jm,kn,F2],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Re(t.width)?t.width:e.width})),M0={},N0={},D0={},UR;function $Y(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,u=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),C()};let _=null;const A=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,m()},r)},b=()=>{_!==null&&(clearTimeout(_),_=null)},C=()=>{b(),l=void 0,u=null},w=()=>{h()},M=function(...q){if(i!=null&&i.aborted)return;l=this,u=q;const k=_==null;A(),f&&k&&h()};return M.schedule=A,M.cancel=C,M.flush=w,i==null||i.addEventListener("abort",C,{once:!0}),M}t.debounce=e})(D0)),D0}var qR;function KY(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Y();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:f}=a,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const _=e.debounce(function(...C){h=r.apply(this,C),m=null},i,{edges:d}),A=function(...C){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,C),m=Date.now(),_.cancel(),_.schedule(),h):(_.apply(this,C),h)},b=()=>(_.flush(),h);return A.cancel=_.cancel,A.flush=b,A}t.debounce=n})(N0)),N0}var BR;function jY(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KY();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(M0)),M0}var O0,zR;function YY(){return zR||(zR=1,O0=jY().throttle),O0}var JY=YY();const WY=Zi(JY);var zp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},G2=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,u=Po(r)?t:Number(r),f=Po(i)?e:Number(i);return a&&a>0&&(u?f=u/a:f&&(u=f*a),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},XY={width:0,height:0,overflow:"visible"},QY={width:0,overflowX:"visible"},ZY={height:0,overflowY:"visible"},eJ={},tJ=t=>{var{width:e,height:n}=t,r=Po(e),i=Po(n);return r&&i?XY:r?QY:i?ZY:eJ};function nJ(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function En(t){return Number.isFinite(t)}function Xi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(null,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return(e=iJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $2=R.createContext({width:-1,height:-1});function aJ(t){return Xi(t.width)&&Xi(t.height)}function K2(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return aJ(i)?R.createElement($2.Provider,{value:i},e):null}var BT=()=>R.useContext($2),sJ=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:m,className:_,onResize:A,style:b={}}=t,C=R.useRef(null),w=R.useRef();w.current=A,R.useImperativeHandle(e,()=>C.current);var[M,q]=R.useState({containerWidth:r.width,containerHeight:r.height}),k=R.useCallback((O,N)=>{q(B=>{var V=Math.round(O),F=Math.round(N);return B.containerWidth===V&&B.containerHeight===F?B:{containerWidth:V,containerHeight:F}})},[]);R.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return xu;var O=F=>{var U,{width:ye,height:we}=F[0].contentRect;k(ye,we),(U=w.current)===null||U===void 0||U.call(w,ye,we)};h>0&&(O=WY(O,h,{trailing:!0,leading:!1}));var N=new ResizeObserver(O),{width:B,height:V}=C.current.getBoundingClientRect();return k(B,V),N.observe(C.current),()=>{N.disconnect()}},[k,h]);var{containerWidth:G,containerHeight:z}=M;zp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:K,calculatedHeight:P}=G2(G,z,{width:i,height:a,aspect:n,maxHeight:f});return zp(K!=null&&K>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,P,i,a,l,u,n),R.createElement("div",{id:m?"".concat(m):void 0,className:vt("recharts-responsive-container",_),style:HR(HR({},b),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:f}),ref:C},R.createElement("div",{style:tJ({width:i,height:a})},R.createElement(K2,{width:K,height:P},d)))}),lJ=R.forwardRef((t,e)=>{var n=BT();if(Xi(n.width)&&Xi(n.height))return t.children;var{width:r,height:i}=nJ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=G2(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Re(a)&&Re(l)?R.createElement(K2,{width:a,height:l},t.children):R.createElement(sJ,iE({},t,{width:r,height:i,ref:e}))});function j2(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Xm=()=>{var t,e=fr(),n=Pe(HY),r=Pe(Wm),i=(t=Pe(Jm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},uJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Y2=()=>{var t;return(t=Pe(kn))!==null&&t!==void 0?t:uJ},J2=()=>Pe(Uo),W2=()=>Pe(qo),Ct=t=>t.layout.layoutType,Qm=()=>Pe(Ct),cJ=()=>{var t=Qm();return t!==void 0},Zm=t=>{var e=Tn(),n=fr(),{width:r,height:i}=t,a=BT(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),R.useEffect(()=>{!n&&Xi(l)&&Xi(u)&&e(mY({width:l,height:u}))},[e,n,l,u]),null},fJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},X2=cr({name:"legend",initialState:fJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:ln()},removeLegendPayload:{reducer(t,e){var n=bo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:ln()}}}),{setLegendSize:sle,setLegendSettings:lle,addLegendPayload:dJ,removeLegendPayload:hJ}=X2.actions,pJ=X2.reducer;function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(null,arguments)}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){mJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mJ(t,e,n){return(e=gJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=yJ(t,"string");return typeof e=="symbol"?e:e+""}function yJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vJ(t){return Array.isArray(t)&&Wi(t[0])&&Wi(t[1])?t.join(" ~ "):t}var _J=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:_=!1}=t,A=()=>{if(a&&a.length){var z={padding:0,margin:0},K=(u?zm(a,u):a).map((P,O)=>{if(P.type==="none")return null;var N=P.formatter||l||vJ,{value:B,name:V}=P,F=B,U=V;if(N){var ye=N(B,V,P,O,a);if(Array.isArray(ye))[F,U]=ye;else if(ye!=null)F=ye;else return null}var we=k0({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:we},Wi(U)?R.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Wi(U)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},F),R.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:z},K)}return null},b=k0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),C=k0({margin:0},i),w=!_n(h),M=w?h:"",q=vt("recharts-default-tooltip",f),k=vt("recharts-tooltip-label",d);w&&m&&a!==void 0&&a!==null&&(M=m(h,a));var G=_?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",oE({className:q,style:b},G),R.createElement("p",{className:k,style:C},R.isValidElement(M)?M:"".concat(M)),A())},zc="recharts-tooltip-wrapper",EJ={visibility:"hidden"};function TJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return vt(zc,{["".concat(zc,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(zc,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(zc,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(zc,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function $R(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(a&&Re(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?h:m;var _=f[r];if(_==null)return 0;if(l[r]){var A=h,b=_;return A<b?Math.max(m,_):Math.max(h,_)}if(d==null)return 0;var C=m+u,w=_+d;return C>w?Math.max(h,_):Math.max(m,_)}function AJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function SJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,d,h,m;return l.height>0&&l.width>0&&n?(h=$R({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=$R({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=AJ({translateX:h,translateY:m,useTranslate3d:u})):d=EJ,{cssProperties:d,cssClasses:TJ({translateX:h,translateY:m,coordinate:n})}}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){aE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aE(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=wJ(t,"string");return typeof e=="symbol"?e:e+""}function wJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class CJ extends R.PureComponent{constructor(){super(...arguments),aE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),aE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:_,viewBox:A,wrapperStyle:b,lastBoundingBox:C,innerRef:w,hasPortalFromProps:M}=this.props,{cssClasses:q,cssProperties:k}=SJ({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:C.height,width:C.width},useTranslate3d:_,viewBox:A}),G=M?{}:Fh(Fh({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),z=Fh(Fh({},G),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},b);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:q,style:z,ref:w},a)}}var xJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Iu={devToolsEnabled:!1,isSsr:xJ()},Q2=()=>{var t;return(t=Pe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(null,arguments)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){IJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IJ(t,e,n){return(e=RJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=PJ(t,"string");return typeof e=="symbol"?e:e+""}function PJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JR={curveBasisClosed:$$,curveBasisOpen:K$,curveBasis:G$,curveBumpX:P$,curveBumpY:M$,curveLinearClosed:j$,curveLinear:Um,curveMonotoneX:Y$,curveMonotoneY:J$,curveNatural:W$,curveStep:X$,curveStepAfter:Z$,curveStepBefore:Q$},Fp=t=>En(t.x)&&En(t.y),WR=t=>t.base!=null&&Fp(t.base)&&Fp(t),Fc=t=>t.x,Hc=t=>t.y,MJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(qf(t));return(n==="curveMonotone"||n==="curveBump")&&e?JR["".concat(n).concat(e==="vertical"?"Y":"X")]:JR[n]||Um},NJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=MJ(e,i),u=a?n.filter(Fp):n,f;if(Array.isArray(r)){var d=n.map((A,b)=>YR(YR({},A),{},{base:r[b]}));i==="vertical"?f=kh().y(Hc).x1(Fc).x0(A=>A.base.x):f=kh().x(Fc).y1(Hc).y0(A=>A.base.y);var h=f.defined(WR).curve(l),m=a?d.filter(WR):d;return h(m)}i==="vertical"&&Re(r)?f=kh().y(Hc).x1(Fc).x0(r):Re(r)?f=kh().x(Fc).y1(Hc).y0(r):f=VO().x(Fc).y(Hc);var _=f.defined(Fp).curve(l);return _(u)},Z2=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?NJ(t):r;return R.createElement("path",sE({},Yi(t),NT(t),{className:vt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},DJ=["x","y","top","left","width","height","className"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){kJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJ(t,e,n){return(e=VJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=LJ(t,"string");return typeof e=="symbol"?e:e+""}function LJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UJ(t,e){if(t==null)return{};var n,r,i=qJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BJ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),zJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=t,f=UJ(t,DJ),d=OJ({x:e,y:n,top:r,left:i,width:a,height:l},f);return!Re(e)||!Re(n)||!Re(a)||!Re(l)||!Re(r)||!Re(i)?null:R.createElement("path",lE({},Jn(d),{className:vt("recharts-cross",u),d:BJ(e,n,a,l,r,i)}))};function FJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){HJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJ(t,e,n){return(e=GJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=$J(t,"string");return typeof e=="symbol"?e:e+""}function $J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KJ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),ek=(t,e,n)=>t.map(r=>"".concat(KJ(r)," ").concat(e,"ms ").concat(n)).join(","),jJ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),bf=(t,e)=>Object.keys(e).reduce((n,r)=>ZR(ZR({},n),{},{[r]:t(r,e[r])}),{});function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=JJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=WJ(t,"string");return typeof e=="symbol"?e:e+""}function WJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hp=(t,e,n)=>t+(e-t)*n,uE=t=>{var{from:e,to:n}=t;return e!==n},tk=(t,e,n)=>{var r=bf((i,a)=>{if(uE(a)){var[l,u]=t(a.from,a.to,a.velocity);return sn(sn({},a),{},{from:l,velocity:u})}return a},e);return n<1?bf((i,a)=>uE(a)?sn(sn({},a),{},{velocity:Hp(a.velocity,r[i].velocity,n),from:Hp(a.from,r[i].from,n)}):a,e):tk(t,r,n-1)};function XJ(t,e,n,r,i,a){var l,u=r.reduce((_,A)=>sn(sn({},_),{},{[A]:{from:t[A],velocity:0,to:e[A]}}),{}),f=()=>bf((_,A)=>A.from,u),d=()=>!Object.values(u).filter(uE).length,h=null,m=_=>{l||(l=_);var A=_-l,b=A/n.dt;u=tk(n,u,b),i(sn(sn(sn({},t),e),f())),l=_,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var _;(_=h)===null||_===void 0||_()})}function QJ(t,e,n,r,i,a,l){var u=null,f=i.reduce((m,_)=>sn(sn({},m),{},{[_]:[t[_],e[_]]}),{}),d,h=m=>{d||(d=m);var _=(m-d)/r,A=bf((C,w)=>Hp(...w,n(_)),f);if(a(sn(sn(sn({},t),e),A)),_<1)u=l.setTimeout(h);else{var b=bf((C,w)=>Hp(...w,n(1)),f);a(sn(sn(sn({},t),e),b))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const ZJ=(t,e,n,r,i,a)=>{var l=jJ(t,e);return n==null?()=>(i(sn(sn({},t),e)),()=>{}):n.isStepper===!0?XJ(t,e,n,l,i,a):QJ(t,e,n,r,l,i,a)};var Gp=1e-4,nk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],rk=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),tP=(t,e)=>n=>{var r=nk(t,e);return rk(r,n)},eW=(t,e)=>n=>{var r=nk(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return rk(i,n)},tW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},nW=(t,e,n,r)=>{var i=tP(t,n),a=tP(e,r),l=eW(t,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,_=0;_<8;++_){var A=i(m)-h,b=l(m);if(Math.abs(A-h)<Gp||b<Gp)return a(m);m=u(m-A/b)}return a(m)};return f.isStepper=!1,f},nP=function(){return nW(...tW(...arguments))},rW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,u,f)=>{var d=-(l-u)*n,h=f*r,m=f+(d-h)*i/1e3,_=f*i/1e3+l;return Math.abs(_-u)<Gp&&Math.abs(m)<Gp?[u,0]:[_,m]};return a.isStepper=!0,a.dt=i,a},iW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nP(t);case"spring":return rW();default:if(t.split("(")[0]==="cubic-bezier")return nP(t)}return typeof t=="function"?t:null};function oW(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,d),f);return}a(f),i=t.setTimeout(a.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class aW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function sW(){return oW(new aW)}var lW=R.createContext(sW);function uW(t,e){var n=R.useContext(lW);return R.useMemo(()=>e??n(t),[t,e,n])}var cW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rP={t:0},V0={t:1};function zT(t){var e=ur(t,cW),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=e,h=uW(e.animationId,e.animationManager),[m,_]=R.useState(n?rP:V0),A=R.useRef(null);return R.useEffect(()=>{n||_(V0)},[n]),R.useEffect(()=>{if(!n||!r)return xu;var b=ZJ(rP,V0,iW(a),i,_,h.getTimeoutController()),C=()=>{A.current=b()};return h.start([f,l,C,i,u]),()=>{h.stop(),A.current&&A.current(),u()}},[n,r,i,a,l,f,u,h]),d(m.t)}function FT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(Ef(e)),r=R.useRef(t);return r.current!==t&&(n.current=Ef(e),r.current=t),n.current}var fW=["radius"],dW=["radius"];function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){hW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hW(t,e,n){return(e=pW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pW(t){var e=mW(t,"string");return typeof e=="symbol"?e:e+""}function mW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(null,arguments)}function aP(t,e){if(t==null)return{};var n,r,i=gW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sP=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,_=4;m<_;m++)h[m]=i[m]>a?a:i[m];d="M".concat(t,",").concat(e+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*h[1])),d+="L ".concat(t+n,",").concat(e+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var A=Math.min(a,i);d="M ".concat(t,",").concat(e+l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(f,",").concat(t+u*A,",").concat(e,`
            L `).concat(t+n-u*A,",").concat(e,`
            A `).concat(A,",").concat(A,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*A,`
            L `).concat(t+n,",").concat(e+r-l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(f,",").concat(t+n-u*A,",").concat(e+r,`
            L `).concat(t+u*A,",").concat(e+r,`
            A `).concat(A,",").concat(A,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*A," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},lP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ik=t=>{var e=ur(t,lP),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:a,y:l,width:u,height:f,radius:d,className:h}=e,{animationEasing:m,animationDuration:_,animationBegin:A,isAnimationActive:b,isUpdateAnimationActive:C}=e,w=R.useRef(u),M=R.useRef(f),q=R.useRef(a),k=R.useRef(l),G=R.useMemo(()=>({x:a,y:l,width:u,height:f,radius:d}),[a,l,u,f,d]),z=FT(G,"rectangle-");if(a!==+a||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var K=vt("recharts-rectangle",h);if(!C){var P=Jn(e),{radius:O}=P,N=aP(P,fW);return R.createElement("path",$p({},N,{radius:typeof d=="number"?d:void 0,className:K,d:sP(a,l,u,f,d)}))}var B=w.current,V=M.current,F=q.current,U=k.current,ye="0px ".concat(r===-1?1:r,"px"),we="".concat(r,"px 0px"),W=ek(["strokeDasharray"],_,typeof m=="string"?m:lP.animationEasing);return R.createElement(zT,{animationId:z,key:z,canBegin:r>0,duration:_,easing:m,isActive:C,begin:A},re=>{var he=sr(B,u,re),ve=sr(V,f,re),ke=sr(F,a,re),j=sr(U,l,re);n.current&&(w.current=he,M.current=ve,q.current=ke,k.current=j);var oe;b?re>0?oe={transition:W,strokeDasharray:we}:oe={strokeDasharray:ye}:oe={strokeDasharray:we};var pe=Jn(e),{radius:ge}=pe,Ie=aP(pe,dW);return R.createElement("path",$p({},Ie,{radius:typeof d=="number"?d:void 0,className:K,d:sP(ke,j,he,ve,d),ref:n,style:oP(oP({},oe),e.style)}))})};function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){yW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yW(t,e,n){return(e=vW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vW(t){var e=_W(t,"string");return typeof e=="symbol"?e:e+""}function _W(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kp=Math.PI/180,EW=t=>t*180/Math.PI,Nn=(t,e,n,r)=>({x:t+Math.cos(-Kp*r)*n,y:e+Math.sin(-Kp*r)*n}),TW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},SW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=AW({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:l,angle:EW(f),angleInRadian:f}},bW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},wW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},CW=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=SW({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=bW(e),h=a,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?cP(cP({},e),{},{radius:i,angle:wW(h,e)}):null};function ok(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=Nn(e,n,r,i),u=Nn(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}var xW=(t,e)=>{var n=jr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Hh=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,d=u*(l?1:-1)+r,h=Math.asin(u/d)/Kp,m=f?i:i+a*h,_=Nn(e,n,d,m),A=Nn(e,n,r,m),b=f?i-a*h:i,C=Nn(e,n,d*Math.cos(h*Kp),b);return{center:_,circleTangency:A,lineTangency:C,theta:h}},ak=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,u=xW(a,l),f=a+u,d=Nn(e,n,i,a),h=Nn(e,n,i,f),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var _=Nn(e,n,r,a),A=Nn(e,n,r,f);m+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},IW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=t,h=jr(d-f),{circleTangency:m,lineTangency:_,theta:A}=Hh({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:b,lineTangency:C,theta:w}=Hh({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),M=u?Math.abs(f-d):Math.abs(f-d)-A-w;if(M<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):ak({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var q="M ".concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:G,theta:z}=Hh({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:K,lineTangency:P,theta:O}=Hh({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),N=u?Math.abs(f-d):Math.abs(f-d)-z-O;if(N<0&&a===0)return"".concat(q,"L").concat(e,",").concat(n,"Z");q+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,"Z")}else q+="L".concat(e,",").concat(n,"Z");return q},RW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sk=t=>{var e=ur(t,RW),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=e;if(a<i||d===h)return null;var _=vt("recharts-sector",m),A=a-i,b=Fa(l,A,0,!0),C;return b>0&&Math.abs(d-h)<360?C=IW({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,A/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):C=ak({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),R.createElement("path",cE({},Jn(e),{className:_,d:C}))};function PW(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(QO(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=e,f=Nn(r,i,a,u),d=Nn(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return ok(e)}}var L0={},U0={},q0={},fP;function MW(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u2();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(q0)),q0}var dP;function NW(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MW();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(U0)),U0}var hP;function DW(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c2(),n=NW();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}t.range=r})(L0)),L0}var B0,pP;function OW(){return pP||(pP=1,B0=DW().range),B0}var kW=OW();const lk=Zi(kW);function Oa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HT(t){let e,n,r;t.length!==2?(e=Oa,n=(u,f)=>Oa(t(u),f),r=(u,f)=>t(u)-f):(e=t===Oa||t===VW?t:LW,n=t,r=t);function i(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function a(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:l,right:a}}function LW(){return 0}function uk(t){return t===null?NaN:+t}function*UW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qW=HT(Oa),Hf=qW.right;HT(uk).center;class mP extends Map{constructor(e,n=FW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gP(this,e))}has(e){return super.has(gP(this,e))}set(e,n){return super.set(BW(this,e),n)}delete(e){return super.delete(zW(this,e))}}function gP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function BW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function FW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function HW(t=Oa){if(t===Oa)return ck;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ck(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const GW=Math.sqrt(50),$W=Math.sqrt(10),KW=Math.sqrt(2);function jp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=GW?10:a>=$W?5:a>=KW?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?jp(t,e,n*2):[u,f,d]}function fE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?jp(e,t,n):jp(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(a-d)/-l;else for(let d=0;d<u;++d)f[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function dE(t,e,n){return e=+e,t=+t,n=+n,jp(t,e,n)[2]}function hE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dE(e,t,n):dE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function yP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function fk(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ck:HW(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),A=Math.max(n,Math.floor(e-d*m/f+_)),b=Math.min(r,Math.floor(e+(f-d)*m/f+_));fk(t,e,A,b,i)}const a=t[e];let l=n,u=r;for(Gc(t,n,e),i(t[r],a)>0&&Gc(t,n,r);l<u;){for(Gc(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Gc(t,n,u):(++u,Gc(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Gc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jW(t,e,n){if(t=Float64Array.from(UW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return vP(t);if(e>=1)return yP(t);var r,i=(r-1)*e,a=Math.floor(i),l=yP(fk(t,a).subarray(0,a+1)),u=vP(t.subarray(a+1));return l+(u-l)*(i-a)}}function YW(t,e,n=uk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function JW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pE=Symbol("implicit");function GT(){var t=new mP,e=[],n=[],r=pE;function i(a){let l=t.get(a);if(l===void 0){if(r!==pE)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new mP;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GT(e,n).unknown(r)},Qr.apply(i,arguments),i}function $T(){var t=GT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,f=0,d=0,h=.5;delete t.unknown;function m(){var _=e().length,A=i<r,b=A?i:r,C=A?r:i;a=(C-b)/Math.max(1,_-f+d*2),u&&(a=Math.floor(a)),b+=(C-b-a*(_-f))*h,l=a*(1-f),u&&(b=Math.round(b),l=Math.round(l));var w=JW(_).map(function(M){return b+a*M});return n(A?w.reverse():w)}return t.domain=function(_){return arguments.length?(e(_),m()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(_){return arguments.length?(u=!!_,m()):u},t.padding=function(_){return arguments.length?(f=Math.min(1,d=+_),m()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),m()):f},t.paddingOuter=function(_){return arguments.length?(d=+_,m()):d},t.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),m()):h},t.copy=function(){return $T(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},Qr.apply(m(),arguments)}function dk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dk(e())},t}function WW(){return dk($T.apply(null,arguments).paddingInner(1))}function KT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gf(){}var wf=.7,Yp=1/wf,ou="\\s*([+-]?\\d+)\\s*",Cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XW=/^#([0-9a-f]{3,8})$/,QW=new RegExp(`^rgb\\(${ou},${ou},${ou}\\)$`),ZW=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),eX=new RegExp(`^rgba\\(${ou},${ou},${ou},${Cf}\\)$`),tX=new RegExp(`^rgba\\(${$i},${$i},${$i},${Cf}\\)$`),nX=new RegExp(`^hsl\\(${Cf},${$i},${$i}\\)$`),rX=new RegExp(`^hsla\\(${Cf},${$i},${$i},${Cf}\\)$`),_P={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KT(Gf,xf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:EP,formatHex:EP,formatHex8:iX,formatHsl:oX,formatRgb:TP,toString:TP});function EP(){return this.rgb().formatHex()}function iX(){return this.rgb().formatHex8()}function oX(){return pk(this).formatHsl()}function TP(){return this.rgb().formatRgb()}function xf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?AP(e):n===3?new lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QW.exec(t))?new lr(e[1],e[2],e[3],1):(e=ZW.exec(t))?new lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eX.exec(t))?Gh(e[1],e[2],e[3],e[4]):(e=tX.exec(t))?Gh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nX.exec(t))?wP(e[1],e[2]/100,e[3]/100,1):(e=rX.exec(t))?wP(e[1],e[2]/100,e[3]/100,e[4]):_P.hasOwnProperty(t)?AP(_P[t]):t==="transparent"?new lr(NaN,NaN,NaN,0):null}function AP(t){return new lr(t>>16&255,t>>8&255,t&255,1)}function Gh(t,e,n,r){return r<=0&&(t=e=n=NaN),new lr(t,e,n,r)}function aX(t){return t instanceof Gf||(t=xf(t)),t?(t=t.rgb(),new lr(t.r,t.g,t.b,t.opacity)):new lr}function mE(t,e,n,r){return arguments.length===1?aX(t):new lr(t,e,n,r??1)}function lr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}KT(lr,mE,hk(Gf,{brighter(t){return t=t==null?Yp:Math.pow(Yp,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wf:Math.pow(wf,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lr(Us(this.r),Us(this.g),Us(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SP,formatHex:SP,formatHex8:sX,formatRgb:bP,toString:bP}));function SP(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function sX(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function bP(){const t=Jp(this.opacity);return`${t===1?"rgb(":"rgba("}${Us(this.r)}, ${Us(this.g)}, ${Us(this.b)}${t===1?")":`, ${t})`}`}function Jp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Us(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ps(t){return t=Us(t),(t<16?"0":"")+t.toString(16)}function wP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new di(t,e,n,r)}function pk(t){if(t instanceof di)return new di(t.h,t.s,t.l,t.opacity);if(t instanceof Gf||(t=xf(t)),!t)return new di;if(t instanceof di)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,f=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?a+i:2-a-i,l*=60):u=f>0&&f<1?0:l,new di(l,u,f,t.opacity)}function lX(t,e,n,r){return arguments.length===1?pk(t):new di(t,e,n,r??1)}function di(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}KT(di,lX,hk(Gf,{brighter(t){return t=t==null?Yp:Math.pow(Yp,t),new di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wf:Math.pow(wf,t),new di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new lr(z0(t>=240?t-240:t+120,i,r),z0(t,i,r),z0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new di(CP(this.h),$h(this.s),$h(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jp(this.opacity);return`${t===1?"hsl(":"hsla("}${CP(this.h)}, ${$h(this.s)*100}%, ${$h(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CP(t){return t=(t||0)%360,t<0?t+360:t}function $h(t){return Math.max(0,Math.min(1,t||0))}function z0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jT=t=>()=>t;function uX(t,e){return function(n){return t+n*e}}function cX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fX(t){return(t=+t)==1?mk:function(e,n){return n-e?cX(e,n,t):jT(isNaN(e)?n:e)}}function mk(t,e){var n=e-t;return n?uX(t,n):jT(isNaN(t)?e:t)}const xP=(function t(e){var n=fX(e);function r(i,a){var l=n((i=mE(i)).r,(a=mE(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),d=mk(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function dX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function hX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Ru(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function mX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Wp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ru(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var gE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F0=new RegExp(gE.source,"g");function yX(t){return function(){return t}}function vX(t){return function(e){return t(e)+""}}function _X(t,e){var n=gE.lastIndex=F0.lastIndex=0,r,i,a,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=gE.exec(t))&&(i=F0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Wp(r,i)})),n=F0.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?vX(f[0].x):yX(e):(e=f.length,function(d){for(var h=0,m;h<e;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function Ru(t,e){var n=typeof e,r;return e==null||n==="boolean"?jT(e):(n==="number"?Wp:n==="string"?(r=xf(e))?(e=r,xP):_X:e instanceof xf?xP:e instanceof Date?mX:hX(e)?dX:Array.isArray(e)?pX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gX:Wp)(t,e)}function YT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function EX(t,e){e===void 0&&(e=t,t=Ru);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function TX(t){return function(){return t}}function Xp(t){return+t}var IP=[0,1];function Kn(t){return t}function yE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:TX(isNaN(e)?NaN:.5)}function AX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function SX(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=yE(i,r),a=n(l,a)):(r=yE(r,i),a=n(a,l)),function(u){return a(r(u))}}function bX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=yE(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var f=Hf(t,u,1,r)-1;return a[f](i[f](u))}}function $f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eg(){var t=IP,e=IP,n=Ru,r,i,a,l=Kn,u,f,d;function h(){var _=Math.min(t.length,e.length);return l!==Kn&&(l=AX(t[0],t[_-1])),u=_>2?bX:SX,f=d=null,m}function m(_){return _==null||isNaN(_=+_)?a:(f||(f=u(t.map(r),e,n)))(r(l(_)))}return m.invert=function(_){return l(i((d||(d=u(e,t.map(r),Wp)))(_)))},m.domain=function(_){return arguments.length?(t=Array.from(_,Xp),h()):t.slice()},m.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},m.rangeRound=function(_){return e=Array.from(_),n=YT,h()},m.clamp=function(_){return arguments.length?(l=_?!0:Kn,h()):l!==Kn},m.interpolate=function(_){return arguments.length?(n=_,h()):n},m.unknown=function(_){return arguments.length?(a=_,m):a},function(_,A){return r=_,i=A,h()}}function JT(){return eg()(Kn,Kn)}function wX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hu(t){return t=Qp(Math.abs(t)),t?t[1]:NaN}function CX(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function xX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var IX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function If(t){if(!(e=IX.exec(t)))throw new Error("invalid format: "+t);var e;return new WT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}If.prototype=WT.prototype;function WT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}WT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gk;function PX(t,e){var n=Qp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(gk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qp(t,Math.max(0,e+a-1))[0]}function RP(t,e){var n=Qp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const PP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>RP(t*100,e),r:RP,s:PX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function MP(t){return t}var NP=Array.prototype.map,DP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MX(t){var e=t.grouping===void 0||t.thousands===void 0?MP:CX(NP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?MP:xX(NP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m){m=If(m);var _=m.fill,A=m.align,b=m.sign,C=m.symbol,w=m.zero,M=m.width,q=m.comma,k=m.precision,G=m.trim,z=m.type;z==="n"?(q=!0,z="g"):PP[z]||(k===void 0&&(k=12),G=!0,z="g"),(w||_==="0"&&A==="=")&&(w=!0,_="0",A="=");var K=C==="$"?n:C==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",P=C==="$"?r:/[%p]/.test(z)?l:"",O=PP[z],N=/[defgprs%]/.test(z);k=k===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function B(V){var F=K,U=P,ye,we,W;if(z==="c")U=O(V)+U,V="";else{V=+V;var re=V<0||1/V<0;if(V=isNaN(V)?f:O(Math.abs(V),k),G&&(V=RX(V)),re&&+V==0&&b!=="+"&&(re=!1),F=(re?b==="("?b:u:b==="-"||b==="("?"":b)+F,U=(z==="s"?DP[8+gk/3]:"")+U+(re&&b==="("?")":""),N){for(ye=-1,we=V.length;++ye<we;)if(W=V.charCodeAt(ye),48>W||W>57){U=(W===46?i+V.slice(ye+1):V.slice(ye))+U,V=V.slice(0,ye);break}}}q&&!w&&(V=e(V,1/0));var he=F.length+V.length+U.length,ve=he<M?new Array(M-he+1).join(_):"";switch(q&&w&&(V=e(ve+V,ve.length?M-U.length:1/0),ve=""),A){case"<":V=F+V+U+ve;break;case"=":V=F+ve+V+U;break;case"^":V=ve.slice(0,he=ve.length>>1)+F+V+U+ve.slice(he);break;default:V=ve+F+V+U;break}return a(V)}return B.toString=function(){return m+""},B}function h(m,_){var A=d((m=If(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(hu(_)/3)))*3,C=Math.pow(10,-b),w=DP[8+b/3];return function(M){return A(C*M)+w}}return{format:d,formatPrefix:h}}var Kh,XT,yk;NX({thousands:",",grouping:[3],currency:["$",""]});function NX(t){return Kh=MX(t),XT=Kh.format,yk=Kh.formatPrefix,Kh}function DX(t){return Math.max(0,-hu(Math.abs(t)))}function OX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hu(e)/3)))*3-hu(Math.abs(t)))}function kX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hu(e)-hu(t))+1}function vk(t,e,n,r){var i=hE(t,e,n),a;switch(r=If(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=OX(i,l))&&(r.precision=a),yk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=kX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=DX(i))&&(r.precision=a-(r.type==="%")*2);break}}return XT(r)}function ja(t){var e=t.domain;return t.ticks=function(n){var r=e();return fE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=dE(l,u,n),d===f)return r[i]=l,r[a]=u,e(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function _k(){var t=JT();return t.copy=function(){return $f(t,_k())},Qr.apply(t,arguments),ja(t)}function Ek(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Xp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ek(t).unknown(e)},t=arguments.length?Array.from(t,Xp):[0,1],ja(n)}function Tk(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function OP(t){return Math.log(t)}function kP(t){return Math.exp(t)}function VX(t){return-Math.log(-t)}function LX(t){return-Math.exp(-t)}function UX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qX(t){return t===10?UX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function BX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function VP(t){return(e,n)=>-t(-e,n)}function QT(t){const e=t(OP,kP),n=e.domain;let r=10,i,a;function l(){return i=BX(r),a=qX(r),n()[0]<0?(i=VP(i),a=VP(a),t(VX,LX)):t(OP,kP),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let _=i(d),A=i(h),b,C;const w=u==null?10:+u;let M=[];if(!(r%1)&&A-_<w){if(_=Math.floor(_),A=Math.ceil(A),d>0){for(;_<=A;++_)for(b=1;b<r;++b)if(C=_<0?b/a(-_):b*a(_),!(C<d)){if(C>h)break;M.push(C)}}else for(;_<=A;++_)for(b=r-1;b>=1;--b)if(C=_>0?b/a(-_):b*a(_),!(C<d)){if(C>h)break;M.push(C)}M.length*2<w&&(M=fE(d,h,w))}else M=fE(_,A,Math.min(A-_,w)).map(a);return m?M.reverse():M},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=If(f)).precision==null&&(f.trim=!0),f=XT(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},e.nice=()=>n(Tk(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function Ak(){const t=QT(eg()).domain([1,10]);return t.copy=()=>$f(t,Ak()).base(t.base()),Qr.apply(t,arguments),t}function LP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ZT(t){var e=1,n=t(LP(e),UP(e));return n.constant=function(r){return arguments.length?t(LP(e=+r),UP(e)):e},ja(n)}function Sk(){var t=ZT(eg());return t.copy=function(){return $f(t,Sk()).constant(t.constant())},Qr.apply(t,arguments)}function qP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FX(t){return t<0?-t*t:t*t}function eA(t){var e=t(Kn,Kn),n=1;function r(){return n===1?t(Kn,Kn):n===.5?t(zX,FX):t(qP(n),qP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ja(e)}function tA(){var t=eA(eg());return t.copy=function(){return $f(t,tA()).exponent(t.exponent())},Qr.apply(t,arguments),t}function HX(){return tA.apply(null,arguments).exponent(.5)}function BP(t){return Math.sign(t)*t*t}function GX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bk(){var t=JT(),e=[0,1],n=!1,r;function i(a){var l=GX(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(BP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Xp)).map(BP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bk(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Qr.apply(i,arguments),ja(i)}function wk(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=YW(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[Hf(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Oa),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return wk().domain(t).range(e).unknown(r)},Qr.apply(a,arguments)}function Ck(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[Hf(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Ck().domain([t,e]).range(i).unknown(a)},Qr.apply(ja(l),arguments)}function xk(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return xk().domain(t).range(e).unknown(n)},Qr.apply(i,arguments)}const H0=new Date,G0=new Date;function cn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;let d;do f.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<l);return f},i.filter=a=>cn(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(H0.setTime(+a),G0.setTime(+l),t(H0),t(G0),Math.floor(n(H0,G0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Zp=cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Zp);Zp.range;const Ao=1e3,Yr=Ao*60,So=Yr*60,No=So*24,nA=No*7,zP=No*30,$0=No*365,Ms=cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCSeconds());Ms.range;const rA=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getMinutes());rA.range;const iA=cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getUTCMinutes());iA.range;const oA=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao-t.getMinutes()*Yr)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getHours());oA.range;const aA=cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getUTCHours());aA.range;const Kf=cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/No,t=>t.getDate()-1);Kf.range;const tg=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/No,t=>t.getUTCDate()-1);tg.range;const Ik=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/No,t=>Math.floor(t/No));Ik.range;function Qs(t){return cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/nA)}const ng=Qs(0),em=Qs(1),$X=Qs(2),KX=Qs(3),pu=Qs(4),jX=Qs(5),YX=Qs(6);ng.range;em.range;$X.range;KX.range;pu.range;jX.range;YX.range;function Zs(t){return cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nA)}const rg=Zs(0),tm=Zs(1),JX=Zs(2),WX=Zs(3),mu=Zs(4),XX=Zs(5),QX=Zs(6);rg.range;tm.range;JX.range;WX.range;mu.range;XX.range;QX.range;const sA=cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sA.range;const lA=cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lA.range;const Do=cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Do.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Do.range;const Oo=cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Oo.range;function Rk(t,e,n,r,i,a){const l=[[Ms,1,Ao],[Ms,5,5*Ao],[Ms,15,15*Ao],[Ms,30,30*Ao],[a,1,Yr],[a,5,5*Yr],[a,15,15*Yr],[a,30,30*Yr],[i,1,So],[i,3,3*So],[i,6,6*So],[i,12,12*So],[r,1,No],[r,2,2*No],[n,1,nA],[e,1,zP],[e,3,3*zP],[t,1,$0]];function u(d,h,m){const _=h<d;_&&([d,h]=[h,d]);const A=m&&typeof m.range=="function"?m:f(d,h,m),b=A?A.range(d,+h+1):[];return _?b.reverse():b}function f(d,h,m){const _=Math.abs(h-d)/m,A=HT(([,,w])=>w).right(l,_);if(A===l.length)return t.every(hE(d/$0,h/$0,m));if(A===0)return Zp.every(Math.max(hE(d,h,m),1));const[b,C]=l[_/l[A-1][2]<l[A][2]/_?A-1:A];return b.every(C)}return[u,f]}const[ZX,eQ]=Rk(Oo,lA,rg,Ik,aA,iA),[tQ,nQ]=Rk(Do,sA,ng,Kf,oA,rA);function K0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function j0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $c(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,d=Kc(i),h=jc(i),m=Kc(a),_=jc(a),A=Kc(l),b=jc(l),C=Kc(u),w=jc(u),M=Kc(f),q=jc(f),k={a:re,A:he,b:ve,B:ke,c:null,d:jP,e:jP,f:CQ,g:VQ,G:UQ,H:SQ,I:bQ,j:wQ,L:Pk,m:xQ,M:IQ,p:j,q:oe,Q:WP,s:XP,S:RQ,u:PQ,U:MQ,V:NQ,w:DQ,W:OQ,x:null,X:null,y:kQ,Y:LQ,Z:qQ,"%":JP},G={a:pe,A:ge,b:Ie,B:Oe,c:null,d:YP,e:YP,f:HQ,g:ZQ,G:tZ,H:BQ,I:zQ,j:FQ,L:Nk,m:GQ,M:$Q,p:Ne,q:Pt,Q:WP,s:XP,S:KQ,u:jQ,U:YQ,V:JQ,w:WQ,W:XQ,x:null,X:null,y:QQ,Y:eZ,Z:nZ,"%":JP},z={a:B,A:V,b:F,B:U,c:ye,d:$P,e:$P,f:_Q,g:GP,G:HP,H:KP,I:KP,j:mQ,L:vQ,m:pQ,M:gQ,p:N,q:hQ,Q:TQ,s:AQ,S:yQ,u:lQ,U:uQ,V:cQ,w:sQ,W:fQ,x:we,X:W,y:GP,Y:HP,Z:dQ,"%":EQ};k.x=K(n,k),k.X=K(r,k),k.c=K(e,k),G.x=K(n,G),G.X=K(r,G),G.c=K(e,G);function K(se,Le){return function(Ge){var de=[],Ot=-1,$e=0,rn=se.length,kt,dr,$o;for(Ge instanceof Date||(Ge=new Date(+Ge));++Ot<rn;)se.charCodeAt(Ot)===37&&(de.push(se.slice($e,Ot)),(dr=FP[kt=se.charAt(++Ot)])!=null?kt=se.charAt(++Ot):dr=kt==="e"?" ":"0",($o=Le[kt])&&(kt=$o(Ge,dr)),de.push(kt),$e=Ot+1);return de.push(se.slice($e,Ot)),de.join("")}}function P(se,Le){return function(Ge){var de=$c(1900,void 0,1),Ot=O(de,se,Ge+="",0),$e,rn;if(Ot!=Ge.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Le&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?($e=j0($c(de.y,0,1)),rn=$e.getUTCDay(),$e=rn>4||rn===0?tm.ceil($e):tm($e),$e=tg.offset($e,(de.V-1)*7),de.y=$e.getUTCFullYear(),de.m=$e.getUTCMonth(),de.d=$e.getUTCDate()+(de.w+6)%7):($e=K0($c(de.y,0,1)),rn=$e.getDay(),$e=rn>4||rn===0?em.ceil($e):em($e),$e=Kf.offset($e,(de.V-1)*7),de.y=$e.getFullYear(),de.m=$e.getMonth(),de.d=$e.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),rn="Z"in de?j0($c(de.y,0,1)).getUTCDay():K0($c(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(rn+5)%7:de.w+de.U*7-(rn+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,j0(de)):K0(de)}}function O(se,Le,Ge,de){for(var Ot=0,$e=Le.length,rn=Ge.length,kt,dr;Ot<$e;){if(de>=rn)return-1;if(kt=Le.charCodeAt(Ot++),kt===37){if(kt=Le.charAt(Ot++),dr=z[kt in FP?Le.charAt(Ot++):kt],!dr||(de=dr(se,Ge,de))<0)return-1}else if(kt!=Ge.charCodeAt(de++))return-1}return de}function N(se,Le,Ge){var de=d.exec(Le.slice(Ge));return de?(se.p=h.get(de[0].toLowerCase()),Ge+de[0].length):-1}function B(se,Le,Ge){var de=A.exec(Le.slice(Ge));return de?(se.w=b.get(de[0].toLowerCase()),Ge+de[0].length):-1}function V(se,Le,Ge){var de=m.exec(Le.slice(Ge));return de?(se.w=_.get(de[0].toLowerCase()),Ge+de[0].length):-1}function F(se,Le,Ge){var de=M.exec(Le.slice(Ge));return de?(se.m=q.get(de[0].toLowerCase()),Ge+de[0].length):-1}function U(se,Le,Ge){var de=C.exec(Le.slice(Ge));return de?(se.m=w.get(de[0].toLowerCase()),Ge+de[0].length):-1}function ye(se,Le,Ge){return O(se,e,Le,Ge)}function we(se,Le,Ge){return O(se,n,Le,Ge)}function W(se,Le,Ge){return O(se,r,Le,Ge)}function re(se){return l[se.getDay()]}function he(se){return a[se.getDay()]}function ve(se){return f[se.getMonth()]}function ke(se){return u[se.getMonth()]}function j(se){return i[+(se.getHours()>=12)]}function oe(se){return 1+~~(se.getMonth()/3)}function pe(se){return l[se.getUTCDay()]}function ge(se){return a[se.getUTCDay()]}function Ie(se){return f[se.getUTCMonth()]}function Oe(se){return u[se.getUTCMonth()]}function Ne(se){return i[+(se.getUTCHours()>=12)]}function Pt(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Le=K(se+="",k);return Le.toString=function(){return se},Le},parse:function(se){var Le=P(se+="",!1);return Le.toString=function(){return se},Le},utcFormat:function(se){var Le=K(se+="",G);return Le.toString=function(){return se},Le},utcParse:function(se){var Le=P(se+="",!0);return Le.toString=function(){return se},Le}}}var FP={"-":"",_:" ",0:"0"},An=/^\s*\d+/,iQ=/^%/,oQ=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function aQ(t){return t.replace(oQ,"\\$&")}function Kc(t){return new RegExp("^(?:"+t.map(aQ).join("|")+")","i")}function jc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sQ(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lQ(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function HP(t,e,n){var r=An.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function GP(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hQ(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $P(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mQ(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function KP(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vQ(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _Q(t,e,n){var r=An.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function EQ(t,e,n){var r=iQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function TQ(t,e,n){var r=An.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function AQ(t,e,n){var r=An.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jP(t,e){return it(t.getDate(),e,2)}function SQ(t,e){return it(t.getHours(),e,2)}function bQ(t,e){return it(t.getHours()%12||12,e,2)}function wQ(t,e){return it(1+Kf.count(Do(t),t),e,3)}function Pk(t,e){return it(t.getMilliseconds(),e,3)}function CQ(t,e){return Pk(t,e)+"000"}function xQ(t,e){return it(t.getMonth()+1,e,2)}function IQ(t,e){return it(t.getMinutes(),e,2)}function RQ(t,e){return it(t.getSeconds(),e,2)}function PQ(t){var e=t.getDay();return e===0?7:e}function MQ(t,e){return it(ng.count(Do(t)-1,t),e,2)}function Mk(t){var e=t.getDay();return e>=4||e===0?pu(t):pu.ceil(t)}function NQ(t,e){return t=Mk(t),it(pu.count(Do(t),t)+(Do(t).getDay()===4),e,2)}function DQ(t){return t.getDay()}function OQ(t,e){return it(em.count(Do(t)-1,t),e,2)}function kQ(t,e){return it(t.getFullYear()%100,e,2)}function VQ(t,e){return t=Mk(t),it(t.getFullYear()%100,e,2)}function LQ(t,e){return it(t.getFullYear()%1e4,e,4)}function UQ(t,e){var n=t.getDay();return t=n>=4||n===0?pu(t):pu.ceil(t),it(t.getFullYear()%1e4,e,4)}function qQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function YP(t,e){return it(t.getUTCDate(),e,2)}function BQ(t,e){return it(t.getUTCHours(),e,2)}function zQ(t,e){return it(t.getUTCHours()%12||12,e,2)}function FQ(t,e){return it(1+tg.count(Oo(t),t),e,3)}function Nk(t,e){return it(t.getUTCMilliseconds(),e,3)}function HQ(t,e){return Nk(t,e)+"000"}function GQ(t,e){return it(t.getUTCMonth()+1,e,2)}function $Q(t,e){return it(t.getUTCMinutes(),e,2)}function KQ(t,e){return it(t.getUTCSeconds(),e,2)}function jQ(t){var e=t.getUTCDay();return e===0?7:e}function YQ(t,e){return it(rg.count(Oo(t)-1,t),e,2)}function Dk(t){var e=t.getUTCDay();return e>=4||e===0?mu(t):mu.ceil(t)}function JQ(t,e){return t=Dk(t),it(mu.count(Oo(t),t)+(Oo(t).getUTCDay()===4),e,2)}function WQ(t){return t.getUTCDay()}function XQ(t,e){return it(tm.count(Oo(t)-1,t),e,2)}function QQ(t,e){return it(t.getUTCFullYear()%100,e,2)}function ZQ(t,e){return t=Dk(t),it(t.getUTCFullYear()%100,e,2)}function eZ(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function tZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?mu(t):mu.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function nZ(){return"+0000"}function JP(){return"%"}function WP(t){return+t}function XP(t){return Math.floor(+t/1e3)}var Fl,Ok,kk;rZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rZ(t){return Fl=rQ(t),Ok=Fl.format,Fl.parse,kk=Fl.utcFormat,Fl.utcParse,Fl}function iZ(t){return new Date(t)}function oZ(t){return t instanceof Date?+t:+new Date(+t)}function uA(t,e,n,r,i,a,l,u,f,d){var h=JT(),m=h.invert,_=h.domain,A=d(".%L"),b=d(":%S"),C=d("%I:%M"),w=d("%I %p"),M=d("%a %d"),q=d("%b %d"),k=d("%B"),G=d("%Y");function z(K){return(f(K)<K?A:u(K)<K?b:l(K)<K?C:a(K)<K?w:r(K)<K?i(K)<K?M:q:n(K)<K?k:G)(K)}return h.invert=function(K){return new Date(m(K))},h.domain=function(K){return arguments.length?_(Array.from(K,oZ)):_().map(iZ)},h.ticks=function(K){var P=_();return t(P[0],P[P.length-1],K??10)},h.tickFormat=function(K,P){return P==null?z:d(P)},h.nice=function(K){var P=_();return(!K||typeof K.range!="function")&&(K=e(P[0],P[P.length-1],K??10)),K?_(Tk(P,K)):h},h.copy=function(){return $f(h,uA(t,e,n,r,i,a,l,u,f,d))},h}function aZ(){return Qr.apply(uA(tQ,nQ,Do,sA,ng,Kf,oA,rA,Ms,Ok).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sZ(){return Qr.apply(uA(ZX,eQ,Oo,lA,rg,tg,aA,iA,Ms,kk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ig(){var t=0,e=1,n,r,i,a,l=Kn,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(_){var A,b;return arguments.length?([A,b]=_,l=m(A,b),d):[l(0),l(1)]}}return d.range=h(Ru),d.rangeRound=h(YT),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Ya(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Vk(){var t=ja(ig()(Kn));return t.copy=function(){return Ya(t,Vk())},Bo.apply(t,arguments)}function Lk(){var t=QT(ig()).domain([1,10]);return t.copy=function(){return Ya(t,Lk()).base(t.base())},Bo.apply(t,arguments)}function Uk(){var t=ZT(ig());return t.copy=function(){return Ya(t,Uk()).constant(t.constant())},Bo.apply(t,arguments)}function cA(){var t=eA(ig());return t.copy=function(){return Ya(t,cA()).exponent(t.exponent())},Bo.apply(t,arguments)}function lZ(){return cA.apply(null,arguments).exponent(.5)}function qk(){var t=[],e=Kn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Oa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jW(t,a/r))},n.copy=function(){return qk(e).domain(t)},Bo.apply(n,arguments)}function og(){var t=0,e=.5,n=1,r=1,i,a,l,u,f,d=Kn,h,m=!1,_;function A(C){return isNaN(C=+C)?_:(C=.5+((C=+h(C))-a)*(r*C<r*a?u:f),d(m?Math.max(0,Math.min(1,C)):C))}A.domain=function(C){return arguments.length?([t,e,n]=C,i=h(t=+t),a=h(e=+e),l=h(n=+n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,A):[t,e,n]},A.clamp=function(C){return arguments.length?(m=!!C,A):m},A.interpolator=function(C){return arguments.length?(d=C,A):d};function b(C){return function(w){var M,q,k;return arguments.length?([M,q,k]=w,d=EX(C,[M,q,k]),A):[d(0),d(.5),d(1)]}}return A.range=b(Ru),A.rangeRound=b(YT),A.unknown=function(C){return arguments.length?(_=C,A):_},function(C){return h=C,i=C(t),a=C(e),l=C(n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,A}}function Bk(){var t=ja(og()(Kn));return t.copy=function(){return Ya(t,Bk())},Bo.apply(t,arguments)}function zk(){var t=QT(og()).domain([.1,1,10]);return t.copy=function(){return Ya(t,zk()).base(t.base())},Bo.apply(t,arguments)}function Fk(){var t=ZT(og());return t.copy=function(){return Ya(t,Fk()).constant(t.constant())},Bo.apply(t,arguments)}function fA(){var t=eA(og());return t.copy=function(){return Ya(t,fA()).exponent(t.exponent())},Bo.apply(t,arguments)}function uZ(){return fA.apply(null,arguments).exponent(.5)}const tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$T,scaleDiverging:Bk,scaleDivergingLog:zk,scaleDivergingPow:fA,scaleDivergingSqrt:uZ,scaleDivergingSymlog:Fk,scaleIdentity:Ek,scaleImplicit:pE,scaleLinear:_k,scaleLog:Ak,scaleOrdinal:GT,scalePoint:WW,scalePow:tA,scaleQuantile:wk,scaleQuantize:Ck,scaleRadial:bk,scaleSequential:Vk,scaleSequentialLog:Lk,scaleSequentialPow:cA,scaleSequentialQuantile:qk,scaleSequentialSqrt:lZ,scaleSequentialSymlog:Uk,scaleSqrt:HX,scaleSymlog:Sk,scaleThreshold:xk,scaleTime:aZ,scaleUtc:sZ,tickFormat:vk},Symbol.toStringTag,{value:"Module"}));var Ja=t=>t.chartData,cZ=ie([Ja],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),dA=(t,e,n,r)=>r?cZ(t):Ja(t);function Gs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(En(e)&&En(n))return!0}return!1}function QP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Hk(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(En(n))i=n;else if(typeof n=="function")return;if(En(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Gs(l))return l}}function fZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Gs(r))return QP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Re(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&OR.test(i)){var f=OR.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Re(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&kR.test(a)){var h=kR.exec(a);if(h==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var _=[l,u];if(Gs(_))return e==null?_:QP(_,e,n)}}}var Pu=1e9,dZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pA,Rt=!0,Xr="[DecimalError] ",qs=Xr+"Invalid argument: ",hA=Xr+"Exponent out of range: ",Mu=Math.floor,Is=Math.pow,hZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,vn=1e7,bt=7,Gk=9007199254740991,nm=Mu(Gk/bt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return wo(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return yt(wo(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return nn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wr))throw Error(Xr+"NaN");if(n.s<1)throw Error(Xr+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(Rt=!1,e=wo(Rf(n,a),Rf(t,a),a),Rt=!0,yt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jk(e,t):$k(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xr+"NaN");return n.s?(Rt=!1,e=wo(n,t,0,1).times(t),Rt=!0,n.minus(e)):yt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return Kk(this)};Ae.naturalLogarithm=Ae.ln=function(){return Rf(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$k(e,t):jk(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qs+t);if(e=nn(i)+1,r=i.d.length-1,n=r*bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,a,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Xr+"NaN")}for(t=nn(u),Rt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=qi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(wo(u,a,l+2)).times(.5),qi(a.d).slice(0,l)===(e=qi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(yt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return Rt=!0,yt(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,a,l,u,f,d,h=this,m=h.constructor,_=h.d,A=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,f=_.length,d=A.length,f<d&&(a=_,_=A,A=a,l=f,f=d,d=l),a=[],l=f+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+A[r]*_[i-r-1]+e,a[i--]=u%vn|0,e=u/vn|0;a[i]=(a[i]+e)%vn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Rt?yt(t,m.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qi(t,0,Pu),e===void 0?e=r.rounding:Qi(e,0,8),yt(n,t+nn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$s(r,!0):(Qi(t,0,Pu),e===void 0?e=i.rounding:Qi(e,0,8),r=yt(new i(r),t+1,e),n=$s(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?$s(i):(Qi(t,0,Pu),e===void 0?e=a.rounding:Qi(e,0,8),r=yt(new a(i),t+nn(i)+1,e),n=$s(r.abs(),!1,t+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return yt(new e(t),nn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,a,l,u=this,f=u.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(wr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Xr+"Infinity");return u}if(u.eq(wr))return u;if(r=f.precision,t.eq(wr))return yt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=h<0?-h:h)<=Gk){for(i=new f(wr),e=Math.ceil(r/bt+4),Rt=!1;n%2&&(i=i.times(u),eM(i.d,e)),n=Mu(n/2),n!==0;)u=u.times(u),eM(u.d,e);return Rt=!0,t.s<0?new f(wr).div(i):yt(i,r)}}else if(a<0)throw Error(Xr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Rt=!1,i=t.times(Rf(u,r+d)),Rt=!0,i=Kk(i),i.s=a,i};Ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=nn(i),r=$s(i,n<=a.toExpNeg||n>=a.toExpPos)):(Qi(t,1,Pu),e===void 0?e=a.rounding:Qi(e,0,8),i=yt(new a(i),t,e),n=nn(i),r=$s(i,t<=n||n<=a.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qi(t,1,Pu),e===void 0?e=r.rounding:Qi(e,0,8)),yt(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nn(t),n=t.constructor;return $s(t,e<=n.toExpNeg||e>=n.toExpPos)};function $k(t,e){var n,r,i,a,l,u,f,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Rt?yt(e,m):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(m/bt),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=d.length,u-a<0&&(a=u,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/vn|0,f[a]%=vn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Rt?yt(e,m):e}function Qi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(qs+t)}function qi(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=bt-r.length,n&&(a+=wa(n)),a+=r;l=t[e],r=l+"",n=bt-r.length,n&&(a+=wa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var wo=(function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%vn|0,l=a/vn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,f;if(a!=l)f=a>l?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*vn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,f,d,h,m,_,A,b,C,w,M,q,k,G,z,K,P,O,N=r.constructor,B=r.s==i.s?1:-1,V=r.d,F=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Xr+"Division by zero");for(f=r.e-i.e,P=F.length,z=V.length,A=new N(B),b=A.d=[],d=0;F[d]==(V[d]||0);)++d;if(F[d]>(V[d]||0)&&--f,a==null?q=a=N.precision:l?q=a+(nn(r)-nn(i))+1:q=a,q<0)return new N(0);if(q=q/bt+2|0,d=0,P==1)for(h=0,F=F[0],q++;(d<z||h)&&q--;d++)k=h*vn+(V[d]||0),b[d]=k/F|0,h=k%F|0;else{for(h=vn/(F[0]+1)|0,h>1&&(F=t(F,h),V=t(V,h),P=F.length,z=V.length),G=P,C=V.slice(0,P),w=C.length;w<P;)C[w++]=0;O=F.slice(),O.unshift(0),K=F[0],F[1]>=vn/2&&++K;do h=0,u=e(F,C,P,w),u<0?(M=C[0],P!=w&&(M=M*vn+(C[1]||0)),h=M/K|0,h>1?(h>=vn&&(h=vn-1),m=t(F,h),_=m.length,w=C.length,u=e(m,C,_,w),u==1&&(h--,n(m,P<_?O:F,_))):(h==0&&(u=h=1),m=F.slice()),_=m.length,_<w&&m.unshift(0),n(C,m,w),u==-1&&(w=C.length,u=e(F,C,P,w),u<1&&(h++,n(C,P<w?O:F,w))),w=C.length):u===0&&(h++,C=[0]),b[d++]=h,u&&C[0]?C[w++]=V[G]||0:(C=[V[G]],w=1);while((G++<z||C[0]!==void 0)&&q--)}return b[0]||b.shift(),A.e=f,yt(A,l?a+nn(A)+1:a)}})();function Kk(t,e){var n,r,i,a,l,u,f=0,d=0,h=t.constructor,m=h.precision;if(nn(t)>16)throw Error(hA+nn(t));if(!t.s)return new h(wr);for(Rt=!1,u=m,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Is(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(wr),h.precision=u;;){if(i=yt(i.times(t),u),n=n.times(++f),l=a.plus(wo(i,n,u)),qi(l.d).slice(0,u)===qi(a.d).slice(0,u)){for(;d--;)a=yt(a.times(a),u);return h.precision=m,e==null?(Rt=!0,yt(a,m)):a}a=l}}function nn(t){for(var e=t.e*bt,n=t.d[0];n>=10;n/=10)e++;return e}function Y0(t,e,n){if(e>t.LN10.sd())throw Rt=!0,n&&(t.precision=n),Error(Xr+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function wa(t){for(var e="";t--;)e+="0";return e}function Rf(t,e){var n,r,i,a,l,u,f,d,h,m=1,_=10,A=t,b=A.d,C=A.constructor,w=C.precision;if(A.s<1)throw Error(Xr+(A.s?"NaN":"-Infinity"));if(A.eq(wr))return new C(0);if(e==null?(Rt=!1,d=w):d=e,A.eq(10))return e==null&&(Rt=!0),Y0(C,d);if(d+=_,C.precision=d,n=qi(b),r=n.charAt(0),a=nn(A),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=qi(A.d),r=n.charAt(0),m++;a=nn(A),r>1?(A=new C("0."+n),a++):A=new C(r+"."+n.slice(1))}else return f=Y0(C,d+2,w).times(a+""),A=Rf(new C(r+"."+n.slice(1)),d-_).plus(f),C.precision=w,e==null?(Rt=!0,yt(A,w)):A;for(u=l=A=wo(A.minus(wr),A.plus(wr),d),h=yt(A.times(A),d),i=3;;){if(l=yt(l.times(h),d),f=u.plus(wo(l,new C(i),d)),qi(f.d).slice(0,d)===qi(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(Y0(C,d+2,w).times(a+""))),u=wo(u,new C(m),d),C.precision=w,e==null?(Rt=!0,yt(u,w)):u;u=f,i+=2}}function ZP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Mu(n/bt),t.d=[],r=(n+1)%bt,n<0&&(r+=bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=bt;r<i;)t.d.push(+e.slice(r,r+=bt));e=e.slice(r),r=bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Rt&&(t.e>nm||t.e<-nm))throw Error(hA+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,i,a,l,u,f,d,h,m=t.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=bt,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/bt),a=m.length,h>=a)return t;for(d=a=m[h],l=1;a>=10;a/=10)l++;r%=bt,i=r-bt+l}if(n!==void 0&&(a=Is(10,l-i-1),u=d/a%10|0,f=e<0||m[h+1]!==void 0||d%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/Is(10,l-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(a=nn(t),m.length=1,e=e-a-1,m[0]=Is(10,(bt-e%bt)%bt),t.e=Mu(-e/bt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Is(10,bt-r),m[h]=i>0?(d/Is(10,l-i)%Is(10,i)|0)*a:0),f)for(;;)if(h==0){(m[0]+=a)==vn&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=vn)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(Rt&&(t.e>nm||t.e<-nm))throw Error(hA+nn(t));return t}function jk(t,e){var n,r,i,a,l,u,f,d,h,m,_=t.constructor,A=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Rt?yt(e,A):e;if(f=t.d,m=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(A/bt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}l=0}for(h&&(n=f,f=m,m=n,e.s=-e.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(a=i;a&&f[--a]===0;)f[a]=vn-1;--f[a],f[i]+=vn}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Rt?yt(e,A):e):new _(0)}function $s(t,e,n){var r,i=nn(t),a=qi(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+wa(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wa(-i-1)+a,n&&(r=n-l)>0&&(a+=wa(r))):i>=l?(a+=wa(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+wa(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=wa(r))),t.s<0?"-"+a:a}function eM(t,e){if(t.length>e)return t.length=e,!0}function Yk(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qs+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return ZP(l,a.toString())}else if(typeof a!="string")throw Error(qs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,hZ.test(a))ZP(l,a);else throw Error(qs+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Yk,i.config=i.set=pZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function pZ(t){if(!t||typeof t!="object")throw Error(Xr+"Object expected");var e,n,r,i=["precision",1,Pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Mu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(qs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(qs+n+": "+r);return this}var pA=Yk(dZ);wr=new pA(1);const ft=pA;var mZ=t=>t,Jk={},Wk=t=>t===Jk,tM=t=>function e(){return arguments.length===0||arguments.length===1&&Wk(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Xk=(t,e)=>t===1?e:tM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==Jk).length;return a>=t?e(...r):Xk(t-a,tM(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(h=>Wk(h)?u.shift():h);return e(...d,...u)}))}),ag=t=>Xk(t.length,t),vE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},gZ=ag((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),yZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return mZ;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),a(...arguments))}},_E=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Qk=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((l,u)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function Zk(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function eV(t,e,n){for(var r=new ft(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}ag((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});ag((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});ag((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var tV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},nV=(t,e,n)=>{if(t.lte(0))return new ft(0);var r=Zk(t.toNumber()),i=new ft(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new ft(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new ft(f.toNumber()):new ft(Math.ceil(f.toNumber()))},vZ=(t,e,n)=>{var r=new ft(1),i=new ft(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ft(10).pow(Zk(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var l=Math.floor((e-1)/2),u=yZ(gZ(f=>i.add(new ft(f-l).mul(r)).toNumber()),vE);return u(0,e)},rV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var l=nV(new ft(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new ft(0):(u=new ft(e).add(n).div(2),u=u.sub(new ft(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),d=Math.ceil(new ft(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?rV(e,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new ft(f).mul(l)),tickMax:u.add(new ft(d).mul(l))})};function _Z(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,u]=tV([e,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...vE(0,r-1).map(()=>1/0)]:[...vE(0,r-1).map(()=>-1/0),u];return e>n?_E(f):f}if(l===u)return vZ(l,r,i);var{step:d,tickMin:h,tickMax:m}=rV(l,u,a,i,0),_=eV(h,m.add(new ft(.1).mul(d)),d);return e>n?_E(_):_}function EZ(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=tV([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var u=Math.max(e,2),f=nV(new ft(l).sub(a).div(u-1),i,0),d=[...eV(new ft(a),new ft(l),f),l];return i===!1&&(d=d.map(h=>Math.round(h))),n>r?_E(d):d}var TZ=Qk(_Z),AZ=Qk(EZ),SZ=t=>t.rootProps.barCategoryGap,sg=t=>t.rootProps.stackOffset,mA=t=>t.options.chartName,gA=t=>t.rootProps.syncId,iV=t=>t.rootProps.syncMethod,yA=t=>t.options.eventEmitter,jn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Eo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Eo.angleAxisId,includeHidden:!1,name:void 0,reversed:Eo.reversed,scale:Eo.scale,tick:Eo.tick,tickCount:void 0,ticks:void 0,type:Eo.type,unit:void 0},wZ={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:br.type,unit:void 0},CZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Eo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Eo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Eo.scale,tick:Eo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xZ={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:"category",unit:void 0},vA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?CZ:bZ,_A=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?xZ:wZ,ug=t=>t.polarOptions,EA=ie([Uo,qo,kn],TW),oV=ie([ug,EA],(t,e)=>{if(t!=null)return Fa(t.innerRadius,e,0)}),aV=ie([ug,EA],(t,e)=>{if(t!=null)return Fa(t.outerRadius,e,e*.8)}),IZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},sV=ie([ug],IZ);ie([vA,sV],lg);var lV=ie([EA,oV,aV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([_A,lV],lg);var uV=ie([Ct,ug,oV,aV,Uo,qo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=e;return{cx:Fa(l,i,i/2),cy:Fa(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),fn=(t,e)=>e,cg=(t,e,n)=>n;function cV(t){return t==null?void 0:t.id}function fV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=cV(u);d.forEach((m,_)=>{var A=a==null||i?_:String(Yn(m,a,null)),b=Yn(m,u.dataKey,0),C;l.has(A)?C=l.get(A):C={},Object.assign(C,{[h]:b}),l.set(A,C)})}}),Array.from(l.values())}function TA(t){return t.stackId!=null&&t.dataKey!=null}var fg=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function dg(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function RZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var dn=t=>{var e=Ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Nu=t=>t.tooltip.settings.axisId;function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){PZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PZ(t,e,n){return(e=MZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MZ(t){var e=NZ(t,"string");return typeof e=="symbol"?e:e+""}function NZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EE=[0,"auto"],Ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dV=(t,e)=>t.cartesianAxis.xAxis[e],zo=(t,e)=>{var n=dV(t,e);return n??Ar},Sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:EE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ff},hV=(t,e)=>t.cartesianAxis.yAxis[e],Fo=(t,e)=>{var n=hV(t,e);return n??Sr},DZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},AA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??DZ},Wn=(t,e,n)=>{switch(e){case"xAxis":return zo(t,n);case"yAxis":return Fo(t,n);case"zAxis":return AA(t,n);case"angleAxis":return vA(t,n);case"radiusAxis":return _A(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},OZ=(t,e,n)=>{switch(e){case"xAxis":return zo(t,n);case"yAxis":return Fo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jf=(t,e,n)=>{switch(e){case"xAxis":return zo(t,n);case"yAxis":return Fo(t,n);case"angleAxis":return vA(t,n);case"radiusAxis":return _A(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function mV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var gV=t=>t.graphicalItems.cartesianItems,kZ=ie([fn,cg],mV),yV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Yf=ie([gV,Wn,kZ],yV,{memoizeOptions:{resultEqualityCheck:dg}}),vV=ie([Yf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(TA)),_V=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),VZ=ie([Yf],_V),EV=t=>t.map(e=>e.data).filter(Boolean).flat(1),LZ=ie([Yf],EV,{memoizeOptions:{resultEqualityCheck:dg}}),TV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},SA=ie([LZ,dA],TV),AV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Yn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Yn(i,r)}))):t.map(r=>({value:r})),hg=ie([SA,Wn,Yf],AV);function SV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ip(t){if(Wi(t)||t instanceof Date){var e=Number(t);if(En(e))return e}}function rM(t){if(Array.isArray(t)){var e=[ip(t[0]),ip(t[1])];return Gs(e)?e:void 0}var n=ip(t);if(n!=null)return[n,n]}function ko(t){return t.map(ip).filter(fK)}function UZ(t,e,n){return!n||typeof e!="number"||Ji(e)?[]:n.length?ko(n.flatMap(r=>{var i=Yn(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!En(a)||!En(l)))return[e-a,e+l]})):[]}var hn=t=>{var e=dn(t),n=Nu(t);return jf(t,e,n)},bV=ie([hn],t=>t==null?void 0:t.dataKey),qZ=ie([vV,dA,hn],fV),wV=(t,e,n)=>{var r={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,f=u.map(cV);return[l,{stackedData:CY(t,f,n),graphicalItems:u}]}))},BZ=ie([qZ,vV,sg],wV),CV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var l=RY(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},zZ=ie([Wn],t=>t.allowDataOverflow),bA=t=>{var e;if(t==null||!("domain"in t))return EE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ko(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:EE},xV=ie([Wn],bA),IV=ie([xV,zZ],Hk),FZ=ie([BZ,Ja,fn,IV],CV,{memoizeOptions:{resultEqualityCheck:fg}}),wA=t=>t.errorBars,HZ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>SV(n,r)),im=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},RV=(t,e,n,r,i)=>{var a,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(M=>SV(i,M)),_=Yn(u,(h=e.dataKey)!==null&&h!==void 0?h:f.dataKey),A=UZ(u,_,m);if(A.length>=2){var b=Math.min(...A),C=Math.max(...A);(a==null||b<a)&&(a=b),(l==null||C>l)&&(l=C)}var w=rM(_);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var f=rM(Yn(u,e.dataKey));f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),En(a)&&En(l))return[a,l]},GZ=ie([SA,Wn,VZ,wA,fn],RV,{memoizeOptions:{resultEqualityCheck:fg}});function $Z(t){var{value:e}=t;if(Wi(e)||e instanceof Date)return e}var KZ=(t,e,n)=>{var r=t.map($Z).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&YO(r))?lk(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},PV=t=>t.referenceElements.dots,Du=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),jZ=ie([PV,fn,cg],Du),MV=t=>t.referenceElements.areas,YZ=ie([MV,fn,cg],Du),NV=t=>t.referenceElements.lines,JZ=ie([NV,fn,cg],Du),DV=(t,e)=>{var n=ko(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},WZ=ie(jZ,fn,DV),OV=(t,e)=>{var n=ko(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},XZ=ie([YZ,fn],OV);function QZ(t){var e;if(t.x!=null)return ko([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ko(n)}function ZZ(t){var e;if(t.y!=null)return ko([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ko(n)}var kV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?QZ(r):ZZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},eee=ie([JZ,fn],kV),tee=ie(WZ,eee,XZ,(t,e,n)=>im(t,n,e)),VV=(t,e,n,r,i,a,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?im(r,a,i):im(a,i);return fZ(e,d,t.allowDataOverflow)},nee=ie([Wn,xV,IV,FZ,GZ,tee,Ct,fn],VV,{memoizeOptions:{resultEqualityCheck:fg}}),ree=[0,1],LV=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,d=Ka(e,a);if(d&&u==null){var h;return lk(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?KZ(r,t,d):i==="expand"?ree:l}},CA=ie([Wn,Ct,SA,hg,sg,fn,nee],LV),UV=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(qf(a));return u in tf?u:"point"}}},Jf=ie([Wn,Ct,pV,mA,fn],UV);function iee(t){if(t!=null){if(t in tf)return tf[t]();var e="scale".concat(qf(t));if(e in tf)return tf[e]()}}function xA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=iee(e);if(i!=null){var a=i.domain(n).range(r);return AY(a),a}}}var qV=(t,e,n)=>{var r=bA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Gs(t))return TZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Gs(t))return AZ(t,e.tickCount,e.allowDecimals)}},IA=ie([CA,jf,Jf],qV),BV=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Gs(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return e},oee=ie([Wn,CA,IA,fn],BV),aee=ie(hg,Wn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ko(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),zV=ie(aee,Ct,SZ,kn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!En(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=Fa(n,t*a),u=t*a/2;return u-l-(u-l)/a*l}return 0}),see=(t,e)=>{var n=zo(t,e);return n==null||typeof n.padding!="string"?0:zV(t,"xAxis",e,n.padding)},lee=(t,e)=>{var n=Fo(t,e);return n==null||typeof n.padding!="string"?0:zV(t,"yAxis",e,n.padding)},uee=ie(zo,see,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),cee=ie(Fo,lee,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),fee=ie([kn,uee,Wm,Jm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),dee=ie([kn,Ct,cee,Wm,Jm,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Wf=(t,e,n,r)=>{var i;switch(e){case"xAxis":return fee(t,n,r);case"yAxis":return dee(t,n,r);case"zAxis":return(i=AA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return sV(t);case"radiusAxis":return lV(t,n);default:return}},FV=ie([Wn,Wf],lg),Ou=ie([Wn,Jf,oee,FV],xA);ie([Yf,wA,fn],HZ);function HV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var pg=(t,e)=>e,mg=(t,e,n)=>n,hee=ie(jm,pg,mg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(HV)),pee=ie(Ym,pg,mg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(HV)),GV=(t,e)=>({width:t.width,height:e.height}),mee=(t,e)=>{var n=typeof e.width=="number"?e.width:Ff;return{width:n,height:t.height}},gee=ie(kn,zo,GV),yee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},vee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},_ee=ie(qo,kn,hee,pg,mg,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=GV(e,u);l==null&&(l=yee(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),a}),Eee=ie(Uo,kn,pee,pg,mg,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=mee(e,u);l==null&&(l=vee(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),a}),Tee=(t,e)=>{var n=zo(t,e);if(n!=null)return _ee(t,n.orientation,n.mirror)},Aee=ie([kn,zo,Tee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),See=(t,e)=>{var n=Fo(t,e);if(n!=null)return Eee(t,n.orientation,n.mirror)},bee=ie([kn,Fo,See,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),wee=ie(kn,Fo,(t,e)=>{var n=typeof e.width=="number"?e.width:Ff;return{width:n,height:t.height}}),$V=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Ka(t,r),f=e.map(d=>d.value);if(l&&u&&a==="category"&&i&&YO(f))return f}},RA=ie([Ct,hg,Wn,fn],$V),KV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Ka(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},PA=ie([Ct,hg,jf,fn],KV),iM=ie([Ct,OZ,Jf,Ou,RA,PA,Wf,IA,fn],(t,e,n,r,i,a,l,u,f)=>{if(e!=null){var d=Ka(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),Cee=(t,e,n,r,i,a,l,u,f)=>{if(!(e==null||r==null)){var d=Ka(t,f),{type:h,ticks:m,tickCount:_}=e,A=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=h==="category"&&r.bandwidth?r.bandwidth()/A:0;b=f==="angleAxis"&&a!=null&&a.length>=2?jr(a[0]-a[1])*2*b:b;var C=m||i;if(C){var w=C.map((M,q)=>{var k=l?l.indexOf(M):M;return{index:q,coordinate:r(k)+b,value:M,offset:b}});return w.filter(M=>En(M.coordinate))}return d&&u?u.map((M,q)=>({coordinate:r(M)+b,value:M,index:q,offset:b})).filter(M=>En(M.coordinate)):r.ticks?r.ticks(_).map(M=>({coordinate:r(M)+b,value:M,offset:b})):r.domain().map((M,q)=>({coordinate:r(M)+b,value:l?l[M]:M,index:q,offset:b}))}},jV=ie([Ct,jf,Jf,Ou,IA,Wf,RA,PA,fn],Cee),xee=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ka(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?jr(r[0]-r[1])*2*d:d,u&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},YV=ie([Ct,jf,Ou,Wf,RA,PA,fn],xee),JV=ie(Wn,Ou,(t,e)=>{if(!(t==null||e==null))return rm(rm({},t),{},{scale:e})}),Iee=ie([Wn,Jf,CA,FV],xA);ie((t,e,n)=>AA(t,n),Iee,(t,e)=>{if(!(t==null||e==null))return rm(rm({},t),{},{scale:e})});var Ree=ie([Ct,jm,Ym],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),WV=t=>t.options.defaultTooltipEventType,XV=t=>t.options.validateTooltipEventTypes;function QV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function MA(t,e){var n=WV(t),r=XV(t);return QV(e,n,r)}function Pee(t){return Pe(e=>MA(e,t))}var ZV=(t,e)=>{var n,r=Number(e);if(!(Ji(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Mee=t=>t.tooltip.settings,xa={active:!1,index:null,dataKey:void 0,coordinate:void 0},Nee={itemInteraction:{click:xa,hover:xa},axisInteraction:{click:xa,hover:xa},keyboardInteraction:xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},eL=cr({name:"tooltip",initialState:Nee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:ln()},removeTooltipEntrySettings:{reducer(t,e){var n=bo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:ln()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Dee,removeTooltipEntrySettings:Oee,setTooltipSettingsState:kee,setActiveMouseOverItemIndex:Vee,mouseLeaveItem:ule,mouseLeaveChart:tL,setActiveClickItemIndex:cle,setMouseOverAxisIndex:nL,setMouseClickAxisIndex:Lee,setSyncInteraction:TE,setKeyboardInteraction:AE}=eL.actions,Uee=eL.reducer;function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e,n){return(e=Bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=zee(t,"string");return typeof e=="symbol"?e:e+""}function zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Hee(t){return t.index!=null}var rL=(t,e,n,r)=>{if(e==null)return xa;var i=Fee(t,e,n);if(i==null)return xa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Hee(i)){if(a)return jh(jh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return jh(jh({},xa),{},{coordinate:i.coordinate})},NA=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!En(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},iL=(t,e,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,a);if(d!=null)return d;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},oL=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Xf=t=>t.options.tooltipPayloadSearcher,ku=t=>t.tooltip;function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){Gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gee(t,e,n){return(e=$ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=Kee(t,"string");return typeof e=="symbol"?e:e+""}function Kee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jee(t,e){return t??e}var aL=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((_,A)=>{var b,{dataDefinedOnItem:C,settings:w}=A,M=jee(C,u),q=Array.isArray(M)?U2(M,d,h):M,k=(b=w==null?void 0:w.dataKey)!==null&&b!==void 0?b:r,G=w==null?void 0:w.nameKey,z;if(r&&Array.isArray(q)&&!Array.isArray(q[0])&&l==="axis"?z=JO(q,r,i):z=a(q,e,f,G),Array.isArray(z))z.forEach(P=>{var O=sM(sM({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});_.push(VR({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:Yn(P.payload,P.dataKey),name:P.name}))});else{var K;_.push(VR({tooltipEntrySettings:w,dataKey:k,payload:z,value:Yn(z,k),name:(K=Yn(z,G))!==null&&K!==void 0?K:w==null?void 0:w.name}))}return _},m)}},DA=ie([hn,Ct,pV,mA,dn],UV),Yee=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Jee=ie([dn,Nu],mV),Qf=ie([Yee,hn,Jee],yV,{memoizeOptions:{resultEqualityCheck:dg}}),Wee=ie([Qf],t=>t.filter(TA)),Xee=ie([Qf],EV,{memoizeOptions:{resultEqualityCheck:dg}}),Vu=ie([Xee,Ja],TV),Qee=ie([Wee,Ja,hn],fV),OA=ie([Vu,hn,Qf],AV),sL=ie([hn],bA),Zee=ie([hn],t=>t.allowDataOverflow),lL=ie([sL,Zee],Hk),ete=ie([Qf],t=>t.filter(TA)),tte=ie([Qee,ete,sg],wV),nte=ie([tte,Ja,dn,lL],CV),rte=ie([Qf],_V),ite=ie([Vu,hn,rte,wA,dn],RV,{memoizeOptions:{resultEqualityCheck:fg}}),ote=ie([PV,dn,Nu],Du),ate=ie([ote,dn],DV),ste=ie([MV,dn,Nu],Du),lte=ie([ste,dn],OV),ute=ie([NV,dn,Nu],Du),cte=ie([ute,dn],kV),fte=ie([ate,cte,lte],im),dte=ie([hn,sL,lL,nte,ite,fte,Ct,dn],VV),uL=ie([hn,Ct,Vu,OA,sg,dn,dte],LV),hte=ie([uL,hn,DA],qV),pte=ie([hn,uL,hte,dn],BV),cL=t=>{var e=dn(t),n=Nu(t),r=!1;return Wf(t,e,n,r)},fL=ie([hn,cL],lg),dL=ie([hn,DA,pte,fL],xA),mte=ie([Ct,OA,hn,dn],$V),gte=ie([Ct,OA,hn,dn],KV),yte=(t,e,n,r,i,a,l,u)=>{if(e){var{type:f}=e,d=Ka(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?jr(i[0]-i[1])*2*m:m,d&&l?l.map((_,A)=>({coordinate:r(_)+m,value:_,index:A,offset:m})):r.domain().map((_,A)=>({coordinate:r(_)+m,value:a?a[_]:_,index:A,offset:m}))}}},Ho=ie([Ct,hn,DA,dL,cL,mte,gte,dn],yte),kA=ie([WV,XV,Mee],(t,e,n)=>QV(n.shared,t,e)),hL=t=>t.tooltip.settings.trigger,VA=t=>t.tooltip.settings.defaultIndex,gg=ie([ku,kA,hL,VA],rL),Pf=ie([gg,Vu],NA),pL=ie([Ho,Pf],ZV),vte=ie([gg],t=>{if(t)return t.dataKey}),mL=ie([ku,kA,hL,VA],oL),_te=ie([Uo,qo,Ct,kn,Ho,VA,mL,Xf],iL),Ete=ie([gg,_te],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Tte=ie([gg],t=>t.active),Ate=ie([mL,Pf,Ja,bV,pL,Xf,kA],aL),Ste=ie([Ate],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xte=()=>Pe(hn),Ite=()=>{var t=xte(),e=Pe(Ho),n=Pe(dL);return Bp(!t||!n?void 0:uM(uM({},t),{},{scale:n}),e)};function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nte=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Dte=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Hl(Hl(Hl({},r),Nn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:f}=r;return Hl(Hl(Hl({},r),Nn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ote(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var gL=(t,e,n,r,i)=>{var a,l=-1,u=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,m=f>=u-1?n[0].coordinate:n[f+1].coordinate,_=void 0;if(jr(h-d)!==jr(m-h)){var A=[];if(jr(m-h)===jr(i[1]-i[0])){_=m;var b=h+i[1]-i[0];A[0]=Math.min(b,(b+d)/2),A[1]=Math.max(b,(b+d)/2)}else{_=d;var C=m+i[1]-i[0];A[0]=Math.min(h,(C+h)/2),A[1]=Math.max(h,(C+h)/2)}var w=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(t>w[0]&&t<=w[1]||t>=A[0]&&t<=A[1]){({index:l}=n[f]);break}}else{var M=Math.min(d,m),q=Math.max(d,m);if(t>(M+h)/2&&t<=(q+h)/2){({index:l}=n[f]);break}}}else if(e){for(var k=0;k<u;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<u-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===u-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:l}=e[k]);break}}return l},kte=()=>Pe(mA),LA=(t,e)=>e,yL=(t,e,n)=>n,UA=(t,e,n,r)=>r,Vte=ie(Ho,t=>zm(t,e=>e.coordinate)),qA=ie([ku,LA,yL,UA],rL),vL=ie([qA,Vu],NA),Lte=(t,e,n)=>{if(e!=null){var r=ku(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_L=ie([ku,LA,yL,UA],oL),om=ie([Uo,qo,Ct,kn,Ho,UA,_L,Xf],iL),Ute=ie([qA,om],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),EL=ie([Ho,vL],ZV),qte=ie([_L,vL,Ja,bV,EL,Xf,LA],aL),Bte=ie([qA],t=>({isActive:t.active,activeIndex:t.index})),zte=(t,e,n,r,i,a,l)=>{if(!(!t||!n||!r||!i)&&Ote(t,l)){var u=PY(t,e),f=gL(u,a,i,n,r),d=Nte(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},Fte=(t,e,n,r,i,a,l)=>{if(!(!t||!r||!i||!a||!n)){var u=CW(t,n);if(u){var f=MY(u,e),d=gL(f,l,a,r,i),h=Dte(e,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},Hte=(t,e,n,r,i,a,l,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?zte(t,e,r,i,a,l,u):Fte(t,e,n,r,i,a,l)},Gte=ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),$te=ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(jn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:RZ}});function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jte={},Wte={zIndexMap:Object.values(jn).reduce((t,e)=>dM(dM({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Jte)},Xte=new Set(Object.values(jn));function Qte(t){return Xte.has(t)}var TL=cr({name:"zIndex",initialState:Wte,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ln()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Qte(n)&&delete t.zIndexMap[n])},prepare:ln()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:ln()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:ln()}}}),{registerZIndexPortal:Zte,unregisterZIndexPortal:ene,registerZIndexPortalId:tne,unregisterZIndexPortalId:nne}=TL.actions,rne=TL.reducer;function Go(t){var{zIndex:e,children:n}=t,r=cJ(),i=r&&e!==void 0&&e!==0,a=fr(),l=Tn();R.useLayoutEffect(()=>i?(l(Zte({zIndex:e})),()=>{l(ene({zIndex:e}))}):xu,[l,e,i]);var u=Pe(d=>Gte(d,e,a));if(!i)return n;if(!u)return null;var f=document.getElementById(u);return f?PO.createPortal(n,f):null}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return(e=one(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=ane(t,"string");return typeof e=="symbol"?e:e+""}function ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sne(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return R.isValidElement(e)?R.cloneElement(e,r):R.createElement(n,r)}function lne(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:h}=t,m=n,_=r,A=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var b,C,w;if(h==="ScatterChart")b=m,C=zJ,w=jn.cursorLine;else if(h==="BarChart")b=FJ(u,m,a,l),C=ik,w=jn.cursorRectangle;else if(u==="radial"&&QO(m)){var{cx:M,cy:q,radius:k,startAngle:G,endAngle:z}=ok(m);b={cx:M,cy:q,startAngle:G,endAngle:z,innerRadius:k,outerRadius:k},C=sk,w=jn.cursorLine}else b={points:PW(u,m,a)},C=Z2,w=jn.cursorLine;var K=typeof f=="object"&&"className"in f?f.className:void 0,P=Yh(Yh(Yh(Yh({stroke:"#ccc",pointerEvents:"none"},a),b),Vm(f)),{},{payload:_,payloadIndex:A,className:vt("recharts-tooltip-cursor",K)});return R.createElement(Go,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},R.createElement(sne,{cursor:f,cursorComp:C,cursorProps:P}))}function une(t){var e=Ite(),n=Y2(),r=Qm(),i=kte();return e==null||n==null||r==null||i==null?null:R.createElement(lne,SE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var AL=R.createContext(null),cne=()=>R.useContext(AL),J0={exports:{}},pM;function fne(){return pM||(pM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function a(f,d,h,m,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var A=new i(h,m||f,_),b=n?n+d:d;return f._events[b]?f._events[b].fn?f._events[b]=[f._events[b],A]:f._events[b].push(A):(f._events[b]=A,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var _=0,A=m.length,b=new Array(A);_<A;_++)b[_]=m[_].fn;return b},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,_,A,b){var C=n?n+d:d;if(!this._events[C])return!1;var w=this._events[C],M=arguments.length,q,k;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),M){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,_),!0;case 5:return w.fn.call(w.context,h,m,_,A),!0;case 6:return w.fn.call(w.context,h,m,_,A,b),!0}for(k=1,q=new Array(M-1);k<M;k++)q[k-1]=arguments[k];w.fn.apply(w.context,q)}else{var G=w.length,z;for(k=0;k<G;k++)switch(w[k].once&&this.removeListener(d,w[k].fn,void 0,!0),M){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,h);break;case 3:w[k].fn.call(w[k].context,h,m);break;case 4:w[k].fn.call(w[k].context,h,m,_);break;default:if(!q)for(z=1,q=new Array(M-1);z<M;z++)q[z-1]=arguments[z];w[k].fn.apply(w[k].context,q)}}return!0},u.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,_){var A=n?n+d:d;if(!this._events[A])return this;if(!h)return l(this,A),this;var b=this._events[A];if(b.fn)b.fn===h&&(!_||b.once)&&(!m||b.context===m)&&l(this,A);else{for(var C=0,w=[],M=b.length;C<M;C++)(b[C].fn!==h||_&&!b[C].once||m&&b[C].context!==m)&&w.push(b[C]);w.length?this._events[A]=w.length===1?w[0]:w:l(this,A)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(J0)),J0.exports}var dne=fne();const hne=Zi(dne);var Mf=new hne,bE="recharts.syncEvent.tooltip",mM="recharts.syncEvent.brush";function pne(t,e){if(e){var n=Number.parseInt(e,10);if(!Ji(n))return t==null?void 0:t[n]}}var mne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},SL=cr({name:"options",initialState:mne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gne=SL.reducer,{createEventEmitter:yne}=SL.actions;function vne(t){return t.tooltip.syncInteraction}var _ne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bL=cr({name:"chartData",initialState:_ne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:gM,setDataStartEndIndexes:Ene,setComputedData:fle}=bL.actions,Tne=bL.reducer,Ane=["x","y"];function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=wne(t,"string");return typeof e=="symbol"?e:e+""}function wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cne(t,e){if(t==null)return{};var n,r,i=xne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ine(){var t=Pe(gA),e=Pe(yA),n=Tn(),r=Pe(iV),i=Pe(Ho),a=Qm(),l=Xm(),u=Pe(f=>f.rootProps.className);R.useEffect(()=>{if(t==null)return xu;var f=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var _;if(l&&h!==null&&h!==void 0&&(_=h.payload)!==null&&_!==void 0&&_.coordinate&&h.payload.sourceViewBox){var A=h.payload.coordinate,{x:b,y:C}=A,w=Cne(A,Ane),{x:M,y:q,width:k,height:G}=h.payload.sourceViewBox,z=Gl(Gl({},w),{},{x:l.x+(k?(b-M)/k:0)*l.width,y:l.y+(G?(C-q)/G:0)*l.height});n(Gl(Gl({},h),{},{payload:Gl(Gl({},h.payload),{},{coordinate:z})}))}else n(h);return}if(i!=null){var K;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,P);K=i[O]}else r==="value"&&(K=i.find(W=>String(W.value)===h.payload.label));var{coordinate:N}=h.payload;if(K==null||h.payload.active===!1||N==null||l==null){n(TE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:B,y:V}=N,F=Math.min(B,l.x+l.width),U=Math.min(V,l.y+l.height),ye={x:a==="horizontal"?K.coordinate:F,y:a==="horizontal"?U:K.coordinate},we=TE({active:h.payload.active,coordinate:ye,dataKey:h.payload.dataKey,index:String(K.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(we)}}};return Mf.on(bE,f),()=>{Mf.off(bE,f)}},[u,n,e,t,r,i,a,l])}function Rne(){var t=Pe(gA),e=Pe(yA),n=Tn();R.useEffect(()=>{if(t==null)return xu;var r=(i,a,l)=>{e!==l&&t===i&&n(Ene(a))};return Mf.on(mM,r),()=>{Mf.off(mM,r)}},[n,e,t])}function Pne(){var t=Tn();R.useEffect(()=>{t(yne())},[t]),Ine(),Rne()}function Mne(t,e,n,r,i,a){var l=Pe(A=>Lte(A,t,e)),u=Pe(yA),f=Pe(gA),d=Pe(iV),h=Pe(vne),m=h==null?void 0:h.active,_=Xm();R.useEffect(()=>{if(!m&&f!=null&&u!=null){var A=TE({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:_});Mf.emit(bE,f,A,u)}},[m,n,l,i,r,u,f,d,a,_])}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){Nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e,n){return(e=Dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kne(t){return t.dataKey}function Vne(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(_J,e)}var EM=[],Lne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Iu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Une(t){var e,n,r=ur(t,Lne),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:_,position:A,reverseDirection:b,useTranslate3d:C,wrapperStyle:w,cursor:M,shared:q,trigger:k,defaultIndex:G,portal:z,axisId:K}=r,P=Tn(),O=typeof G=="number"?String(G):G;R.useEffect(()=>{P(kee({shared:q,trigger:k,axisId:K,active:i,defaultIndex:O}))},[P,q,k,K,i,O]);var N=Xm(),B=Q2(),V=Pee(q),{activeIndex:F,isActive:U}=(e=Pe(Ne=>Bte(Ne,V,k,O)))!==null&&e!==void 0?e:{},ye=Pe(Ne=>qte(Ne,V,k,O)),we=Pe(Ne=>EL(Ne,V,k,O)),W=Pe(Ne=>Ute(Ne,V,k,O)),re=ye,he=cne(),ve=(n=i??U)!==null&&n!==void 0?n:!1,[ke,j]=Tj([re,ve]),oe=V==="axis"?we:void 0;Mne(V,k,W,oe,F,ve);var pe=z??he;if(pe==null||N==null||V==null)return null;var ge=re??EM;ve||(ge=EM),d&&ge.length&&(ge=jK(ge.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||r.includeHidden)),_,kne));var Ie=ge.length>0,Oe=R.createElement(CJ,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ve,coordinate:W,hasPayload:Ie,offset:m,position:A,reverseDirection:b,useTranslate3d:C,viewBox:N,wrapperStyle:w,lastBoundingBox:ke,innerRef:j,hasPortalFromProps:!!z},Vne(f,_M(_M({},r),{},{payload:ge,label:oe,active:ve,activeIndex:F,coordinate:W,accessibilityLayer:B})));return R.createElement(R.Fragment,null,PO.createPortal(Oe,pe),ve&&R.createElement(une,{cursor:M,tooltipEventType:V,coordinate:W,payload:ge,index:F}))}function qne(t,e,n){return(e=Bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fne{constructor(e){qne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jne={cacheSize:2e3,enableCache:!0},wL=Hne({},jne),AM=new Fne(wL.cacheSize),Yne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SM="recharts_measurement_span";function Jne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var bM=(t,e)=>{try{var n=document.getElementById(SM);n||(n=document.createElement("span"),n.setAttribute("id",SM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Yne,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},uf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Iu.isSsr)return{width:0,height:0};if(!wL.enableCache)return bM(e,n);var r=Jne(e,n),i=AM.get(r);if(i)return i;var a=bM(e,n);return AM.set(r,a),a},wM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qne=Object.keys(CL),Xl="NaN";function Zne(t,e){return t*CL[e]}class ir{static parse(e){var n,[,r,i]=(n=Xne.exec(e))!==null&&n!==void 0?n:[];return new ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ji(e)&&(this.unit=""),n!==""&&!Wne.test(n)&&(this.num=NaN,this.unit=""),Qne.includes(n)&&(this.num=Zne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ji(this.num)}}function xL(t){if(t.includes(Xl))return Xl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=wM.exec(e))!==null&&n!==void 0?n:[],l=ir.parse(r??""),u=ir.parse(a??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Xl;e=e.replace(wM,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,_]=(d=CM.exec(e))!==null&&d!==void 0?d:[],A=ir.parse(h??""),b=ir.parse(_??""),C=m==="+"?A.add(b):A.subtract(b);if(C.isNaN())return Xl;e=e.replace(CM,C.toString())}return e}var xM=/\(([^()]*)\)/;function ere(t){for(var e=t,n;(n=xM.exec(e))!=null;){var[,r]=n;e=e.replace(xM,xL(r))}return e}function tre(t){var e=t.replace(/\s+/g,"");return e=ere(e),e=xL(e),e}function nre(t){try{return tre(t)}catch{return Xl}}function W0(t){var e=nre(t.slice(5,-1));return e===Xl?"":e}var rre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ire=["dx","dy","angle","className","breakAll"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function IM(t,e){if(t==null)return{};var n,r,i=ore(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ore(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IL=/[ \f\n\r\t\v\u2028\u2029]+/,RL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];_n(e)||(n?i=e.toString().split(""):i=e.toString().split(IL));var a=i.map(u=>({word:u,width:uf(u,r).width})),l=n?0:uf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function are(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var PL=(t,e,n,r)=>t.reduce((i,a)=>{var{word:l,width:u}=a,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),ML=t=>t.reduce((e,n)=>e.width>n.width?e:n),sre="",RM=(t,e,n,r,i,a,l,u)=>{var f=t.slice(0,e),d=RL({breakAll:n,style:r,children:f+sre});if(!d)return[!1,[]];var h=PL(d.wordsWithComputedWidth,a,l,u),m=h.length>i||ML(h).width>Number(a);return[m,h]},lre=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:f}=t,d=Re(a),h=String(l),m=PL(e,r,n,i);if(!d||i)return m;var _=m.length>a||ML(m).width>Number(r);if(!_)return m;for(var A=0,b=h.length-1,C=0,w;A<=b&&C<=h.length-1;){var M=Math.floor((A+b)/2),q=M-1,[k,G]=RM(h,q,f,u,a,r,n,i),[z]=RM(h,M,f,u,a,r,n,i);if(!k&&!z&&(A=M+1),k&&z&&(b=M-1),!k&&z){w=G;break}C++}return w||m},PM=t=>{var e=_n(t)?[]:t.toString().split(IL);return[{words:e,width:void 0}]},ure=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!Iu.isSsr){var u,f,d=RL({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return PM(r);return lre({breakAll:a,children:r,maxLines:l,style:i},u,f,e,!!n)}return PM(r)},NL="#808080",cre={breakAll:!1,capHeight:"0.71em",fill:NL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},BA=R.forwardRef((t,e)=>{var n=ur(t,cre),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=IM(n,rre),_=R.useMemo(()=>ure({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:A,dy:b,angle:C,className:w,breakAll:M}=m,q=IM(m,ire);if(!Wi(r)||!Wi(i)||_.length===0)return null;var k=Number(r)+(Re(A)?A:0),G=Number(i)+(Re(b)?b:0);if(!En(k)||!En(G))return null;var z;switch(h){case"start":z=W0("calc(".concat(l,")"));break;case"middle":z=W0("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:z=W0("calc(".concat(_.length-1," * -").concat(a,")"));break}var K=[];if(f){var P=_[0].width,{width:O}=m;K.push("scale(".concat(Re(O)&&Re(P)?O/P:1,")"))}return C&&K.push("rotate(".concat(C,", ").concat(k,", ").concat(G,")")),K.length&&(q.transform=K.join(" ")),R.createElement("text",wE({},Jn(q),{ref:e,x:k,y:G,className:vt("recharts-text",w),textAnchor:d,fill:u.includes("url")?NL:u}),_.map((N,B)=>{var V=N.words.join(M?"":" ");return R.createElement("tspan",{x:k,dy:B===0?z:a,key:"".concat(V,"-").concat(B)},V)}))});BA.displayName="Text";var fre=["labelRef"];function dre(t,e){if(t==null)return{};var n,r,i=hre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=gre(t,"string");return typeof e=="symbol"?e:e+""}function gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(null,arguments)}var DL=R.createContext(null),yre=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=t,f=R.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[e,n,r,i,a,l]);return R.createElement(DL.Provider,{value:f},u)},OL=()=>{var t=R.useContext(DL),e=Xm();return t||j2(e)},vre=R.createContext(null),_re=()=>{var t=R.useContext(vre),e=Pe(uV);return t||e},Ere=t=>{var{value:e,formatter:n}=t,r=_n(t.children)?e:t.children;return typeof n=="function"?n(r):r},zA=t=>t!=null&&typeof t=="function",Tre=(t,e)=>{var n=jr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Are=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:_,clockWise:A}=i,b=(d+h)/2,C=Tre(m,_),w=C>=0?1:-1,M,q;switch(e){case"insideStart":M=m+w*a,q=A;break;case"insideEnd":M=_-w*a,q=!A;break;case"end":M=_+w*a,q=A;break;default:throw new Error("Unsupported position ".concat(e))}q=C<=0?q:!q;var k=Nn(u,f,b,M),G=Nn(u,f,b,M+(q?1:-1)*359),z="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(q?0:1,`,
    `).concat(G.x,",").concat(G.y),K=_n(t.id)?Ef("recharts-radial-line-"):t.id;return R.createElement("text",To({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:K,d:z})),R.createElement("textPath",{xlinkHref:"#".concat(K)},n))},Sre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=Nn(r,i,l+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(a+l)/2,{x:A,y:b}=Nn(r,i,_,d);return{x:A,y:b,textAnchor:"middle",verticalAnchor:"middle"}},CE=t=>"cx"in t&&Re(t.cx),bre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!CE(n)&&(a=n);var{x:l,y:u,upperWidth:f,lowerWidth:d,height:h}=e,m=l,_=l+(f-d)/2,A=(m+_)/2,b=(f+d)/2,C=m+f/2,w=h>=0?1:-1,M=w*r,q=w>0?"end":"start",k=w>0?"start":"end",G=f>=0?1:-1,z=G*r,K=G>0?"end":"start",P=G>0?"start":"end";if(i==="top"){var O={x:m+f/2,y:u-M,textAnchor:"middle",verticalAnchor:q};return Bt(Bt({},O),a?{height:Math.max(u-a.y,0),width:f}:{})}if(i==="bottom"){var N={x:_+d/2,y:u+h+M,textAnchor:"middle",verticalAnchor:k};return Bt(Bt({},N),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var B={x:A-z,y:u+h/2,textAnchor:K,verticalAnchor:"middle"};return Bt(Bt({},B),a?{width:Math.max(B.x-a.x,0),height:h}:{})}if(i==="right"){var V={x:A+b+z,y:u+h/2,textAnchor:P,verticalAnchor:"middle"};return Bt(Bt({},V),a?{width:Math.max(a.x+a.width-V.x,0),height:h}:{})}var F=a?{width:b,height:h}:{};return i==="insideLeft"?Bt({x:A+z,y:u+h/2,textAnchor:P,verticalAnchor:"middle"},F):i==="insideRight"?Bt({x:A+b-z,y:u+h/2,textAnchor:K,verticalAnchor:"middle"},F):i==="insideTop"?Bt({x:m+f/2,y:u+M,textAnchor:"middle",verticalAnchor:k},F):i==="insideBottom"?Bt({x:_+d/2,y:u+h-M,textAnchor:"middle",verticalAnchor:q},F):i==="insideTopLeft"?Bt({x:m+z,y:u+M,textAnchor:P,verticalAnchor:k},F):i==="insideTopRight"?Bt({x:m+f-z,y:u+M,textAnchor:K,verticalAnchor:k},F):i==="insideBottomLeft"?Bt({x:_+z,y:u+h-M,textAnchor:P,verticalAnchor:q},F):i==="insideBottomRight"?Bt({x:_+d-z,y:u+h-M,textAnchor:K,verticalAnchor:q},F):i&&typeof i=="object"&&(Re(i.x)||Po(i.x))&&(Re(i.y)||Po(i.y))?Bt({x:l+Fa(i.x,b),y:u+Fa(i.y,h),textAnchor:"end",verticalAnchor:"end"},F):Bt({x:C,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},wre={offset:5,zIndex:jn.label};function Ca(t){var e=ur(t,wre),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:f,labelRef:d}=e,h=_re(),m=OL(),_=r==="center"?m:h??m,A,b,C;if(n==null?A=_:CE(n)?A=n:A=j2(n),!A||_n(i)&&_n(a)&&!R.isValidElement(l)&&typeof l!="function")return null;var w=Bt(Bt({},e),{},{viewBox:A});if(R.isValidElement(l)){var{labelRef:M}=w,q=dre(w,fre);return R.cloneElement(l,q)}if(typeof l=="function"){if(b=R.createElement(l,w),R.isValidElement(b))return b}else b=Ere(e);var k=Jn(e);if(CE(A)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Are(e,r,b,k,A);C=Sre(A,e.offset,e.position)}else C=bre(e,A);return R.createElement(Go,{zIndex:e.zIndex},R.createElement(BA,To({ref:d,className:vt("recharts-label",u)},k,C,{textAnchor:are(k.textAnchor)?k.textAnchor:C.textAnchor,breakAll:f}),b))}Ca.displayName="Label";var Cre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(Ca,To({key:"label-implicit"},r)):Wi(t)?R.createElement(Ca,To({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===Ca?R.cloneElement(t,Bt({key:"label-implicit"},r)):R.createElement(Ca,To({key:"label-implicit",content:t},r)):zA(t)?R.createElement(Ca,To({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(Ca,To({},t,{key:"label-implicit"},r)):null};function xre(t){var{label:e,labelRef:n}=t,r=OL();return Cre(e,r,n)||null}var X0={},Q0={},NM;function Ire(){return NM||(NM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Q0)),Q0}var Z0={},DM;function Rre(){return DM||(DM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Z0)),Z0}var OM;function Pre(){return OM||(OM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ire(),n=Rre(),r=DT();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(X0)),X0}var e_,kM;function Mre(){return kM||(kM=1,e_=Pre().last),e_}var Nre=Mre();const Dre=Zi(Nre);var Ore=["valueAccessor"],kre=["dataKey","clockWise","id","textBreakAll","zIndex"];function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(null,arguments)}function VM(t,e){if(t==null)return{};var n,r,i=Vre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lre=t=>Array.isArray(t.value)?Dre(t.value):t.value,kL=R.createContext(void 0),Ure=kL.Provider,VL=R.createContext(void 0);VL.Provider;function qre(){return R.useContext(kL)}function Bre(){return R.useContext(VL)}function op(t){var{valueAccessor:e=Lre}=t,n=VM(t,Ore),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,f=VM(n,kre),d=qre(),h=Bre(),m=d||h;return!m||!m.length?null:R.createElement(Go,{zIndex:u??jn.label},R.createElement(za,{className:"recharts-label-list"},m.map((_,A)=>{var b,C=_n(r)?e(_,A):Yn(_&&_.payload,r),w=_n(a)?{}:{id:"".concat(a,"-").concat(A)};return R.createElement(Ca,am({key:"label-".concat(A)},Jn(_),f,w,{fill:(b=n.fill)!==null&&b!==void 0?b:_.fill,parentViewBox:_.parentViewBox,value:C,textBreakAll:l,viewBox:_.viewBox,index:A,zIndex:0}))})))}op.displayName="LabelList";function zre(t){var{label:e}=t;return e?e===!0?R.createElement(op,{key:"labelList-implicit"}):R.isValidElement(e)||zA(e)?R.createElement(op,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(op,am({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}var LL=t=>{var{cx:e,cy:n,r,className:i}=t,a=vt("recharts-dot",i);return Re(e)&&Re(n)&&Re(r)?R.createElement("circle",xE({},Yi(t),NT(t),{className:a,cx:e,cy:n,r})):null},Fre={radiusAxis:{},angleAxis:{}},UL=cr({name:"polarAxis",initialState:Fre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:dle,removeRadiusAxis:hle,addAngleAxis:ple,removeAngleAxis:mle}=UL.actions,Hre=UL.reducer,qL=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,t_={},LM;function Gre(){return LM||(LM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(t_)),t_}var n_,UM;function $re(){return UM||(UM=1,n_=Gre().isPlainObject),n_}var Kre=$re();const jre=Zi(Kre);function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return(e=Jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(null,arguments)}var zM=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},Xre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qre=t=>{var e=ur(t,Xre),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=e,_=R.useRef(null),[A,b]=R.useState(-1),C=R.useRef(i),w=R.useRef(a),M=R.useRef(l),q=R.useRef(n),k=R.useRef(r),G=FT(t,"trapezoid-");if(R.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var ye=_.current.getTotalLength();ye&&b(ye)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var z=vt("recharts-trapezoid",u);if(!m)return R.createElement("g",null,R.createElement("path",sm({},Jn(e),{className:z,d:zM(n,r,i,a,l)})));var K=C.current,P=w.current,O=M.current,N=q.current,B=k.current,V="0px ".concat(A===-1?1:A,"px"),F="".concat(A,"px 0px"),U=ek(["strokeDasharray"],d,f);return R.createElement(zT,{animationId:G,key:G,canBegin:A>0,duration:d,easing:f,isActive:m,begin:h},ye=>{var we=sr(K,i,ye),W=sr(P,a,ye),re=sr(O,l,ye),he=sr(N,n,ye),ve=sr(B,r,ye);_.current&&(C.current=we,w.current=W,M.current=re,q.current=he,k.current=ve);var ke=ye>0?{transition:U,strokeDasharray:F}:{strokeDasharray:V};return R.createElement("path",sm({},Jn(e),{className:z,d:zM(he,ve,we,W,re),ref:_,style:BM(BM({},ke),e.style)}))})},Zre=["option","shapeType","propTransformer","activeClassName","isActive"];function eie(t,e){if(t==null)return{};var n,r,i=tie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return(e=rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oie(t,e){return lm(lm({},e),t)}function aie(t,e){return t==="symbols"}function HM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(ik,n);case"trapezoid":return R.createElement(Qre,n);case"sector":return R.createElement(sk,n);case"symbols":if(aie(e))return R.createElement(XO,n);break;case"curve":return R.createElement(Z2,n);default:return null}}function sie(t){return R.isValidElement(t)?t.props:t}function lie(t){var{option:e,shapeType:n,propTransformer:r=oie,activeClassName:i="recharts-active-shape",isActive:a}=t,l=eie(t,Zre),u;if(R.isValidElement(e))u=R.cloneElement(e,lm(lm({},l),sie(e)));else if(typeof e=="function")u=e(l);else if(jre(e)&&typeof e!="boolean"){var f=r(e,l);u=R.createElement(HM,{shapeType:n,elementProps:f})}else{var d=l;u=R.createElement(HM,{shapeType:n,elementProps:d})}return a?R.createElement(za,{className:i},u):u}function uie(t){var{fn:e,args:n}=t,r=Tn(),i=fr();return R.useLayoutEffect(()=>{if(!i){var a=e(n);return r(Dee(a)),()=>{r(Oee(a))}}},[e,n,r,i]),null}function cie(t){var{legendPayload:e}=t,n=Tn(),r=fr();return R.useLayoutEffect(()=>r?xu:(n(dJ(e)),()=>{n(hJ(e))}),[n,r,e]),null}var r_,fie=()=>{var[t]=R.useState(()=>Ef("uid-"));return t},die=(r_=Q4.useId)!==null&&r_!==void 0?r_:fie;function BL(t,e){var n=die();return e||(t?"".concat(t,"-").concat(n):n)}var hie=R.createContext(void 0),pie=t=>{var{id:e,type:n,children:r}=t,i=BL("recharts-".concat(n),e);return R.createElement(hie.Provider,{value:i},r(i))},mie={cartesianItems:[],polarItems:[]},zL=cr({name:"graphicalItems",initialState:mie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:ln()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=bo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:ln()},removeCartesianGraphicalItem:{reducer(t,e){var n=bo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:ln()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:ln()},removePolarGraphicalItem:{reducer(t,e){var n=bo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:ln()}}}),{addCartesianGraphicalItem:gie,replaceCartesianGraphicalItem:yie,removeCartesianGraphicalItem:vie,addPolarGraphicalItem:gle,removePolarGraphicalItem:yle}=zL.actions,_ie=zL.reducer;function Eie(t){var e=Tn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(gie(t)):n.current!==t&&e(yie({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(vie(n.current)),n.current=null)},[e]),null}var Tie=["points"];function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(null,arguments)}function wie(t,e){if(t==null)return{};var n,r,i=Cie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xie(t){var{option:e,dotProps:n,className:r}=t;if(R.isValidElement(e))return R.cloneElement(e,n);if(typeof e=="function")return e(n);var i=vt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:l}=a,u=wie(a,Tie);return R.createElement(LL,um({},u,{className:i}))}function Iie(t,e){return t==null?!1:e?!0:t.length===1}function Rie(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:f,zIndex:d=jn.scatter}=t;if(!Iie(e,n))return null;var h=qL(n),m=_$(n),_=e.map((b,C)=>{var w,M,q=i_(i_(i_({r:3},l),m),{},{index:C,cx:(w=b.x)!==null&&w!==void 0?w:void 0,cy:(M=b.y)!==null&&M!==void 0?M:void 0,dataKey:a,value:b.value,payload:b.payload,points:e});return R.createElement(xie,{key:"dot-".concat(C),option:n,dotProps:q,className:i})}),A={};return u&&f!=null&&(A.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),R.createElement(Go,{zIndex:d},R.createElement(za,um({className:r},A),_))}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e,n){return(e=Mie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mie(t){var e=Nie(t,"string");return typeof e=="symbol"?e:e+""}function Nie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Die={xAxis:{},yAxis:{},zAxis:{}},FL=cr({name:"cartesianAxis",initialState:Die,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:ln()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:ln()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:ln()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:ln()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:ln()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:ln()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);t.yAxis[n]=KM(KM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Oie,removeXAxis:kie,addYAxis:Vie,removeYAxis:Lie,addZAxis:vle,removeZAxis:_le,updateYAxisWidth:Uie}=FL.actions,qie=FL.reducer,Bie=ie([kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),zie=ie([Bie,Uo,qo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),FA=()=>Pe(zie),Fie=()=>Pe(Ste);function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){Hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hie(t,e,n){return(e=Gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kie=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=o_(o_(o_({},l),Vm(i)),NT(i)),f;return R.isValidElement(i)?f=R.cloneElement(i,u):typeof i=="function"?f=i(u):f=R.createElement(LL,u),R.createElement(za,{className:"recharts-active-dot"},f)};function jie(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=jn.activeDot}=t,l=Pe(Pf),u=Fie();if(e==null||u==null)return null;var f=e.find(d=>u.includes(d.payload));return _n(f)?null:R.createElement(Go,{zIndex:a},R.createElement(Kie,{point:f,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r}))}var Yie={},HL=cr({name:"errorBars",initialState:Yie,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ele,replaceErrorBar:Tle,removeErrorBar:Ale}=HL.actions,Jie=HL.reducer,Wie=["children"];function Xie(t,e){if(t==null)return{};var n,r,i=Qie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},eoe=R.createContext(Zie);function toe(t){var{children:e}=t,n=Xie(t,Wie);return R.createElement(eoe.Provider,{value:n},e)}function GL(t,e){var n,r,i=Pe(d=>zo(d,t)),a=Pe(d=>Fo(d,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ar.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Sr.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function noe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=FA(),{needClipX:a,needClipY:l,needClip:u}=GL(e,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?f:f-h/2,y:l?d:d-m/2,width:a?h:h*2,height:l?m:m*2}))}var roe=t=>{var{chartData:e}=t,n=Tn(),r=fr();return R.useEffect(()=>r?()=>{}:(n(gM(e)),()=>{n(gM(void 0))}),[e,n,r]),null},YM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$L=cr({name:"brush",initialState:YM,reducers:{setBrushSettings(t,e){return e.payload==null?YM:e.payload}}}),{setBrushSettings:Sle}=$L.actions,ioe=$L.reducer;function ooe(t,e,n){return(e=aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aoe(t){var e=soe(t,"string");return typeof e=="symbol"?e:e+""}function soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HA{static create(e){return new HA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ooe(HA,"EPS",1e-4);function loe(t){return(t%180+180)%180}var uoe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=loe(i),l=a*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},coe={dots:[],areas:[],lines:[]},KL=cr({name:"referenceElements",initialState:coe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=bo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=bo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=bo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ble,removeDot:wle,addArea:Cle,removeArea:xle,addLine:Ile,removeLine:Rle}=KL.actions,foe=KL.reducer,doe=R.createContext(void 0),hoe=t=>{var{children:e}=t,[n]=R.useState("".concat(Ef("recharts"),"-clip")),r=FA();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return R.createElement(doe.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:u,width:l}))),e)};function gu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function jL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function poe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return uoe(r,n)}function moe(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:u}=t;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function cm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function goe(t,e){return jL(t,e+1)}function yoe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=e,f=0,d=1,h=l,m=function(){var b=r==null?void 0:r[f];if(b===void 0)return{v:jL(r,d)};var C=f,w,M=()=>(w===void 0&&(w=n(b,C)),w),q=b.coordinate,k=f===0||cm(t,q,M,h,u);k||(f=0,h=l,d+=1),k&&(h=q+t*(M()/2+i),f+=d)},_;d<=a.length;)if(_=m(),_)return _.v;return[]}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e,n){return(e=_oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=Eoe(t,"string");return typeof e=="symbol"?e:e+""}function Eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Toe(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=e,{end:f}=e,d=function(_){var A=a[_],b,C=()=>(b===void 0&&(b=n(A,_)),b);if(_===l-1){var w=t*(A.coordinate+t*C()/2-f);a[_]=A=Un(Un({},A),{},{tickCoord:w>0?A.coordinate-w*t:A.coordinate})}else a[_]=A=Un(Un({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var M=cm(t,A.tickCoord,C,u,f);M&&(f=A.tickCoord-t*(C()/2+i),a[_]=Un(Un({},A),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return a}function Aoe(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=e;if(a){var h=r[u-1],m=n(h,u-1),_=t*(h.coordinate+t*m/2-d);if(l[u-1]=h=Un(Un({},h),{},{tickCoord:_>0?h.coordinate-_*t:h.coordinate}),h.tickCoord!=null){var A=cm(t,h.tickCoord,()=>m,f,d);A&&(d=h.tickCoord-t*(m/2+i),l[u-1]=Un(Un({},h),{},{isShow:!0}))}}for(var b=a?u-1:u,C=function(q){var k=l[q],G,z=()=>(G===void 0&&(G=n(k,q)),G);if(q===0){var K=t*(k.coordinate-t*z()/2-f);l[q]=k=Un(Un({},k),{},{tickCoord:K<0?k.coordinate-K*t:k.coordinate})}else l[q]=k=Un(Un({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var P=cm(t,k.tickCoord,z,f,d);P&&(f=k.tickCoord+t*(z()/2+i),l[q]=Un(Un({},k),{},{isShow:!0}))}},w=0;w<b;w++)C(w);return l}function GA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Re(f)||Iu.isSsr){var _;return(_=goe(i,Re(f)?f:0))!==null&&_!==void 0?_:[]}var A=[],b=u==="top"||u==="bottom"?"width":"height",C=h&&b==="width"?uf(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(k,G)=>{var z=typeof d=="function"?d(k.value,G):k.value;return b==="width"?poe(uf(z,{fontSize:e,letterSpacing:n}),C,m):uf(z,{fontSize:e,letterSpacing:n})[b]},M=i.length>=2?jr(i[1].coordinate-i[0].coordinate):1,q=moe(a,M,b);return f==="equidistantPreserveStart"?yoe(M,q,w,i,l):(f==="preserveStart"||f==="preserveStartEnd"?A=Aoe(M,q,w,i,l,f==="preserveStartEnd"):A=Toe(M,q,w,i,l),A.filter(k=>k.isShow))}var Soe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,d=l+f+u+(n?r:0);return Math.round(d)}return 0},boe=["axisLine","width","height","className","hide","ticks","axisType"],woe=["viewBox"],Coe=["viewBox"];function IE(t,e){if(t==null)return{};var n,r,i=xoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(null,arguments)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e,n){return(e=Roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Poe(t,"string");return typeof e=="symbol"?e:e+""}function Poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $A={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:jn.axis};function Moe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=Qt(Qt(Qt({},f),Yi(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);d=Qt(Qt({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);d=Qt(Qt({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return R.createElement("line",Ks({},d,{className:vt("recharts-cartesian-axis-line",Bm(u,"className"))}))}function Noe(t,e,n,r,i,a,l,u,f){var d,h,m,_,A,b,C=u?-1:1,w=t.tickSize||l,M=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=h=t.coordinate,_=n+ +!u*i,m=_-C*w,b=m-C*f,A=M;break;case"left":m=_=t.coordinate,h=e+ +!u*r,d=h-C*w,A=d-C*f,b=M;break;case"right":m=_=t.coordinate,h=e+ +u*r,d=h+C*w,A=d+C*f,b=M;break;default:d=h=t.coordinate,_=n+ +u*i,m=_+C*w,b=m+C*f,A=M;break}return{line:{x1:d,y1:m,x2:h,y2:_},tick:{x:A,y:b}}}function Doe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Ooe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function koe(t){var{option:e,tickProps:n,value:r}=t,i,a=vt(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,Qt(Qt({},n),{},{className:a}));else if(typeof e=="function")i=e(Qt(Qt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=vt(l,e==null?void 0:e.className)),i=R.createElement(BA,Ks({},n,{className:l}),r)}return i}var Voe=R.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:_,y:A,width:b,height:C,tickSize:w,tickMargin:M,fontSize:q,letterSpacing:k,getTicksConfig:G,events:z,axisType:K}=t,P=GA(Qt(Qt({},G),{},{ticks:n}),q,k),O=Doe(h,m),N=Ooe(h,m),B=Yi(G),V=Vm(r),F={};typeof i=="object"&&(F=i);var U=Qt(Qt({},B),{},{fill:"none"},F),ye=P.map(re=>Qt({entry:re},Noe(re,_,A,b,C,h,w,m,M))),we=ye.map(re=>{var{entry:he,line:ve}=re;return R.createElement(za,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&R.createElement("line",Ks({},U,ve,{className:vt("recharts-cartesian-axis-tick-line",Bm(i,"className"))})))}),W=ye.map((re,he)=>{var{entry:ve,tick:ke}=re,j=Qt(Qt(Qt(Qt({textAnchor:O,verticalAnchor:N},B),{},{stroke:"none",fill:a},V),ke),{},{index:he,payload:ve,visibleTicksCount:P.length,tickFormatter:l,padding:f},d);return R.createElement(za,Ks({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},SK(z,ve,he)),r&&R.createElement(koe,{option:r,tickProps:j,value:"".concat(typeof l=="function"?l(ve.value,he):ve.value).concat(u||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(K,"-ticks")},W.length>0&&R.createElement(Go,{zIndex:jn.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(K,"-tick-labels"),ref:e},W)),we.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(K,"-tick-lines")},we))}),Loe=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:f}=t,d=IE(t,boe),[h,m]=R.useState(""),[_,A]=R.useState(""),b=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return Soe({ticks:b.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var C=R.useCallback(w=>{if(w){var M=w.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=M;var q=M[0];if(q){var k=window.getComputedStyle(q),G=k.fontSize,z=k.letterSpacing;(G!==h||z!==_)&&(m(G),A(z))}}},[h,_]);return l||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(Go,{zIndex:t.zIndex},R.createElement(za,{className:vt("recharts-cartesian-axis",a)},R.createElement(Moe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Yi(t)}),R.createElement(Voe,{ref:C,axisType:f,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:_,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),R.createElement(yre,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},R.createElement(xre,{label:t.label,labelRef:t.labelRef}),t.children)))}),Uoe=R.memo(Loe,(t,e)=>{var{viewBox:n}=t,r=IE(t,woe),{viewBox:i}=e,a=IE(e,Coe);return gu(n,i)&&gu(r,a)}),KA=R.forwardRef((t,e)=>{var n=ur(t,$A);return R.createElement(Uoe,Ks({},n,{ref:e}))});KA.displayName="CartesianAxis";var qoe=["x1","y1","x2","y2","key"],Boe=["offset"],zoe=["xAxisId","yAxisId"],Foe=["xAxisId","yAxisId"];function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){Hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hoe(t,e,n){return(e=Goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Goe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(null,arguments)}function fm(t,e){if(t==null)return{};var n,r,i=Koe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Koe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var joe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=t;return R.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YL(t){var{option:e,lineItemProps:n}=t,r;if(R.isValidElement(e))r=R.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:l,x2:u,y2:f,key:d}=n,h=fm(n,qoe),m=(i=Yi(h))!==null&&i!==void 0?i:{},{offset:_}=m,A=fm(m,Boe);r=R.createElement("line",Ns({},A,{x1:a,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function Yoe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=fm(t,zoe),f=i.map((d,h)=>{var m=zn(zn({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return R.createElement(YL,{key:"line-".concat(h),option:r,lineItemProps:m})});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Joe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=fm(t,Foe),f=i.map((d,h)=>{var m=zn(zn({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return R.createElement(YL,{option:r,lineItemProps:m,key:"line-".concat(h)})});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Woe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,_)=>m-_);i!==d[0]&&d.unshift(0);var h=d.map((m,_)=>{var A=!d[_+1],b=A?i+l-m:d[_+1]-m;if(b<=0)return null;var C=_%e.length;return R.createElement("rect",{key:"react-".concat(_),y:m,x:r,height:b,width:a,stroke:"none",fill:e[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Xoe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,_)=>m-_);i!==d[0]&&d.unshift(0);var h=d.map((m,_)=>{var A=!d[_+1],b=A?i+l-m:d[_+1]-m;if(b<=0)return null;var C=_%n.length;return R.createElement("rect",{key:"react-".concat(_),x:m,y:a,width:b,height:u,stroke:"none",fill:n[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Qoe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return q2(GA(zn(zn(zn({},$A),n),{},{ticks:B2(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Zoe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return q2(GA(zn(zn(zn({},$A),n),{},{ticks:B2(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},eae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:jn.grid};function JL(t){var e=J2(),n=W2(),r=Y2(),i=zn(zn({},ur(t,eae)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:_,verticalValues:A}=i,b=fr(),C=Pe(N=>iM(N,"xAxis",a,b)),w=Pe(N=>iM(N,"yAxis",l,b));if(!Xi(d)||!Xi(h)||!Re(u)||!Re(f))return null;var M=i.verticalCoordinatesGenerator||Qoe,q=i.horizontalCoordinatesGenerator||Zoe,{horizontalPoints:k,verticalPoints:G}=i;if((!k||!k.length)&&typeof q=="function"){var z=_&&_.length,K=q({yAxis:w?zn(zn({},w),{},{ticks:z?_:w.ticks}):void 0,width:e??d,height:n??h,offset:r},z?!0:m);zp(Array.isArray(K),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(k=K)}if((!G||!G.length)&&typeof M=="function"){var P=A&&A.length,O=M({xAxis:C?zn(zn({},C),{},{ticks:P?A:C.ticks}):void 0,width:e??d,height:n??h,offset:r},P?!0:m);zp(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(G=O)}return R.createElement(Go,{zIndex:i.zIndex},R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(joe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(Woe,Ns({},i,{horizontalPoints:k})),R.createElement(Xoe,Ns({},i,{verticalPoints:G})),R.createElement(Yoe,Ns({},i,{offset:r,horizontalPoints:k,xAxis:C,yAxis:w})),R.createElement(Joe,Ns({},i,{offset:r,verticalPoints:G,xAxis:C,yAxis:w}))))}JL.displayName="CartesianGrid";var WL=(t,e,n,r)=>JV(t,"xAxis",e,r),XL=(t,e,n,r)=>YV(t,"xAxis",e,r),QL=(t,e,n,r)=>JV(t,"yAxis",n,r),ZL=(t,e,n,r)=>YV(t,"yAxis",n,r),tae=ie([Ct,WL,QL,XL,ZL],(t,e,n,r,i)=>Ka(t,"xAxis")?Bp(e,r,!1):Bp(n,i,!1)),nae=(t,e,n,r,i)=>i;function rae(t){return t.type==="line"}var iae=ie([gV,nae],(t,e)=>t.filter(rae).find(n=>n.id===e)),oae=ie([Ct,WL,QL,XL,ZL,iae,tae,dA],(t,e,n,r,i,a,l,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:m,data:_}=a,A;if(_!=null&&_.length>0?A=_:A=f==null?void 0:f.slice(d,h+1),A!=null)return Cae({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:A})}});function aae(t){var e=Vm(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var sae=["id"],lae=["type","layout","connectNulls","needClip","shape"],uae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(null,arguments)}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=dae(t,"string");return typeof e=="symbol"?e:e+""}function dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jA(t,e){if(t==null)return{};var n,r,i=hae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pae=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:z2(n,e),payload:t}]};function mae(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:z2(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var eU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function gae(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var yae=(t,e,n)=>{var r=n.reduce((m,_)=>m+_);if(!r)return eU(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>a){u=[...n.slice(0,f),a-d];break}var h=u.length%2===0?[0,l]:[l];return[...gae(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function vae(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,f=jA(r,sae),d=Yi(f);return R.createElement(Rie,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:l,clipPathId:e})}function _ae(t){var{showLabels:e,children:n,points:r}=t,i=R.useMemo(()=>r==null?void 0:r.map(a=>{var l,u,f={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ui(Ui({},f),{},{value:a.value,payload:a.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return R.createElement(Ure,{value:e?i:void 0},n)}function ZM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:u,connectNulls:f,needClip:d,shape:h}=a,m=jA(a,lae),_=Ui(Ui({},Jn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??a.strokeDasharray});return R.createElement(R.Fragment,null,(r==null?void 0:r.length)>1&&R.createElement(lie,Nf({shapeType:"curve",option:h},_,{pathRef:n})),R.createElement(vae,{points:r,clipPathId:e,props:a}))}function Eae(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Tae(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:_,width:A,height:b,onAnimationEnd:C,onAnimationStart:w}=n,M=i.current,q=FT(n,"recharts-line-"),[k,G]=R.useState(!1),z=!k,K=R.useCallback(()=>{typeof C=="function"&&C(),G(!1)},[C]),P=R.useCallback(()=>{typeof w=="function"&&w(),G(!0)},[w]),O=Eae(r.current),N=a.current;return R.createElement(_ae,{points:l,showLabels:z},n.children,R.createElement(zT,{animationId:q,begin:d,duration:h,isActive:f,easing:m,onAnimationEnd:K,onAnimationStart:P,key:q},B=>{var V=sr(N,O+N,B),F=Math.min(V,O),U;if(f)if(u){var ye="".concat(u).split(/[,\s]+/gim).map(re=>parseFloat(re));U=yae(F,O,ye)}else U=eU(O,F);else U=u==null?void 0:String(u);if(M){var we=M.length/l.length,W=B===1?l:l.map((re,he)=>{var ve=Math.floor(he*we);if(M[ve]){var ke=M[ve];return Ui(Ui({},re),{},{x:sr(ke.x,re.x,B),y:sr(ke.y,re.y,B)})}return _?Ui(Ui({},re),{},{x:sr(A*2,re.x,B),y:sr(b/2,re.y,B)}):Ui(Ui({},re),{},{x:re.x,y:re.y})});return i.current=W,R.createElement(ZM,{props:n,points:W,clipPathId:e,pathRef:r,strokeDasharray:U})}return B>0&&O>0&&(i.current=l,a.current=F),R.createElement(ZM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:U})}),R.createElement(zre,{label:n.label}))}function Aae(t){var{clipPathId:e,props:n}=t,r=R.useRef(null),i=R.useRef(0),a=R.useRef(null);return R.createElement(Tae,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Sae=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Yn(t.payload,e)}};class bae extends R.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:f,width:d,height:h,id:m,needClip:_,zIndex:A}=this.props;if(e)return null;var b=vt("recharts-line",i),C=m,{r:w,strokeWidth:M}=aae(n),q=qL(n),k=w*2+M;return R.createElement(Go,{zIndex:A},R.createElement(za,{className:b},_&&R.createElement("defs",null,R.createElement(noe,{clipPathId:C,xAxisId:a,yAxisId:l}),!q&&R.createElement("clipPath",{id:"clipPath-dots-".concat(C)},R.createElement("rect",{x:f-k/2,y:u-k/2,width:d+k,height:h+k}))),R.createElement(toe,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:Sae,errorBarOffset:0},R.createElement(Aae,{props:this.props,clipPathId:C}))),R.createElement(jie,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var tU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Iu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:jn.line};function wae(t){var e=ur(t,tU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:f,hide:d,isAnimationActive:h,label:m,legendType:_,xAxisId:A,yAxisId:b,id:C}=e,w=jA(e,uae),{needClip:M}=GL(A,b),q=FA(),k=Qm(),G=fr(),z=Pe(B=>oae(B,A,b,G,C));if(k!=="horizontal"&&k!=="vertical"||z==null||q==null)return null;var{height:K,width:P,x:O,y:N}=q;return R.createElement(bae,Nf({},w,{id:C,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:_,xAxisId:A,yAxisId:b,points:z,layout:k,height:K,width:P,left:O,top:N,needClip:M}))}function Cae(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((d,h)=>{var m=Yn(d,l);if(e==="horizontal"){var _=DR({axis:n,ticks:i,bandSize:u,entry:d,index:h}),A=_n(m)?null:r.scale(m);return{x:_,y:A,value:m,payload:d}}var b=_n(m)?null:n.scale(m),C=DR({axis:r,ticks:a,bandSize:u,entry:d,index:h});return b==null||C==null?null:{x:b,y:C,value:m,payload:d}}).filter(Boolean)}function xae(t){var e=ur(t,tU),n=fr();return R.createElement(pie,{id:e.id,type:"line"},r=>R.createElement(R.Fragment,null,R.createElement(cie,{legendPayload:pae(e)}),R.createElement(uie,{fn:mae,args:e}),R.createElement(Eie,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),R.createElement(wae,Nf({},e,{id:r}))))}var nU=R.memo(xae);nU.displayName="Line";var Iae=["dangerouslySetInnerHTML","ticks"],Rae=["id"],Pae=["domain"],Mae=["domain"];function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(null,arguments)}function dm(t,e){if(t==null)return{};var n,r,i=Nae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dae(t){var e=Tn();return R.useLayoutEffect(()=>(e(Oie(t)),()=>{e(kie(t))}),[t,e]),null}var Oae=t=>{var{xAxisId:e,className:n}=t,r=Pe(H2),i=fr(),a="xAxis",l=Pe(w=>Ou(w,a,e,i)),u=Pe(w=>jV(w,a,e,i)),f=Pe(w=>gee(w,e)),d=Pe(w=>Aee(w,e)),h=Pe(w=>dV(w,e));if(f==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:_}=t,A=dm(t,Iae),{id:b}=h,C=dm(h,Rae);return R.createElement(KA,RE({},A,C,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:vt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},kae={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:Ar.allowDecimals,allowDuplicatedCategory:Ar.allowDuplicatedCategory,height:Ar.height,hide:!1,mirror:Ar.mirror,orientation:Ar.orientation,padding:Ar.padding,reversed:Ar.reversed,scale:Ar.scale,tickCount:Ar.tickCount,type:Ar.type,xAxisId:0},Vae=t=>{var e,n,r,i,a,l=ur(t,kae);return R.createElement(R.Fragment,null,R.createElement(Dae,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),R.createElement(Oae,l))},Lae=(t,e)=>{var{domain:n}=t,r=dm(t,Pae),{domain:i}=e,a=dm(e,Mae);return gu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:gu({domain:n},{domain:i}):!1},rU=R.memo(Vae,Lae);rU.displayName="XAxis";var Uae=["dangerouslySetInnerHTML","ticks"],qae=["id"],Bae=["domain"],zae=["domain"];function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(null,arguments)}function hm(t,e){if(t==null)return{};var n,r,i=Fae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hae(t){var e=Tn();return R.useLayoutEffect(()=>(e(Vie(t)),()=>{e(Lie(t))}),[t,e]),null}var Gae=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),l=R.useRef(null),u=Pe(H2),f=fr(),d=Tn(),h="yAxis",m=Pe(z=>Ou(z,h,e,f)),_=Pe(z=>wee(z,e)),A=Pe(z=>bee(z,e)),b=Pe(z=>jV(z,h,e,f)),C=Pe(z=>hV(z,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!_||zA(i)||R.isValidElement(i)||C==null)){var z=a.current;if(z){var K=z.getCalculatedWidth();Math.round(_.width)!==Math.round(K)&&d(Uie({id:e,width:K}))}}},[b,_,d,i,e,r,C]),_==null||A==null||C==null)return null;var{dangerouslySetInnerHTML:w,ticks:M}=t,q=hm(t,Uae),{id:k}=C,G=hm(C,qae);return R.createElement(KA,PE({},q,G,{ref:a,labelRef:l,scale:m,x:A.x,y:A.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:_.width,height:_.height,className:vt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:b,axisType:h}))},$ae={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:Sr.allowDecimals,allowDuplicatedCategory:Sr.allowDuplicatedCategory,hide:!1,mirror:Sr.mirror,orientation:Sr.orientation,padding:Sr.padding,reversed:Sr.reversed,scale:Sr.scale,tickCount:Sr.tickCount,type:Sr.type,width:Sr.width,yAxisId:0},Kae=t=>{var e,n,r,i,a,l=ur(t,$ae);return R.createElement(R.Fragment,null,R.createElement(Hae,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),R.createElement(Gae,l))},jae=(t,e)=>{var{domain:n}=t,r=hm(t,Bae),{domain:i}=e,a=hm(e,zae);return gu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:gu({domain:n},{domain:i}):!1},iU=R.memo(Kae,jae);iU.displayName="YAxis";var a_={exports:{}},s_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function Yae(){if(eN)return s_;eN=1;var t=yu();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return s_.useSyncExternalStoreWithSelector=function(f,d,h,m,_){var A=i(null);if(A.current===null){var b={hasValue:!1,value:null};A.current=b}else b=A.current;A=l(function(){function w(z){if(!M){if(M=!0,q=z,z=m(z),_!==void 0&&b.hasValue){var K=b.value;if(_(K,z))return k=K}return k=z}if(K=k,n(q,z))return K;var P=m(z);return _!==void 0&&_(K,P)?(q=z,K):(q=z,k=P)}var M=!1,q,k,G=h===void 0?null:h;return[function(){return w(d())},G===null?void 0:function(){return w(G())}]},[d,h,m,_]);var C=r(f,A[0],A[1]);return a(function(){b.hasValue=!0,b.value=C},[C]),u(C),C},s_}var tN;function Jae(){return tN||(tN=1,a_.exports=Yae()),a_.exports}Jae();function Wae(t){t()}function Xae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var nN={notify(){},get:()=>[]};function Qae(t,e){let n,r=nN,i=0,a=!1;function l(C){h();const w=r.subscribe(C);let M=!1;return()=>{M||(M=!0,w(),m())}}function u(){r.notify()}function f(){b.onStateChange&&b.onStateChange()}function d(){return a}function h(){i++,n||(n=t.subscribe(f),r=Xae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=nN)}function _(){a||(a=!0,h())}function A(){a&&(a=!1,m())}const b={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:_,tryUnsubscribe:A,getListeners:()=>r};return b}var Zae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ese=Zae(),tse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nse=tse(),rse=()=>ese||nse?R.useLayoutEffect:R.useEffect,ise=rse(),l_=Symbol.for("react-redux-context"),u_=typeof globalThis<"u"?globalThis:{};function ose(){if(!R.createContext)return{};const t=u_[l_]??(u_[l_]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var ase=ose();function sse(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const f=Qae(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=R.useMemo(()=>i.getState(),[i]);ise(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const u=n||ase;return R.createElement(u.Provider,{value:a},e)}var lse=sse,use=(t,e)=>e,YA=ie([use,Ct,uV,dn,fL,Ho,Vte,kn],Hte),JA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},oU=Wr("mouseClick"),aU=zf();aU.startListening({actionCreator:oU,effect:(t,e)=>{var n=t.payload,r=YA(e.getState(),JA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Lee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ME=Wr("mouseMove"),sU=zf();sU.startListening({actionCreator:ME,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=MA(r,r.tooltip.settings.shared),a=YA(r,JA(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(nL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(tL()))}});var rN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},lU=cr({name:"rootProps",initialState:rN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:rN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),cse=lU.reducer,{updateOptions:fse}=lU.actions,uU=cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Ple}=uU.actions,dse=uU.reducer,cU=Wr("keyDown"),fU=Wr("focus"),WA=zf();WA.startListening({actionCreator:cU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(NA(i,Vu(n))),u=Ho(n);if(a==="Enter"){var f=om(n,"axis","hover",String(i.index));e.dispatch(AE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=Ree(n),h=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,_=l+m*h;if(!(u==null||_>=u.length||_<0)){var A=om(n,"axis","hover",String(_));e.dispatch(AE({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:A}))}}}}});WA.startListening({actionCreator:fU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=om(n,"axis","hover",String(a));e.dispatch(AE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var $r=Wr("externalEvent"),dU=zf();dU.startListening({actionCreator:$r,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Ete(n),activeDataKey:vte(n),activeIndex:Pf(n),activeLabel:pL(n),activeTooltipIndex:Pf(n),isTooltipActive:Tte(n)};t.payload.handler(r,t.payload.reactEvent)}}});var hse=ie([ku],t=>t.tooltipItemPayloads),pse=ie([hse,Xf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),hU=Wr("touchMove"),pU=zf();pU.startListening({actionCreator:hU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=MA(r,r.tooltip.settings.shared);if(i==="axis"){var a=YA(r,JA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(nL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(DY),h=(l=f.getAttribute(OY))!==null&&l!==void 0?l:void 0,m=pse(e.getState(),d,h);e.dispatch(Vee({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var mse=h2({brush:ioe,cartesianAxis:qie,chartData:Tne,errorBars:Jie,graphicalItems:_ie,layout:yY,legend:pJ,options:gne,polarAxis:Hre,polarOptions:dse,referenceElements:foe,rootProps:cse,tooltip:Uee,zIndex:rne}),gse=function(e){return Fj({reducer:mse,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([aU.middleware,sU.middleware,WA.middleware,dU.middleware,pU.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(w2({type:"raf"}))},devTools:Iu.devToolsEnabled})};function yse(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=fr(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=gse(e));var l=OT;return R.createElement(lse,{context:l,store:a.current},n)}function vse(t){var{layout:e,margin:n}=t,r=Tn(),i=fr();return R.useEffect(()=>{i||(r(pY(e)),r(hY(n)))},[r,i,e,n]),null}function _se(t){var e=Tn();return R.useEffect(()=>{e(fse(t))},[e,t]),null}function iN(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=BL("".concat(r).concat(e)),a=Tn();return R.useLayoutEffect(()=>(a(tne({zIndex:e,elementId:i,isPanorama:n})),()=>{a(nne({zIndex:e,isPanorama:n}))}),[a,e,i,n]),R.createElement("g",{id:i})}function oN(t){var{children:e,isPanorama:n}=t,r=Pe($te);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return R.createElement(R.Fragment,null,i.map(l=>R.createElement(iN,{key:l,zIndex:l,isPanorama:n})),e,a.map(l=>R.createElement(iN,{key:l,zIndex:l,isPanorama:n})))}var Ese=["children"];function Tse(t,e){if(t==null)return{};var n,r,i=Ase(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ase(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(null,arguments)}var Sse={width:"100%",height:"100%",display:"block"},bse=R.forwardRef((t,e)=>{var n=J2(),r=W2(),i=Q2();if(!Xi(n)||!Xi(r))return null;var{children:a,otherAttributes:l,title:u,desc:f}=t,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),R.createElement(RO,pm({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:Sse,ref:e}),a)}),wse=t=>{var{children:e}=t,n=Pe(Wm);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return R.createElement(RO,{width:r,height:i,x:l,y:a},e)},aN=R.forwardRef((t,e)=>{var{children:n}=t,r=Tse(t,Ese),i=fr();return i?R.createElement(wse,null,R.createElement(oN,{isPanorama:!0},n)):R.createElement(bse,pm({ref:e},r),R.createElement(oN,{isPanorama:!1},n))});function Cse(){var t=Tn(),[e,n]=R.useState(null),r=Pe(NY);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;En(a)&&a!==r&&t(gY(a))}},[e,t,r]),n}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return(e=Rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Pse(t,"string");return typeof e=="symbol"?e:e+""}function Pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}var Mse=()=>(Pne(),null);function mm(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Nse=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[a,l]=R.useState({containerWidth:mm((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:mm((r=t.style)===null||r===void 0?void 0:r.height)}),u=R.useCallback((d,h)=>{l(m=>{var _=Math.round(d),A=Math.round(h);return m.containerWidth===_&&m.containerHeight===A?m:{containerWidth:_,containerHeight:A}})},[]),f=R.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var _=b=>{var{width:C,height:w}=b[0].contentRect;u(C,w)},A=new ResizeObserver(_);A.observe(d),i.current=A}},[e,u]);return R.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),R.createElement(R.Fragment,null,R.createElement(Zm,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",js({ref:f},t)))}),Dse=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=R.useState({containerWidth:mm(n),containerHeight:mm(r)}),l=R.useCallback((f,d)=>{a(h=>{var m=Math.round(f),_=Math.round(d);return h.containerWidth===m&&h.containerHeight===_?h:{containerWidth:m,containerHeight:_}})},[]),u=R.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[e,l]);return R.createElement(R.Fragment,null,R.createElement(Zm,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",js({ref:u},t)))}),Ose=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(Zm,{width:n,height:r}),R.createElement("div",js({ref:e},t)))}),kse=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return Po(n)||Po(r)?R.createElement(Dse,js({},t,{ref:e})):R.createElement(Ose,js({},t,{ref:e}))});function Vse(t){return t===!0?Nse:kse}var Lse=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:_,onTouchEnd:A,onTouchMove:b,onTouchStart:C,style:w,width:M,responsive:q,dispatchTouchEvents:k=!0}=t,G=R.useRef(null),z=Tn(),[K,P]=R.useState(null),[O,N]=R.useState(null),B=Cse(),V=BT(),F=(V==null?void 0:V.width)>0?V.width:M,U=(V==null?void 0:V.height)>0?V.height:i,ye=R.useCallback(se=>{B(se),typeof e=="function"&&e(se),P(se),N(se),se!=null&&(G.current=se)},[B,e,P,N]),we=R.useCallback(se=>{z(oU(se)),z($r({handler:a,reactEvent:se}))},[z,a]),W=R.useCallback(se=>{z(ME(se)),z($r({handler:d,reactEvent:se}))},[z,d]),re=R.useCallback(se=>{z(tL()),z($r({handler:h,reactEvent:se}))},[z,h]),he=R.useCallback(se=>{z(ME(se)),z($r({handler:m,reactEvent:se}))},[z,m]),ve=R.useCallback(()=>{z(fU())},[z]),ke=R.useCallback(se=>{z(cU(se.key))},[z]),j=R.useCallback(se=>{z($r({handler:l,reactEvent:se}))},[z,l]),oe=R.useCallback(se=>{z($r({handler:u,reactEvent:se}))},[z,u]),pe=R.useCallback(se=>{z($r({handler:f,reactEvent:se}))},[z,f]),ge=R.useCallback(se=>{z($r({handler:_,reactEvent:se}))},[z,_]),Ie=R.useCallback(se=>{z($r({handler:C,reactEvent:se}))},[z,C]),Oe=R.useCallback(se=>{k&&z(hU(se)),z($r({handler:b,reactEvent:se}))},[z,k,b]),Ne=R.useCallback(se=>{z($r({handler:A,reactEvent:se}))},[z,A]),Pt=Vse(q);return R.createElement(AL.Provider,{value:K},R.createElement(C$.Provider,{value:O},R.createElement(Pt,{width:F??(w==null?void 0:w.width),height:U??(w==null?void 0:w.height),className:vt("recharts-wrapper",r),style:xse({position:"relative",cursor:"default",width:F,height:U},w),onClick:we,onContextMenu:j,onDoubleClick:oe,onFocus:ve,onKeyDown:ke,onMouseDown:pe,onMouseEnter:W,onMouseLeave:re,onMouseMove:he,onMouseUp:ge,onTouchEnd:Ne,onTouchMove:Oe,onTouchStart:Ie,ref:ye},R.createElement(Mse,null),n)))}),Use=["width","height","responsive","children","className","style","compact","title","desc"];function qse(t,e){if(t==null)return{};var n,r,i=Bse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zse=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:f,title:d,desc:h}=t,m=qse(t,Use),_=Yi(m);return f?R.createElement(R.Fragment,null,R.createElement(Zm,{width:n,height:r}),R.createElement(aN,{otherAttributes:_,title:d,desc:h},a)):R.createElement(Lse,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(aN,{otherAttributes:_,title:d,desc:h,ref:e},R.createElement(hoe,null,a)))});function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(null,arguments)}var Fse={top:5,right:5,bottom:5,left:5},Hse={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Fse,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Gse=R.forwardRef(function(e,n){var r,i=ur(e.categoricalChartProps,Hse),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return R.createElement(yse,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},R.createElement(roe,{chartData:d.data}),R.createElement(vse,{layout:i.layout,margin:i.margin}),R.createElement(_se,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(zse,NE({},i,{ref:n})))}),$se=["axis"],Kse=R.forwardRef((t,e)=>R.createElement(Gse,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$se,tooltipPayloadSearcher:pne,categoricalChartProps:t,ref:e}));const Yc=t=>new Intl.NumberFormat("pt-AO",{style:"currency",currency:"AOA"}).format(t),jse=({data:t,onNavigate:e})=>{const n=R.useMemo(()=>t.clients.reduce((l,u)=>l+u.debt,0),[t.clients]),r=R.useMemo(()=>t.clients.reduce((l,u)=>l+u.bottlesOwed,0),[t.clients]),i=t.transactions.slice(0,5),a=R.useMemo(()=>[...t.transactions].reverse().slice(-10).map((l,u)=>({name:u.toString(),amount:l.type===He.EXPENSE?-l.amount:l.amount})),[t.transactions]);return H.jsxs("div",{className:"space-y-6 animate-fade-in",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[H.jsx(Oh,{title:"Caixa Atual",value:Yc(t.cashBalance),icon:H.jsx(L3,{className:"w-6 h-6 text-brand-500"}),colorClass:"text-brand-900"}),H.jsx(Oh,{title:"Total Kilapis",value:Yc(n),icon:H.jsx(lp,{className:"w-6 h-6 text-red-500"}),colorClass:"text-red-600",subtext:"Dinheiro na rua"}),H.jsx(Oh,{title:"Vasilhames em Falta",value:r,icon:H.jsx(gm,{className:"w-6 h-6 text-orange-500"}),colorClass:"text-orange-600",subtext:"Caixas/Garrafas com clientes"}),H.jsx(Oh,{title:"Lucro Estimado",value:Yc(t.cashBalance-n*.2),icon:H.jsx(sp,{className:"w-6 h-6 text-green-500"}),colorClass:"text-green-600",subtext:"Baseado no fluxo atual"})]}),H.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-brand-100",children:[H.jsx("h3",{className:"text-lg font-semibold text-brand-900 mb-4",children:"Fluxo Financeiro Recente"}),H.jsx("div",{className:"h-48 w-full",children:H.jsx(lJ,{width:"100%",height:"100%",children:H.jsxs(Kse,{data:a,children:[H.jsx(JL,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),H.jsx(rU,{hide:!0}),H.jsx(iU,{hide:!0}),H.jsx(Une,{formatter:l=>Yc(l)}),H.jsx(nU,{type:"monotone",dataKey:"amount",stroke:"#4a6da7",strokeWidth:3,dot:{r:4}})]})})})]}),H.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-brand-100 overflow-hidden",children:[H.jsxs("div",{className:"p-4 bg-brand-50 border-b border-brand-100 flex justify-between items-center",children:[H.jsx("h3",{className:"text-lg font-semibold text-brand-900",children:"ltimos Movimentos"}),H.jsx("button",{onClick:()=>e("TRANSACTIONS"),className:"text-sm text-brand-600 hover:underline",children:"Ver tudo"})]}),H.jsx("div",{className:"divide-y divide-brand-100",children:i.length===0?H.jsx("p",{className:"p-4 text-slate-500 text-center",children:"Nenhum movimento ainda."}):i.map(l=>H.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-slate-50 transition-colors",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs("div",{className:`p-2 rounded-full ${l.type===He.SALE?"bg-green-100 text-green-600":l.type===He.EXPENSE?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:[l.type===He.SALE&&H.jsx(sp,{size:16}),l.type===He.EXPENSE&&H.jsx(fN,{size:16}),l.type===He.DEBT_PAYMENT&&H.jsx(d3,{size:16})]}),H.jsxs("div",{children:[H.jsx("p",{className:"font-medium text-brand-900",children:l.description}),H.jsx("p",{className:"text-xs text-slate-500",children:new Date(l.date).toLocaleDateString()})]})]}),H.jsxs("span",{className:`font-bold ${l.type===He.EXPENSE?"text-red-600":"text-green-600"}`,children:[l.type===He.EXPENSE?"-":"+",Yc(l.amount)]})]},l.id))})]})]})},Yse=t=>new Intl.NumberFormat("pt-AO",{style:"currency",currency:"AOA"}).format(t),Jse=({clients:t,onAddClient:e,onPayDebt:n})=>{const[r,i]=R.useState(""),a=()=>{r.trim()&&(e(r),i(""))};return H.jsxs("div",{className:"space-y-4 animate-fade-in",children:[H.jsx("div",{className:"flex justify-between items-center",children:H.jsx("h2",{className:"text-2xl font-bold text-brand-900",children:"Gesto de Clientes & Kilapis"})}),H.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-brand-100",children:[H.jsx("h4",{className:"text-sm font-semibold text-brand-500 uppercase mb-2",children:"Adicionar Novo Cliente"}),H.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[H.jsx("input",{type:"text",value:r,onChange:l=>i(l.target.value),placeholder:"Nome do Cliente...",className:"w-full sm:flex-1 border border-slate-300 rounded-md px-3 py-2 focus:outline-none focus:border-brand-500 transition-colors"}),H.jsxs("button",{onClick:a,className:"w-full sm:w-auto bg-brand-500 text-white px-6 py-2 rounded-md hover:bg-brand-600 flex items-center justify-center gap-2 font-medium shadow-sm transition-colors",children:[H.jsx(ap,{size:18})," Adicionar"]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(l=>H.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-slate-200 relative group",children:[H.jsxs("div",{className:"flex justify-between items-start mb-4",children:[H.jsx("div",{className:"w-12 h-12 bg-brand-50 rounded-full flex items-center justify-center text-brand-600 font-bold text-lg",children:l.name.substring(0,2).toUpperCase()}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Dvida Total"}),H.jsx("p",{className:`text-xl font-bold ${l.debt>0?"text-red-600":"text-green-600"}`,children:Yse(l.debt)})]})]}),H.jsx("h3",{className:"text-lg font-bold text-brand-900 mb-2",children:l.name}),H.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-100 flex items-center justify-between mb-4",children:[H.jsxs("span",{className:"text-sm text-slate-600 flex items-center gap-2",children:[H.jsx(gm,{size:16})," Vasilhames devidos:"]}),H.jsx("span",{className:"font-bold text-slate-800",children:l.bottlesOwed})]}),H.jsx("div",{className:"flex gap-2 mt-2",children:H.jsx("button",{onClick:()=>n(l.id),className:"flex-1 bg-green-50 text-green-700 text-sm font-medium py-2 rounded hover:bg-green-100 border border-green-200 text-center transition-colors",children:"Pagar Kilapi"})})]},l.id)),t.length===0&&H.jsxs("div",{className:"col-span-full text-center py-10 text-slate-400",children:[H.jsx(lp,{size:48,className:"mx-auto mb-2 opacity-50"}),H.jsx("p",{children:"Nenhum cliente registado ainda."})]})]})]})},Wse=t=>new Intl.NumberFormat("pt-AO",{style:"currency",currency:"AOA"}).format(t),Xse=({transactions:t,onBack:e})=>H.jsxs("div",{className:"animate-fade-in",children:[H.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[H.jsx("button",{onClick:e,className:"text-slate-500 hover:text-brand-600",children:" Voltar"}),H.jsx("h2",{className:"text-2xl font-bold text-brand-900",children:"Histrico de Transaes"})]}),H.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[H.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[H.jsx("thead",{className:"bg-slate-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Data"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Descrio"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tipo"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Valor"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:t.map(n=>H.jsxs("tr",{children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(n.date).toLocaleDateString()}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:n.description}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:H.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                        ${n.type===He.SALE?"bg-green-100 text-green-800":n.type===He.EXPENSE?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:n.type})}),H.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-right font-bold ${n.type===He.EXPENSE?"text-red-600":"text-green-600"}`,children:Wse(n.amount)})]},n.id))})]}),t.length===0&&H.jsx("div",{className:"p-8 text-center text-slate-400",children:"No h transaes registradas."})]})]}),Qse=({isOpen:t,onClose:e,onSubmit:n,onAddDebt:r,initialType:i,clients:a,initialClientId:l})=>{const[u,f]=R.useState(i),[d,h]=R.useState(""),[m,_]=R.useState(""),[A,b]=R.useState(""),[C,w]=R.useState(0),[M,q]=R.useState(!0);if(R.useEffect(()=>{t&&(f(i),b(l||""),h(""),_(""),w(0),q(!0))},[t,i,l]),!t)return null;const k=()=>{const z=parseFloat(d);if(isNaN(z)||z<=0){alert("Insira um valor vlido.");return}n({type:u,amount:z,description:m,clientId:A,bottlesMoved:C,bottlesReturned:M})},G=()=>{const z=parseFloat(d);if(!isNaN(z)){if(!A){alert("Selecione um cliente para o Kilapi.");return}r({amount:z,description:m,clientId:A,bottlesMoved:C,bottlesReturned:M})}};return H.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center p-0 md:p-4 animate-fade-in",children:H.jsxs("div",{className:"bg-white w-full md:max-w-md md:rounded-xl rounded-t-xl p-6 shadow-xl",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsx("h3",{className:"text-xl font-bold text-brand-900",children:u===He.SALE?"Registrar Venda":u===He.EXPENSE?"Registrar Despesa":"Pagar Kilapi"}),H.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:""})]}),u!==He.DEBT_PAYMENT&&H.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[H.jsx("button",{onClick:()=>f(He.SALE),className:`py-2 rounded text-sm font-medium ${u===He.SALE?"bg-green-100 text-green-700 ring-2 ring-green-500":"bg-slate-100 text-slate-600"}`,children:"Venda"}),H.jsx("button",{onClick:()=>f(He.EXPENSE),className:`py-2 rounded text-sm font-medium ${u===He.EXPENSE?"bg-red-100 text-red-700 ring-2 ring-red-500":"bg-slate-100 text-slate-600"}`,children:"Despesa"}),H.jsx("button",{onClick:()=>alert("Para registar um Kilapi, selecione um cliente abaixo e clique 'Adicionar como Kilapi'."),className:"py-2 rounded text-sm font-medium bg-orange-100 text-orange-700",children:"Kilapi"})]}),H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor (Kz)"}),H.jsx("input",{type:"number",value:d,onChange:z=>h(z.target.value),className:"w-full text-2xl font-bold p-3 border border-slate-300 rounded focus:border-brand-500 focus:ring-1 focus:ring-brand-500 outline-none",placeholder:"0.00",autoFocus:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Descrio"}),H.jsx("input",{type:"text",value:m,onChange:z=>_(z.target.value),className:"w-full p-3 border border-slate-300 rounded outline-none focus:border-brand-500",placeholder:u===He.SALE?"Ex: 5 Cervejas Cuca":"Ex: Compra de Gelo"})]}),(u===He.SALE||u===He.DEBT_PAYMENT)&&H.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-200",children:[H.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Cliente ",u===He.SALE?"(Opcional)":"(Obrigatrio)"]}),H.jsxs("select",{value:A,onChange:z=>b(z.target.value),className:"w-full p-2 border border-slate-300 rounded bg-white",children:[H.jsx("option",{value:"",children:"Cliente Avulso"}),a.map(z=>H.jsx("option",{value:z.id,children:z.name},z.id))]})]}),(u===He.SALE||u===He.DEBT_PAYMENT)&&H.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-200",children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Vasilhames (Caixas)"}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("button",{onClick:()=>w(Math.max(0,C-1)),className:"bg-white p-1 border rounded shadow-sm",children:H.jsx(fN,{size:14})}),H.jsx("span",{className:"font-bold text-lg w-8 text-center",children:C}),H.jsx("button",{onClick:()=>w(C+1),className:"bg-white p-1 border rounded shadow-sm",children:H.jsx(ap,{size:14})})]})]}),C>0&&H.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[H.jsx("input",{type:"checkbox",id:"returned",checked:M,onChange:z=>q(z.target.checked),className:"w-5 h-5 text-brand-600 rounded"}),H.jsx("label",{htmlFor:"returned",className:"text-sm text-slate-700",children:u===He.SALE?"Entregou os vazios?":"Recebendo vazios?"})]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[u===He.SALE&&A&&H.jsx("button",{onClick:G,className:"bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-bold",children:"Kilapi"}),H.jsxs("button",{onClick:k,className:`${u===He.SALE&&A?"col-span-1":"col-span-2"} bg-brand-600 hover:bg-brand-700 text-white py-3 rounded-lg font-bold flex justify-center items-center gap-2`,children:[H.jsx(x3,{size:20})," ",u===He.SALE?"Salvar Venda":u===He.EXPENSE?"Salvar Despesa":"Confirmar"]})]})]})]})})},Zse=()=>H.jsxs("div",{className:"fixed inset-0 bg-brand-900 flex flex-col items-center justify-center z-50 animate-fade-in",children:[H.jsx("div",{className:"bg-white p-4 rounded-full mb-6 shadow-2xl animate-bounce",children:H.jsx(gm,{size:48,className:"text-brand-600"})}),H.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight mb-2",children:"Gestor Cerveja Pro"}),H.jsx("p",{className:"text-brand-200 text-sm tracking-widest uppercase",children:"Sistema de Gesto Inteligente"}),H.jsx("div",{className:"mt-12 w-48 h-1 bg-brand-800 rounded-full overflow-hidden",children:H.jsx("div",{className:"h-full bg-brand-400 animate-[width_2s_ease-in-out_infinite]",style:{width:"50%"}})})]}),ele=({onLogin:t})=>{const[e,n]=R.useState("Deuma"),[r,i]=R.useState(""),[a,l]=R.useState(""),[u,f]=R.useState(!1),d=h=>{h.preventDefault(),f(!0),l(""),setTimeout(()=>{e==="Deuma"&&r==="1234"?t(!0):(l("Credenciais incorretas. Tente novamente."),f(!1))},800)};return H.jsx("div",{className:"min-h-screen bg-brand-50 flex items-center justify-center p-4 font-sans",children:H.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl overflow-hidden border border-slate-100 animate-fade-in",children:[H.jsxs("div",{className:"bg-brand-600 p-8 text-center",children:[H.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-full mb-4 backdrop-blur-sm",children:H.jsx(M3,{className:"text-white w-8 h-8"})}),H.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bem-vindo de volta"}),H.jsx("p",{className:"text-brand-100 mt-2 text-sm",children:"Insira suas credenciais para acessar"})]}),H.jsx("div",{className:"p-8",children:H.jsxs("form",{onSubmit:d,className:"space-y-5",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1 ml-1",children:"Utilizador"}),H.jsxs("div",{className:"relative",children:[H.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:H.jsx(O3,{className:"h-5 w-5 text-slate-400"})}),H.jsx("input",{type:"text",value:e,onChange:h=>n(h.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 rounded-lg focus:ring-brand-500 focus:border-brand-500 transition-colors",placeholder:"Seu nome de utilizador"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1 ml-1",children:"Palavra-passe"}),H.jsxs("div",{className:"relative",children:[H.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:H.jsx(S3,{className:"h-5 w-5 text-slate-400"})}),H.jsx("input",{type:"password",value:r,onChange:h=>i(h.target.value),className:"block w-full pl-10 pr-3 py-3 border border-slate-300 rounded-lg focus:ring-brand-500 focus:border-brand-500 transition-colors",placeholder:"Sua senha"})]})]}),a&&H.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded border border-red-100",children:a}),H.jsxs("button",{type:"submit",disabled:u,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-bold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-70 disabled:cursor-not-allowed transition-all transform active:scale-[0.98]",children:[u?"Entrando...":"Entrar no Sistema",!u&&H.jsx(p3,{size:16})]})]})}),H.jsx("div",{className:"bg-slate-50 px-8 py-4 border-t border-slate-100 text-center",children:H.jsx("p",{className:"text-xs text-slate-400",children:"Protegido por Gestor Cerveja Pro v1.0"})})]})})},Jc=[{icon:H.jsx(v3,{className:"w-6 h-6 text-yellow-500"}),title:"Reinvestimento Inteligente",text:"Tente reinvestir pelo menos 30% do lucro em stock novo. Stock parado  dinheiro perdido, mas stock a girar  riqueza."},{icon:H.jsx(R3,{className:"w-6 h-6 text-red-500"}),title:"Controle de Kilapis",text:"Defina um limite mximo de crdito por cliente. Se o kilapi passar de 50.000 Kz, bloqueie novas vendas at pagar metade."},{icon:H.jsx(sp,{className:"w-6 h-6 text-green-500"}),title:"Vasilhame  Ativo",text:"Trate as caixas vazias como dinheiro. Perder vasilhame  o maior custo invisvel de um distribuidor."},{icon:H.jsx(T3,{className:"w-6 h-6 text-brand-500"}),title:"Fundo de Emergncia",text:"Separe 5% de cada venda para um fundo de manuteno (freezers, carrinha, gerador). No espere quebrar para arranjar."}],tle=()=>{const[t,e]=R.useState(0);return R.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%Jc.length)},5e3);return()=>clearInterval(n)},[]),H.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-brand-900 rounded-xl p-6 text-white shadow-lg relative overflow-hidden mb-8 transition-all duration-500",children:[H.jsx("div",{className:"absolute top-0 right-0 opacity-10 transform translate-x-4 -translate-y-4",children:H.jsx(sp,{size:120})}),H.jsxs("div",{className:"relative z-10",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-80",children:[H.jsx("span",{className:"text-xs font-bold tracking-widest uppercase bg-white/10 px-2 py-1 rounded",children:"Dica Rpida"}),H.jsx("div",{className:"flex gap-1",children:Jc.map((n,r)=>H.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${r===t?"w-6 bg-brand-400":"w-1.5 bg-slate-600"}`},r))})]}),H.jsx("div",{className:"min-h-[100px] flex flex-col justify-center transition-opacity duration-500 ease-in-out",children:H.jsxs("div",{className:"flex items-start gap-4",children:[H.jsx("div",{className:"bg-white/10 p-3 rounded-full backdrop-blur-sm",children:Jc[t].icon}),H.jsxs("div",{children:[H.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:Jc[t].title}),H.jsx("p",{className:"text-slate-300 text-sm leading-relaxed max-w-xl",children:Jc[t].text})]})]})})]})]})},nle=()=>{const[t,e]=R.useState(!0),[n,r]=R.useState(!1),[i,a]=R.useState("DASHBOARD"),[l,u]=R.useState(!1),[f,d]=R.useState(He.SALE),[h,m]=R.useState(void 0),[_,A]=R.useState(null),[b,C]=R.useState(!1),{data:w,loading:M,isOffline:q,actions:k}=g$();R.useEffect(()=>{const N=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(N)},[]);const G=N=>{N&&r(!0)},z=N=>{const B={id:Date.now().toString(),name:N,debt:0,bottlesOwed:0};k.addClient(B)},K=N=>{const{type:B,amount:V,description:F,clientId:U,bottlesMoved:ye,bottlesReturned:we}=N,W={id:Date.now().toString(),type:B,amount:V,description:F||(B===He.SALE?"Venda Diversa":"Despesa"),date:new Date().toISOString(),clientId:U||void 0,bottlesOut:!we&&B===He.SALE?ye:0,bottlesIn:B===He.DEBT_PAYMENT?ye:0};if(U){const re=w.clients.find(he=>he.id===U);if(re){let he={...re};B===He.SALE?!we&&ye>0&&(he.bottlesOwed+=ye):B===He.DEBT_PAYMENT&&(he.debt=Math.max(0,he.debt-V),ye>0&&(he.bottlesOwed=Math.max(0,he.bottlesOwed-ye))),k.updateClient(he)}}k.addTransaction(W),u(!1)},P=N=>{const{amount:B,description:V,clientId:F,bottlesMoved:U,bottlesReturned:ye}=N;if(F){const W=w.clients.find(re=>re.id===F);if(W){let re={...W};re.debt+=B,!ye&&U>0&&(re.bottlesOwed+=U),k.updateClient(re)}}const we={id:Date.now().toString(),type:He.SALE,amount:0,description:`KILAPI: ${V} (${new Intl.NumberFormat("pt-AO",{style:"currency",currency:"AOA"}).format(B)})`,date:new Date().toISOString(),clientId:F};k.addTransaction(we),u(!1)},O=async()=>{C(!0);const N=await h9(w);A(N),C(!1)};return t?H.jsx(Zse,{}):n?M?H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f0f4f8] text-brand-600 font-bold",children:"Carregando dados..."}):H.jsxs("div",{className:"min-h-screen bg-[#f0f4f8] font-sans pb-20 md:pb-0 animate-fade-in",children:[H.jsx("header",{className:"bg-white shadow-sm border-b border-slate-200 sticky top-0 z-30",children:H.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("div",{className:"bg-brand-600 p-1.5 rounded text-white",children:H.jsx(gm,{size:20})}),H.jsxs("div",{className:"flex flex-col",children:[H.jsx("span",{className:"text-xl font-bold text-brand-900 tracking-tight leading-none",children:"Gestor Cerveja Pro"}),q&&H.jsx("span",{className:"text-[10px] text-orange-500 font-bold uppercase tracking-wider",children:"Modo Offline (Sem Firebase)"})]})]}),H.jsx("nav",{className:"hidden md:flex space-x-8",children:[{id:"DASHBOARD",label:"Viso Geral",icon:IC},{id:"CLIENTS",label:"Clientes & Kilapis",icon:lp},{id:"ADVISOR",label:"Consultor IA",icon:Av}].map(N=>H.jsxs("button",{onClick:()=>a(N.id),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${i===N.id?"text-brand-600 bg-brand-50":"text-slate-600 hover:text-brand-600"}`,children:[H.jsx(N.icon,{size:18}),N.label]},N.id))}),H.jsx("div",{className:"hidden md:block",children:H.jsxs("button",{onClick:()=>{d(He.SALE),m(void 0),u(!0)},className:"bg-brand-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-brand-700 shadow-sm flex items-center gap-2",children:[H.jsx(ap,{size:16})," Novo Movimento"]})})]})}),H.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i==="DASHBOARD"&&H.jsx(jse,{data:w,onNavigate:N=>a(N)}),i==="TRANSACTIONS"&&H.jsx(Xse,{transactions:w.transactions,onBack:()=>a("DASHBOARD")}),i==="CLIENTS"&&H.jsx(Jse,{clients:w.clients,onAddClient:z,onPayDebt:N=>{m(N),d(He.DEBT_PAYMENT),u(!0)}}),i==="ADVISOR"&&H.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-fade-in",children:[H.jsxs("div",{className:"text-center mb-4",children:[H.jsx("h2",{className:"text-2xl font-bold text-brand-900",children:"Consultor de Negcios AI"}),H.jsx("p",{className:"text-slate-600 mt-1",children:"Inteligncia para o seu negcio crescer."})]}),H.jsx(tle,{}),H.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-brand-100",children:[!_&&!b&&H.jsxs("div",{className:"text-center py-8",children:[H.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-brand-50 rounded-full mb-4",children:H.jsx(Av,{className:"text-brand-600 w-7 h-7"})}),H.jsx("p",{className:"mb-6 text-slate-600 px-4",children:"Clique abaixo para analisar suas vendas, despesas e kilapis e receber um plano de crescimento personalizado."}),H.jsx("button",{onClick:O,className:"bg-brand-600 text-white px-6 py-3 rounded-full font-semibold shadow hover:bg-brand-700 transition-all transform hover:scale-105",children:"Gerar Plano de Crescimento"})]}),b&&H.jsxs("div",{className:"py-12 flex flex-col items-center",children:[H.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-brand-600 mb-4"}),H.jsx("p",{className:"text-slate-500 animate-pulse",children:"Analisando dados financeiros..."})]}),_&&!b&&H.jsxs("div",{className:"prose prose-slate max-w-none",children:[H.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-4",children:[H.jsx("h3",{className:"text-xl font-bold text-brand-900 m-0",children:"Recomendaes Estratgicas"}),H.jsx("button",{onClick:O,className:"text-sm text-brand-600 hover:underline",children:"Atualizar Anlise"})]}),H.jsx("div",{className:"text-slate-700 leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:_}})]})]})]})]}),H.jsx("div",{className:"md:hidden fixed bottom-20 right-4 z-40",children:H.jsx("button",{onClick:()=>{d(He.SALE),m(void 0),u(!0)},className:"bg-brand-600 text-white p-4 rounded-full shadow-lg hover:bg-brand-700 active:scale-95 transition-transform",children:H.jsx(ap,{size:28})})}),H.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around py-3 z-30 safe-area-pb",children:[H.jsxs("button",{onClick:()=>a("DASHBOARD"),className:`flex flex-col items-center ${i==="DASHBOARD"?"text-brand-600":"text-slate-400"}`,children:[H.jsx(IC,{size:24}),H.jsx("span",{className:"text-[10px] mt-1",children:"Incio"})]}),H.jsxs("button",{onClick:()=>a("CLIENTS"),className:`flex flex-col items-center ${i==="CLIENTS"?"text-brand-600":"text-slate-400"}`,children:[H.jsx(lp,{size:24}),H.jsx("span",{className:"text-[10px] mt-1",children:"Clientes"})]}),H.jsxs("button",{onClick:()=>a("ADVISOR"),className:`flex flex-col items-center ${i==="ADVISOR"?"text-brand-600":"text-slate-400"}`,children:[H.jsx(Av,{size:24}),H.jsx("span",{className:"text-[10px] mt-1",children:"Consultor"})]})]}),H.jsx(Qse,{isOpen:l,onClose:()=>u(!1),initialType:f,clients:w.clients,initialClientId:h,onSubmit:K,onAddDebt:P})]}):H.jsx(ele,{onLogin:G})},mU=document.getElementById("root");if(!mU)throw new Error("Could not find root element to mount to");const rle=o3.createRoot(mU);rle.render(H.jsx(lN.StrictMode,{children:H.jsx(nle,{})}));
